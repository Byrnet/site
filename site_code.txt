
Collecting site code from D:\github\bynet\site...
File: D:\github\bynet\site\.gitmodules

[submodule "themes/hugo-theme-cleanwhite"]
	path = themes/hugo-theme-cleanwhite
	url = https://github.com/zhaohuabing/hugo-theme-cleanwhite.git


==============================

File: D:\github\bynet\site\.hugo_build.lock


==============================

File: D:\github\bynet\site\AI_Content_Snapshot.txt

#file: config.toml
baseURL = "https://byrnet.github.io/site/"
languageCode = "ru-ru"
title = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚"
theme = "hugo-theme-cleanwhite"

[params]
  header_image = "img/home-bg.jpg"



#file: hugo.toml
baseURL = "https://byrnet.github.io/site/"
title = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚"
theme = "hugo-theme-cleanwhite"
languageCode = "ru-ru"
preserveTaxonomyNames = true
hasCJKLanguage = true

[services]
  # Enable comments by entering your Disqus shortname
  [services.disqus]
    shortname = ""
  [services.googleAnalytics]
    id = ""

[pagination]
  pagerSize = 5 # frontpage pagination

[outputs]
home = ["HTML", "RSS", "Algolia"]

[params]
  header_image = "img/home-bg-jeep.jpg"
  SEOTitle = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚ | Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚ Рё СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ"
  description = "РќРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹С… РїСЂРѕРµРєС‚РѕРІ: С„РёРЅР°РЅСЃРѕРІС‹Р№ Рё С‚РµС…РЅРёС‡РµСЃРєРёР№ РєРѕРЅС‚СЂРѕР»СЊ, СѓРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё Рё СЃС‚РѕРёРјРѕСЃС‚СЊСЋ, СЃС‚СЂРѕРёС‚РµР»СЊРЅР°СЏ СЌРєСЃРїРµСЂС‚РёР·Р°."
  keyword = "РїСЂРѕРµРєС‚ Р°СѓРґРёС‚, СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ Р°СѓРґРёС‚, С‚РµС…РЅР°РґР·РѕСЂ, СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ, С„РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚, СѓРїСЂР°РІР»РµРЅРёРµ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРѕРј"
  upstreamAttribution = true

  image_404 = "img/404-bg.jpg"
  title_404 = "РЎС‚СЂР°РЅРёС†Р° РЅРµ РЅР°Р№РґРµРЅР° :("
  omit_categories = false

  # leancloud storage for page view counter
  page_view_counter = false
  leancloud_app_id = ""
  leancloud_app_key = ""

  # algolia site search
  algolia_search = true
  algolia_appId = ""
  algolia_indexName = ""
  algolia_apiKey = ""

  # Sidebar settings
  sidebar_about_description = "Р’Р°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ РїР°СЂС‚РЅРµСЂ РІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ. РћР±РµСЃРїРµС‡РёРІР°РµРј РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ, РєРѕРЅС‚СЂРѕР»СЊ Р·Р°С‚СЂР°С‚ Рё СЃРѕР±Р»СЋРґРµРЅРёРµ СЃСЂРѕРєРѕРІ."
  sidebar_avatar = "img/zhaohuabing.png"

  featured_tags = true
  featured_condition_size = 1

  # Baidu Analytics
  ba_track_id = ""

  # We need a proxy to access Disqus api in China
  # Follow https://github.com/zhaohuabing/disqus-php-api to set up your own disqus proxy
  disqus_proxy = ""
  disqus_site = ""

  # Twikoo comments
  # Follow https://twikoo.js.org/ to set up your own env_id
  twikoo_env_id = ""

  # Artalk comments
  # Follow https://artalk.js.org/ to set up your own server
  artalk_enable = true
  artalk_server = "https://xxx.xxx.com"
  artalk_site = "xxx blog"

  #Enable wechat pay & alipay to allow readers send reward money if they like the articles
  reward = true

  friends = true
  bookmarks = false
  about_me = true

  # Include any custom CSS and/or JS files, url or relative to /static folder
  #custom_css = ["css/lightbox.css", "https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css", "css/main.css"]
  #custom_js = ["js/lightbox.js", "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js", "js/main.js"]

  [params.social]
  rss            = true
  email          = "youremail@gmail.com"
  linkedin       = "https://www.linkedin.com/in/yourlinkedinid"
  stackoverflow  = "https://stackoverflow.com/users/yourstackoverflowid"
  github         = "https://github.com/yourgithub"
  wechat         = "your wechat qr code image"

  [[params.additional_menus]]
  title =  "РђР РҐРР’"
  href =  "/archive/"
  [[params.additional_menus]]
  title =  "РЈРЎР›РЈР“Р"
  href =  "/services/"
  [[params.additional_menus]]
  title =  "Рћ РќРђРЎ"
  href =  "/about/"

[outputFormats.Algolia]
baseName = "algolia"
isPlainText = true
mediaType = "application/json"
notAlternative = true

[params.algolia]
vars = ["title", "summary", "date", "publishdate", "expirydate", "permalink"]
params = ["categories", "tags"]

[markup]
  [markup.tableOfContents]
    endLevel = 2
    startLevel = 1
  [markup.highlight]
    style = "dracula"
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true



#file: content\about\index.md
---
title: "Рћ РЅР°С€РµР№ РєРѕРјРїР°РЅРёРё"
layout: page
---

## РџСЂРѕРµРєС‚ РђСѓРґРёС‚: РЎС‚СЂРѕР№С‚Рµ СЃ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊСЋ. Р’Р°С€ РїСЂРѕРµРєС‚ РїРѕРґ РЅР°С€РµР№ Р·Р°С‰РёС‚РѕР№ РѕС‚ СЃРјРµС‚С‹ РґРѕ СЃРґР°С‡Рё.

Р’ РјРёСЂРµ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР° РєР°Р¶РґС‹Р№ СЂСѓР±Р»СЊ Рё РєР°Р¶РґС‹Р№ РґРµРЅСЊ РЅР° СЃС‡РµС‚Сѓ. РњР°Р»РµР№С€Р°СЏ РЅРµС‚РѕС‡РЅРѕСЃС‚СЊ РІ РїСЂРѕРµРєС‚Рµ РјРѕР¶РµС‚ РѕР±РµСЂРЅСѓС‚СЊСЃСЏ РјРЅРѕРіРѕРјРёР»Р»РёРѕРЅРЅС‹РјРё СѓР±С‹С‚РєР°РјРё Рё СЃРѕСЂРІР°РЅРЅС‹РјРё СЃСЂРѕРєР°РјРё. РљРѕРјРїР°РЅРёСЏ В«РџСЂРѕРµРєС‚ РђСѓРґРёС‚В» вЂ” СЌС‚Рѕ РІР°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ С‰РёС‚, РєРѕС‚РѕСЂС‹Р№ РѕР±РµСЃРїРµС‡РёРІР°РµС‚ С„РёРЅР°РЅСЃРѕРІСѓСЋ Рё С‚РµС…РЅРёС‡РµСЃРєСѓСЋ Р±РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ РґР»СЏ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё СЃРѕР±СЃС‚РІРµРЅРЅРёРєРѕРІ РЅР° РІСЃРµС… СЌС‚Р°РїР°С….

РќР°С€Р° РјРёСЃСЃРёСЏ вЂ” РїСЂРµРІСЂР°С‚РёС‚СЊ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Рµ СЂРёСЃРєРё РІ СѓРїСЂР°РІР»СЏРµРјС‹Рµ РїСЂРѕС†РµСЃСЃС‹, Р° РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё вЂ” РІ РіР°СЂР°РЅС‚РёСЂРѕРІР°РЅРЅС‹Р№ СЂРµР·СѓР»СЊС‚Р°С‚.

### РџРѕС‡РµРјСѓ РЅР°Рј РґРѕРІРµСЂСЏСЋС‚: С†РёС„СЂС‹ РіРѕРІРѕСЂСЏС‚ СЃР°РјРё Р·Р° СЃРµР±СЏ

Р—Р° **12 Р»РµС‚** СѓСЃРїРµС€РЅРѕР№ СЂР°Р±РѕС‚С‹ РјС‹ СЃРѕРїСЂРѕРІРѕРґРёР»Рё Р±РѕР»РµРµ **150 РїСЂРѕРµРєС‚РѕРІ**, СЃСЌРєРѕРЅРѕРјРёРІ РЅР°С€РёРј РєР»РёРµРЅС‚Р°Рј **РјРёР»Р»РёР°СЂРґС‹ СЂСѓР±Р»РµР№**. РќР°С€ РїРѕРґС…РѕРґ РЅР° РїСЂР°РєС‚РёРєРµ РґРѕРєР°Р·С‹РІР°РµС‚ СЃРІРѕСЋ СЌС„С„РµРєС‚РёРІРЅРѕСЃС‚СЊ.

> **РљРµР№СЃ Р–Рљ В«РџСЂРµРјСЊРµСЂВ»:** РќР°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё РїСЂРѕРµРєС‚Р° РїРѕР·РІРѕР»РёР» РёРЅРІРµСЃС‚РѕСЂСѓ СЃСЌРєРѕРЅРѕРјРёС‚СЊ **Р±РѕР»РµРµ 250 РјРёР»Р»РёРѕРЅРѕРІ СЂСѓР±Р»РµР№**, СЃРЅРёР·РёРІ РїРµСЂРІРѕРЅР°С‡Р°Р»СЊРЅСѓСЋ СЃС‚РѕРёРјРѕСЃС‚СЊ РЅР° **18%** Рё СѓРІРµР»РёС‡РёРІ СЂРµРЅС‚Р°Р±РµР»СЊРЅРѕСЃС‚СЊ РЅР° 7%.

**РЎ В«РџСЂРѕРµРєС‚ РђСѓРґРёС‚В» РІС‹ СЃС‚СЂРѕРёС‚Рµ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊ. РЎРІСЏР¶РёС‚РµСЃСЊ СЃ РЅР°РјРё, С‡С‚РѕР±С‹ РѕР±СЃСѓРґРёС‚СЊ РІР°С€ РїСЂРѕРµРєС‚ Рё СѓР·РЅР°С‚СЊ, РєР°Рє РјС‹ РјРѕР¶РµРј Р·Р°С‰РёС‚РёС‚СЊ РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё.**



#file: content\archive\index.md
---
title: "РђСЂС…РёРІ"
layout: archive
type: archive
description: "РђСЂС…РёРІ РЅР°С€РёС… РїСѓР±Р»РёРєР°С†РёР№ Рё РєРµР№СЃРѕРІ."
---



#file: content\cases\case-premier.md
---
title: "РљРµР№СЃ: РЎРЅРёР¶РµРЅРёРµ Р·Р°С‚СЂР°С‚ РЅР° 18% РїСЂРё СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ Р–Рљ"
date: 2025-06-15
---

# РљРµР№СЃ: Р­РєРѕРЅРѕРјРёСЏ 250 РјР»РЅ СЂСѓР±Р»РµР№ РЅР° РїСЂРѕРµРєС‚Рµ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° "РџСЂРµРјСЊРµСЂ"

**РљР»РёРµРЅС‚:** РљСЂСѓРїРЅС‹Р№ РёРЅРІРµСЃС‚РёС†РёРѕРЅРЅС‹Р№ С„РѕРЅРґ.

**Р—Р°РґР°С‡Р°:** РџСЂРѕРІРµСЃС‚Рё РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё Рё СЃРјРµС‚РЅС‹С… СЂР°СЃС‡РµС‚РѕРІ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё Рє СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІСѓ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° Р±РёР·РЅРµСЃ-РєР»Р°СЃСЃР°.

**Р§С‚Рѕ РјС‹ СЃРґРµР»Р°Р»Рё:**
1.  **РђРЅР°Р»РёР· СЃРјРµС‚:** РџСЂРѕРІРµСЂРёР»Рё Р±РѕР»РµРµ 2000 РїРѕР·РёС†РёР№ РІ СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. Р’С‹СЏРІРёР»Рё РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅРѕРµ Р·Р°РІС‹С€РµРЅРёРµ СЃС‚РѕРёРјРѕСЃС‚Рё Р»РѕРіРёСЃС‚РёРєРё Рё РјР°С‚РµСЂРёР°Р»РѕРІ РЅР° 12% РїРѕ СЃСЂР°РІРЅРµРЅРёСЋ СЃ СЂС‹РЅРѕС‡РЅС‹РјРё С†РµРЅР°РјРё.
2.  **РћРїС‚РёРјРёР·Р°С†РёСЏ РїСЂРѕРµРєС‚Р°:** РџСЂРµРґР»РѕР¶РёР»Рё Р·Р°РјРµРЅРёС‚СЊ РЅРµРєРѕС‚РѕСЂС‹Рµ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РёРјРїРѕСЂС‚РЅС‹Рµ РёРЅР¶РµРЅРµСЂРЅС‹Рµ СЃРёСЃС‚РµРјС‹ РЅР° РєР°С‡РµСЃС‚РІРµРЅРЅС‹Рµ РѕС‚РµС‡РµСЃС‚РІРµРЅРЅС‹Рµ Р°РЅР°Р»РѕРіРё, С‡С‚Рѕ РїРѕР·РІРѕР»РёР»Рѕ СЃРѕРєСЂР°С‚РёС‚СЊ СЂР°СЃС…РѕРґС‹ Р±РµР· РїРѕС‚РµСЂРё РІ РЅР°РґРµР¶РЅРѕСЃС‚Рё.
3.  **РџСЂРѕРІРµСЂРєР° РѕР±СЉРµРјРѕРІ:** РћР±РЅР°СЂСѓР¶РёР»Рё "Р·Р°РґРІРѕРµРЅРЅС‹Рµ" РѕР±СЉРµРјС‹ СЂР°Р±РѕС‚ РїРѕ Р±Р»Р°РіРѕСѓСЃС‚СЂРѕР№СЃС‚РІСѓ С‚РµСЂСЂРёС‚РѕСЂРёРё РЅР° СЃСѓРјРјСѓ 45 РјР»РЅ СЂСѓР±Р»РµР№.

**Р РµР·СѓР»СЊС‚Р°С‚:**

> РћР±С‰Р°СЏ СЃС‚РѕРёРјРѕСЃС‚СЊ РїСЂРѕРµРєС‚Р° Р±С‹Р»Р° СЃРЅРёР¶РµРЅР° РЅР° **18%**. РџСЂСЏРјР°СЏ СЌРєРѕРЅРѕРјРёСЏ РґР»СЏ РёРЅРІРµСЃС‚РѕСЂР° СЃРѕСЃС‚Р°РІРёР»Р° **Р±РѕР»РµРµ 250 РјР»РЅ СЂСѓР±Р»РµР№**, С‡С‚Рѕ РїРѕРІС‹СЃРёР»Рѕ СЂРµРЅС‚Р°Р±РµР»СЊРЅРѕСЃС‚СЊ РїСЂРѕРµРєС‚Р° РЅР° 7%.




#file: content\cases\_index.md
---
title: "РќР°С€Рё РєРµР№СЃС‹"
layout: list
---

Р—РґРµСЃСЊ СЃРѕР±СЂР°РЅС‹ РїСЂРёРјРµСЂС‹ РЅР°С€РµР№ СЂР°Р±РѕС‚С‹, РґРµРјРѕРЅСЃС‚СЂРёСЂСѓСЋС‰РёРµ, РєР°Рє РЅР°С€ РїРѕРґС…РѕРґ РїРѕРјРѕРіР°РµС‚ РєР»РёРµРЅС‚Р°Рј РґРѕСЃС‚РёРіР°С‚СЊ РїРѕСЃС‚Р°РІР»РµРЅРЅС‹С… С†РµР»РµР№, СЌРєРѕРЅРѕРјРёС‚СЊ Р±СЋРґР¶РµС‚ Рё РёР·Р±РµРіР°С‚СЊ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёС… РѕС€РёР±РѕРє.




#file: content\search\placeholder.md



#file: content\services\index.md
---
title: "РќР°С€Рё СѓСЃР»СѓРіРё"
layout: page
---

## РќР°С€ РѕРїС‹С‚ вЂ” РіР°СЂР°РЅС‚РёСЏ РІР°С€РµРіРѕ СЃРїРѕРєРѕР№СЃС‚РІРёСЏ

РњС‹ РѕР±Р»Р°РґР°РµРј РіР»СѓР±РѕРєРѕР№ СЌРєСЃРїРµСЂС‚РёР·РѕР№ РІ Р°СѓРґРёС‚Рµ СЃР°РјС‹С… СЂР°Р·РЅС‹С… РѕР±СЉРµРєС‚РѕРІ, РІРєР»СЋС‡Р°СЏ:

*   **Р–РёР»С‹Рµ Р·РґР°РЅРёСЏ:** РѕС‚ С‡Р°СЃС‚РЅС‹С… РєРѕС‚С‚РµРґР¶РµР№ РґРѕ РјРЅРѕРіРѕСЌС‚Р°Р¶РЅС‹С… Р¶РёР»С‹С… РєРѕРјРїР»РµРєСЃРѕРІ.
*   **РџСЂРѕРјС‹С€Р»РµРЅРЅС‹Рµ Р·РґР°РЅРёСЏ:** Р·Р°РІРѕРґС‹, СЃРєР»Р°РґС‹ Рё РїСЂРѕРёР·РІРѕРґСЃС‚РІРµРЅРЅС‹Рµ РїРѕРјРµС‰РµРЅРёСЏ.
*   **РЎР»РѕР¶РЅС‹Рµ РїСЂРѕРµРєС‚С‹:** СЂР°Р±РѕС‚С‹ РїРѕ СЂРµРјРѕРЅС‚Сѓ, СЂРµРєРѕРЅСЃС‚СЂСѓРєС†РёРё Рё СѓСЃРёР»РµРЅРёСЋ СЃСѓС‰РµСЃС‚РІСѓСЋС‰РёС… Р·РґР°РЅРёР№, СЃРѕРѕСЂСѓР¶РµРЅРёР№ Рё РѕС‚РґРµР»СЊРЅС‹С… РєРѕРЅСЃС‚СЂСѓРєС†РёР№.

---

## РљРѕРјРїР»РµРєСЃРЅС‹Рµ СЂРµС€РµРЅРёСЏ РґР»СЏ Р·Р°С‰РёС‚С‹ РІР°С€РёС… РёРЅРІРµСЃС‚РёС†РёР№

### 1. Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚
*Р­РєРѕРЅРѕРјРёСЏ РґРѕ 25% РµС‰Рµ РґРѕ РЅР°С‡Р°Р»Р° СЂР°Р±РѕС‚.* РњС‹ РїСЂРѕРІРѕРґРёРј СЃРєСЂСѓРїСѓР»РµР·РЅС‹Р№ Р°РЅР°Р»РёР· РїСЂРѕРµРєС‚РЅРѕР№ Рё СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё, РІС‹СЏРІР»СЏСЏ Р·Р°РІС‹С€РµРЅРЅС‹Рµ С†РµРЅС‹, РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹Рµ РѕР±СЉРµРјС‹ Рё СЃРєСЂС‹С‚С‹Рµ СЂРёСЃРєРё. РЎ РЅР°РјРё РІС‹ Р±СѓРґРµС‚Рµ СѓРІРµСЂРµРЅС‹, С‡С‚Рѕ РєР°Р¶РґС‹Р№ РІР»РѕР¶РµРЅРЅС‹Р№ СЂСѓР±Р»СЊ СЂР°Р±РѕС‚Р°РµС‚ РЅР° РІР°С€ РїСЂРѕРµРєС‚.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** РћРїС‚РёРјРёР·Р°С†РёСЏ Р±СЋРґР¶РµС‚Р° Рё РїСЂРµРґРѕС‚РІСЂР°С‰РµРЅРёРµ РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹С… СЂР°СЃС…РѕРґРѕРІ.

### 2. РЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅРёС‡РµСЃРєРёР№ РЅР°РґР·РѕСЂ)
*Р‘РµСЃРєРѕРјРїСЂРѕРјРёСЃСЃРЅРѕРµ РєР°С‡РµСЃС‚РІРѕ РЅР° РїР»РѕС‰Р°РґРєРµ.* РќР°С€Рё РёРЅР¶РµРЅРµСЂС‹ вЂ” СЌС‚Рѕ РІР°С€Рё РіР»Р°Р·Р° Рё СѓС€Рё РЅР° РѕР±СЉРµРєС‚Рµ. РњС‹ РіР°СЂР°РЅС‚РёСЂСѓРµРј, С‡С‚Рѕ РєР°Р¶РґС‹Р№ СЌС‚Р°Рї СЂР°Р±РѕС‚, РѕС‚ С„СѓРЅРґР°РјРµРЅС‚Р° РґРѕ РѕС‚РґРµР»РєРё, РІС‹РїРѕР»РЅСЏРµС‚СЃСЏ РІ СЃС‚СЂРѕРіРѕРј СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРё СЃ РїСЂРѕРµРєС‚РѕРј Рё РЅРѕСЂРјР°С‚РёРІРЅС‹РјРё С‚СЂРµР±РѕРІР°РЅРёСЏРјРё, РїСЂРµРґРѕС‚РІСЂР°С‰Р°СЏ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РѕС€РёР±РєРё Рё РґРµС„РµРєС‚С‹.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** РЎРѕР±Р»СЋРґРµРЅРёРµ С‚РµС…РЅРѕР»РѕРіРёР№ Рё РіР°СЂР°РЅС‚РёСЏ РєР°С‡РµСЃС‚РІР° РїРѕСЃС‚СЂРѕРµРЅРЅРѕРіРѕ РѕР±СЉРµРєС‚Р°.

### 3. РЈРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё Рё СЃС‚РѕРёРјРѕСЃС‚СЊСЋ
*РџСЂРѕРµРєС‚ СЃРґР°РЅ РІ СЃСЂРѕРє Рё РІ СЂР°РјРєР°С… Р±СЋРґР¶РµС‚Р°.* РњС‹ РјРѕР¶РµРј РІР·СЏС‚СЊ РЅР° СЃРµР±СЏ С„СѓРЅРєС†РёРё СЃР»СѓР¶Р±С‹ Р·Р°РєР°Р·С‡РёРєР°, СѓРїСЂР°РІР»СЏСЏ РІСЃРµРјРё РїСЂРѕС†РµСЃСЃР°РјРё: РѕС‚ РєРѕРѕСЂРґРёРЅР°С†РёРё РїРѕРґСЂСЏРґС‡РёРєРѕРІ РґРѕ РєРѕРЅС‚СЂРѕР»СЏ СЃСЂРѕРєРѕРІ Рё Р·Р°С‚СЂР°С‚. РќР°С€Р° СЃРёСЃС‚РµРјР° РѕС‚С‡РµС‚РЅРѕСЃС‚Рё РѕР±РµСЃРїРµС‡РёРІР°РµС‚ РІР°Рј РїРѕР»РЅСѓСЋ РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ Рё РєРѕРЅС‚СЂРѕР»СЊ.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** Р§РµС‚РєРѕРµ СЃРѕР±Р»СЋРґРµРЅРёРµ РіСЂР°С„РёРєР° Рё Р±СЋРґР¶РµС‚Р° Р±РµР· РІР°С€РµРіРѕ РµР¶РµРґРЅРµРІРЅРѕРіРѕ РїРѕРіСЂСѓР¶РµРЅРёСЏ РІ СЂСѓС‚РёРЅСѓ.

### 4. Р­РєСЃРїРµСЂС‚РёР·Р° Рё СЂР°Р·СЂРµС€РµРЅРёРµ СЃРїРѕСЂРѕРІ
*Р’Р°С€Р° СЃРёР»СЊРЅР°СЏ СЋСЂРёРґРёС‡РµСЃРєР°СЏ РїРѕР·РёС†РёСЏ.* Р’ СЃР»СѓС‡Р°Рµ СЂР°Р·РЅРѕРіР»Р°СЃРёР№ СЃ РїРѕРґСЂСЏРґС‡РёРєР°РјРё, РјС‹ РіРѕС‚РѕРІРёРј РІРµСЃРѕРјС‹Рµ СЌРєСЃРїРµСЂС‚РЅС‹Рµ Р·Р°РєР»СЋС‡РµРЅРёСЏ РґР»СЏ РґРѕСЃСѓРґРµР±РЅРѕРіРѕ СѓСЂРµРіСѓР»РёСЂРѕРІР°РЅРёСЏ РёР»Рё СЃСѓРґР°. РњС‹ РїРѕРјРѕРіР°РµРј РґРѕРєР°Р·Р°С‚СЊ РїСЂР°РІРѕС‚Сѓ РІ СЃРїРѕСЂР°С… Рѕ РєР°С‡РµСЃС‚РІРµ, РѕР±СЉРµРјР°С… Рё СЃС‚РѕРёРјРѕСЃС‚Рё СЂР°Р±РѕС‚.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** Р—Р°С‰РёС‚Р° РІР°С€РёС… Р°РєС‚РёРІРѕРІ Рё СЃРёР»СЊРЅР°СЏ РїРµСЂРµРіРѕРІРѕСЂРЅР°СЏ РїРѕР·РёС†РёСЏ.

**РЎРІСЏР¶РёС‚РµСЃСЊ СЃ РЅР°РјРё, С‡С‚РѕР±С‹ РѕР±СЃСѓРґРёС‚СЊ РІР°С€ РїСЂРѕРµРєС‚ Рё СѓР·РЅР°С‚СЊ, РєР°Рє РјС‹ РјРѕР¶РµРј Р·Р°С‰РёС‚РёС‚СЊ РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё.**

==============================

File: D:\github\bynet\site\AI_Snapshot_IndexOnly.txt

#file: index.xml
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>//localhost:1313/</link>
    <description>Recent content on </description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 09 Jan 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="//localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>РќР°С€Рё РїСЂРѕРµРєС‚С‹</title>
      <link>//localhost:1313/post/readme/</link>
      <pubDate>Wed, 09 Jan 2019 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/post/readme/</guid>
      <description>&lt;h1 id=&#34;clean-white-theme-for-hugo&#34;&gt;РќР°С€Рё РїСЂРѕРµРєС‚С‹&lt;/h1&gt;&#xA;&lt;p&gt;CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live &lt;a href=&#34;https://zhaohuabing.com&#34;&gt;demo site&lt;/a&gt; using this theme.&lt;/p&gt;&#xA;&lt;p&gt;It is based on &lt;a href=&#34;https://github.com/Huxpro/huxpro.github.io&#34;&gt;huxblog Jekyll Theme&lt;/a&gt;&#xA;and &lt;a href=&#34;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll&#34;&gt;Clean Blog Jekyll Theme&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;These two upstream projects have done awesome jobs to create a blog theme, what I&amp;rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&amp;rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.&#xA;While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</link>
      <pubDate>Mon, 04 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</guid>
      <description>&lt;p&gt;е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio 0.8 ReleaseеЏ‘еёѓ</title>
      <link>//localhost:1313/2018/06/02/istio08/</link>
      <pubDate>Sat, 02 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/02/istio08/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ&lt;/p&gt;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Everything about Setting Up My Ubuntu Desktop</title>
      <link>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</link>
      <pubDate>Thu, 24 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</guid>
      <description>&lt;h2 id=&#34;generate-ssh-key-pair&#34;&gt;Generate SSH Key Pair&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen -C &amp;#34;zhaohuabing@gmail.com&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;shadowsocks&#34;&gt;Shadowsocks&lt;/h2&gt;&#xA;&lt;p&gt;Install shadowsokcs&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install python3-pip&#xD;&#xA;&#xD;&#xA;sudo pip3 install shadowsocks&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Create config at &lt;code&gt;config/shadowsocks.json&lt;/code&gt;, with the following content:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;&#x9;&amp;#34;server&amp;#34;:&amp;#34;remote-shadowsocks-server-ip-addr&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;server_port&amp;#34;:443,&#xD;&#xA;&#x9;&amp;#34;local_address&amp;#34;:&amp;#34;127.0.0.1&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;local_port&amp;#34;:1080,&#xD;&#xA;&#x9;&amp;#34;password&amp;#34;:&amp;#34;your-passwd&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;timeout&amp;#34;:300,&#xD;&#xA;&#x9;&amp;#34;method&amp;#34;:&amp;#34;aes-256-cfb&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;fast_open&amp;#34;:false,&#xD;&#xA;&#x9;&amp;#34;workers&amp;#34;:1&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start a local socks proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo sslocal -c config/shadowsocks.json -d start&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case there is an openssl error, modify shadowsocks source file.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py &#xD;&#xA;&#xD;&#xA;:%s/cleanup/reset/gc&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Convert shadowsocks socks proxy to http proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install polipo&#xD;&#xA;&#xD;&#xA;echo &amp;#34;socksParentProxy = localhost:1080&amp;#34; | sudo tee -a /etc/polipo/config &#xD;&#xA;sudo service polipo restart&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Http proxy now is available at port 8123&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰</title>
      <link>//localhost:1313/2018/05/23/external_system_auth/</link>
      <pubDate>Wed, 23 May 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/external_system_auth/</guid>
      <description>&lt;h2 id=&#34;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&#34;&gt;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&lt;/h2&gt;&#xA;&lt;p&gt;й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&#34;&gt;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&lt;/h3&gt;&#xA;&lt;p&gt;еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;api-token&#34;&gt;API Token&lt;/h3&gt;&#xA;&lt;p&gt;жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ&lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў&lt;/a&gt;дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenжќҐи®їй—®Github API&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;oauth&#34;&gt;OAuth&lt;/h3&gt;&#xA;&lt;p&gt;жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚&#xA;OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљ&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚&#xA;дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST /oauth/token HTTP/1.1&#xD;&#xA;Host: authorization-server.com&#xD;&#xA; &#x9;&#x9;&#x9;&#xD;&#xA;grant_type=authorization_code&#xD;&#xA;&amp;amp;code=xxxxxxxxxxx&#xD;&#xA;&amp;amp;redirect_uri=https://example-app.com/redirect&#xD;&#xA;&amp;amp;client_id=xxxxxxxxxx&#xD;&#xA;&amp;amp;client_secret=xxxxxxxxxx&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-05-23-external_system_auth/oauth_web_server_flow.png&#34; alt=&#34;OAuthи®¤иЇЃжµЃзЁ‹&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ</title>
      <link>//localhost:1313/2018/05/23/service_2_service_auth/</link>
      <pubDate>Wed, 23 May 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/service_2_service_auth/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&#34;&gt;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;p&gt;й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Wed, 23 May 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;з›®еЅ•&#34;&gt;з›®еЅ•&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з›®еЅ•&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&#xA;&lt;img src=&#34;//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png&#34; alt=&#34;еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;h2 id=&#34;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&#34;&gt;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·иє«д»Ѕи®¤иЇЃ&#34;&gt;з”Ёж€·иє«д»Ѕи®¤иЇЃ&lt;/h3&gt;&#xA;&lt;p&gt;дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&#34;&gt;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&lt;/h3&gt;&#xA;&lt;p&gt;HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚&lt;a href=&#34;https://jwt.io&#34;&gt;JWT(Json Web Token)&lt;/a&gt;жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Header&lt;!-- raw HTML omitted --&gt;&#xA;е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;,&#xD;&#xA;  &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34;&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Payload&lt;!-- raw HTML omitted --&gt;&#xA;еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;sub&amp;#34;: &amp;#34;1234567890&amp;#34;,&#xD;&#xA;  &amp;#34;name&amp;#34;: &amp;#34;John Doe&amp;#34;,&#xD;&#xA;  &amp;#34;admin&amp;#34;: true&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Signature&lt;!-- raw HTML omitted --&gt;&#xA;TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚&#xA;з­ѕеђЌз®—жі•&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HMACSHA256(&#xD;&#xA;  base64UrlEncode(header) + &amp;#34;.&amp;#34; +&#xD;&#xA;  base64UrlEncode(payload),&#xD;&#xA;  secret)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё&amp;quot;.&amp;ldquo;е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token&#xA;&lt;img src=&#34;https://cdn.auth0.com/content/jwt/encoded-jwt3.png&#34; alt=&#34;xx&#34;&gt;&#xA;й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ&lt;a href=&#34;https://tools.ietf.org/html/rfc6750&#34;&gt;rfc6750&lt;/a&gt;иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†</title>
      <link>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</link>
      <pubDate>Wed, 23 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў</title>
      <link>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</link>
      <pubDate>Mon, 21 May 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;This series of articles are my notes of &amp;ldquo;Bitcoin and Cryptocurrency Technologies&amp;rdquo; online course.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;table-of-content&#34;&gt;Table of Content&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Table of Content&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;scrooge-coin-transaction&#34;&gt;Scrooge Coin Transaction&lt;/h2&gt;&#xA;&lt;p&gt;Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn&amp;rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:&#xA;&lt;img src=&#34;//localhost:1313/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png&#34; alt=&#34;Scrooge Coin&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е·ќиҐїз§еўѓжЋўй™©</title>
      <link>//localhost:1313/2018/05/01/may-day-jiulonghu/</link>
      <pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/01/may-day-jiulonghu/</guid>
      <description>&lt;h2 id=&#34;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&#34;&gt;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&lt;/h2&gt;&#xA;&lt;p&gt;дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚&#xA;е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Helmд»‹з»Ќ</title>
      <link>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</link>
      <pubDate>Mon, 16 Apr 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&#34;&gt;Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmжЇд»Ђд№€&#34;&gt;HelmжЇд»Ђд№€пјџ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (&lt;a href=&#34;https://deis.com/&#34;&gt;https://deis.com/&lt;/a&gt;) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&#34;&gt;Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Helm&lt;/p&gt;&#xA;&lt;p&gt;Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Tiller&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Chart&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Repoistory&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Release&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;е®‰иЈ…helm&#34;&gt;е®‰иЈ…Helm&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;дё‹иЅЅ Helm &lt;a href=&#34;https://github.com/kubernetes/helm/releases&#34;&gt;https://github.com/kubernetes/helm/releases&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz&lt;/li&gt;&#xA;&lt;li&gt;ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Helm init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;жћ„е»єдёЂдёЄhelm-chart&#34;&gt;жћ„е»єдёЂдёЄHelm chart&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</link>
      <pubDate>Wed, 11 Apr 2018 09:32:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</guid>
      <description>&lt;h2 id=&#34;service-mesh-vs-api-gateway&#34;&gt;Service Mesh vs API Gateway&lt;/h2&gt;&#xA;&lt;p&gt;ењЁ&lt;a href=&#34;https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a&#34;&gt;е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« &lt;/a&gt;дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gateway-е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„apiеђ‘е¤–йѓЁжљґйњІ&#34;&gt;API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ&lt;/h2&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;service-meshеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&#34;&gt;Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&lt;/h2&gt;&#xA;&lt;p&gt;зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gatewayе’Њservice-meshе®ћи·µ&#34;&gt;API Gatewayе’ЊService Meshе®ћи·µ&lt;/h2&gt;&#xA;&lt;p&gt;API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway-&amp;gt;Service Mesh-&amp;gt;Microservicesпј‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio</title>
      <link>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</link>
      <pubDate>Thu, 29 Mar 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</guid>
      <description>&lt;h2 id=&#34;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&#34;&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&lt;/h2&gt;&#xA;&lt;p&gt;дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†</title>
      <link>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</link>
      <pubDate>Tue, 13 Mar 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</guid>
      <description>&lt;h2 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h2&gt;&#xA;&lt;h3 id=&#34;и®ѕзЅ®dockerдЅїз”Ёhttp-proxy&#34;&gt;и®ѕзЅ®dockerдЅїз”Ёhttp proxy&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/default/docker&#xD;&#xA;&#xD;&#xA;export http_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export https_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTP_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTPS_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Vim Tips</title>
      <link>//localhost:1313/2018/02/09/vim-tips/</link>
      <pubDate>Fri, 09 Feb 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/vim-tips/</guid>
      <description>&lt;h2 id=&#34;vim-graphical-cheat-sheet&#34;&gt;vim graphical cheat sheet&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</title>
      <link>//localhost:1313/2018/02/09/docker-without-sudo/</link>
      <pubDate>Fri, 09 Feb 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/docker-without-sudo/</guid>
      <description>&lt;h3 id=&#34;add-the-docker-group-if-it-doesnt-already-exist&#34;&gt;Add the docker group if it doesn&amp;rsquo;t already exist:&lt;/h3&gt;&#xA;&lt;p&gt;sudo groupadd docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user&#34;&gt;Add the connected user &amp;ldquo;$USER&amp;rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:&lt;/h3&gt;&#xA;&lt;p&gt;sudo gpasswd -a $USER docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups&#34;&gt;Either do a newgrp docker or log out/in to activate the changes to groups.&lt;/h3&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Sat, 03 Feb 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—</title>
      <link>//localhost:1313/2018/01/02/nginmesh-install/</link>
      <pubDate>Tue, 02 Jan 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/01/02/nginmesh-install/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ</title>
      <link>//localhost:1313/2017/11/28/access-application-from-outside/</link>
      <pubDate>Tue, 28 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/28/access-application-from-outside/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)</title>
      <link>//localhost:1313/2017/11/08/istio-canary-release/</link>
      <pubDate>Wed, 08 Nov 2017 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/08/istio-canary-release/</guid>
      <description>&lt;h2 id=&#34;зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ&lt;/h2&gt;&#xA;&lt;p&gt;еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ANYTHING THAN CAN GO WRONG WILL GO WRONG&amp;rdquo;  &amp;ndash;MURPHY&amp;rsquo;S LAW&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐйЂљиї‡&lt;a href=&#34;https://martinfowler.com/bliki/CanaryRelease.html&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰&lt;/a&gt;жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployment.PNG&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓй‡‘дёќй›ЂеЏ‘еёѓзљ„еЋџзђ†&#34;&gt;Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†&lt;/h2&gt;&#xA;&lt;p&gt;д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„&lt;a href=&#34;https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/&#34;&gt;ж»љеЉЁеЌ‡зє§(rolling update)&lt;/a&gt;еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployments.gif&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ж“ЌдЅњж­ҐйЄ¤&#34;&gt;ж“ЌдЅњж­ҐйЄ¤&lt;/h2&gt;&#xA;&lt;p&gt;дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&#34;&gt;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏ‚иЂѓ&lt;a href=&#34;http://zhaohuabing.com/2017/11/04/istio-install_and_example/&#34;&gt;ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ&lt;/a&gt;е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;istio-0.2.10/samples/bookinfo/kube/cleanup.sh&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;йѓЁзЅІv1з‰€жњ¬зљ„жњЌеЉЎ&#34;&gt;йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v2&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v2&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v2:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080&#xD;&#xA;---&#xD;&#xA;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v3&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v3&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v3:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080    &#xD;&#xA;---         &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»</title>
      <link>//localhost:1313/2017/11/07/istio-traffic-shifting/</link>
      <pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/07/istio-traffic-shifting/</guid>
      <description>&lt;p&gt;е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ&lt;a href=&#34;http://istio.doczh.cn/&#34;&gt;istioдё­ж–‡ж–‡жЎЈ&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЋџж–‡еЏ‚и§Ѓ&lt;a href=&#34;https://istio.io/docs/tasks/traffic-management/traffic-shifting.html&#34;&gt;Traffic Shifting&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°</title>
      <link>//localhost:1313/2017/11/04/istio-install_and_example/</link>
      <pubDate>Sat, 04 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/04/istio-install_and_example/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎзЅ‘ж јз®Ђд»‹&#34;&gt;жњЌеЉЎзЅ‘ж јз®Ђд»‹&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;жњЌеЉЎзЅ‘ж ј&lt;/strong&gt;пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ&lt;strong&gt;жћ¶жћ„жЁЎејЏ&lt;/strong&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Welcome to Zhaohuabing Blog</title>
      <link>//localhost:1313/2017/11/03/hello-world/</link>
      <pubDate>Sat, 04 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/03/hello-world/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;вЂњYeah It&amp;rsquo;s on. вЂќ&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;hello-world&#34;&gt;Hello World!&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/about/</guid>
      <description>&lt;h2 id=&#34;about-me&#34;&gt;About Me&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;&lt;em&gt;Huabing Zhao&lt;/em&gt;&lt;/strong&gt; is a software architect, an Istio Member and an ONAP PTL. He has a solid experience in the information and telecommunication technology industry for more than 17 years.&lt;/p&gt;&#xA;&lt;p&gt;Throughout his career, he has built a number of large-scale, cross-country software systems, most of them are still running in production.&lt;/p&gt;&#xA;&lt;p&gt;He loves open source and has been contributing to various open source projects, he is a member of Istio,  previous PTL of ONAP, the author of the Hugo clean-white theme and the open source project Aeraki Mesh.&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/notes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/notes/</guid>
      <description>&lt;h2 id=&#34;go-иЇ­иЁЂе­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-golang&#34;&gt;Go иЇ­иЁЂе­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;h2 id=&#34;envoy-е­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-envoy&#34;&gt;Envoy е­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/search/placeholder/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/search/placeholder/</guid>
      <description></description>
    </item>
    <item>
      <title>Posts Archive</title>
      <link>//localhost:1313/archive/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/archive/</guid>
      <description></description>
    </item>
  </channel>
</rss>



#file: content\about\index.md
---
title: "О нашей компании"
layout: page
---

## Ваш независимый партнер в строительстве

**«Аудит строительных проектов»** — это команда экспертов в области инжиниринга, финансов и управления, призванная защищать интересы инвесторов, девелоперов и собственников на каждом этапе реализации строительного проекта.

Наша миссия — обеспечить полную прозрачность, контроль над затратами и соблюдение сроков. Мы превращаем риски в управляемые процессы, а инвестиции — в гарантированный результат. С нами вы строите уверенность.

### Наша экспертиза:

*   **Финансово-технический аудит:** Проверка смет, договоров и проектной документации для предотвращения необоснованных расходов.
*   **Строительный контроль (Технадзор):** Гарантия того, что работы на площадке соответствуют проекту, СНиПам и стандартам качества.
*   **Управление проектами:** Полное сопровождение проекта от идеи до ввода в эксплуатацию, действуя как ваша внутренняя служба заказчика.
*   **Судебная и досудебная экспертиза:** Защита ваших интересов в спорах с подрядчиками и государственными органами.

За 12 лет работы мы успешно сопроводили более 150 проектов, сэкономив нашим клиентам миллиарды рублей.




#file: content\archive\index.md
---
title: "Posts Archive"
layout: archive
type: archive
description: Archive of historical posts.
---


#file: content\notes\index.md
---
layout: page
---

## [Go иЇ­иЁЂе­¦д№ з¬”и®°](https://zhaohuabing.com/learning-golang)

## [Envoy е­¦д№ з¬”и®°](https://zhaohuabing.com/learning-envoy) 




#file: content\services\index.md
---
title: "Наши услуги"
layout: page
---

## Комплексные решения для защиты ваших инвестиций

Мы предлагаем полный спектр услуг для инвесторов, девелоперов и заказчиков строительства, обеспечивая контроль на всех этапах жизненного цикла проекта.

### 1. Финансово-технический аудит
Проводим комплексную проверку проектной и сметной документации. Наша цель — исключить завышение объемов работ, цен на материалы и выявить скрытые риски до начала строительства.
> **Результат:** Экономия до 25% от первоначального бюджета.

### 2. Строительный контроль (Технический надзор)
Наши инженеры осуществляют постоянный контроль качества строительно-монтажных работ на площадке. Мы гарантируем, что каждый этап выполняется в строгом соответствии с проектом и нормативными требованиями.
> **Результат:** Предотвращение критических дефектов и соблюдение технологий.

### 3. Управление проектами и стоимостью
Берем на себя функции службы заказчика, управляя бюджетом, сроками и взаимодействием с подрядчиками. Наша система отчетности обеспечивает полную прозрачность для инвестора.
> **Результат:** Проект сдан в срок и в рамках утвержденного бюджета.

### 4. Экспертиза и разрешение споров
Готовим экспертные заключения для досудебного урегулирования и представляем ваши интересы в суде. Помогаем доказать правоту в спорах о качестве, объемах и стоимости выполненных работ.
> **Результат:** Сильная юридическая позиция и защита ваших активов.




#file: post\index.xml
<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on </title>
    <link>//localhost:1313/post/</link>
    <description>Recent content in Posts on </description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 09 Jan 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="//localhost:1313/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>РќР°С€Рё РїСЂРѕРµРєС‚С‹</title>
      <link>//localhost:1313/post/readme/</link>
      <pubDate>Wed, 09 Jan 2019 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/post/readme/</guid>
      <description>&lt;h1 id=&#34;clean-white-theme-for-hugo&#34;&gt;РќР°С€Рё РїСЂРѕРµРєС‚С‹&lt;/h1&gt;&#xA;&lt;p&gt;CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live &lt;a href=&#34;https://zhaohuabing.com&#34;&gt;demo site&lt;/a&gt; using this theme.&lt;/p&gt;&#xA;&lt;p&gt;It is based on &lt;a href=&#34;https://github.com/Huxpro/huxpro.github.io&#34;&gt;huxblog Jekyll Theme&lt;/a&gt;&#xA;and &lt;a href=&#34;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll&#34;&gt;Clean Blog Jekyll Theme&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;These two upstream projects have done awesome jobs to create a blog theme, what I&amp;rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&amp;rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.&#xA;While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</link>
      <pubDate>Mon, 04 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</guid>
      <description>&lt;p&gt;е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio 0.8 ReleaseеЏ‘еёѓ</title>
      <link>//localhost:1313/2018/06/02/istio08/</link>
      <pubDate>Sat, 02 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/02/istio08/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ&lt;/p&gt;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Everything about Setting Up My Ubuntu Desktop</title>
      <link>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</link>
      <pubDate>Thu, 24 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</guid>
      <description>&lt;h2 id=&#34;generate-ssh-key-pair&#34;&gt;Generate SSH Key Pair&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen -C &amp;#34;zhaohuabing@gmail.com&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;shadowsocks&#34;&gt;Shadowsocks&lt;/h2&gt;&#xA;&lt;p&gt;Install shadowsokcs&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install python3-pip&#xD;&#xA;&#xD;&#xA;sudo pip3 install shadowsocks&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Create config at &lt;code&gt;config/shadowsocks.json&lt;/code&gt;, with the following content:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;&#x9;&amp;#34;server&amp;#34;:&amp;#34;remote-shadowsocks-server-ip-addr&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;server_port&amp;#34;:443,&#xD;&#xA;&#x9;&amp;#34;local_address&amp;#34;:&amp;#34;127.0.0.1&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;local_port&amp;#34;:1080,&#xD;&#xA;&#x9;&amp;#34;password&amp;#34;:&amp;#34;your-passwd&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;timeout&amp;#34;:300,&#xD;&#xA;&#x9;&amp;#34;method&amp;#34;:&amp;#34;aes-256-cfb&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;fast_open&amp;#34;:false,&#xD;&#xA;&#x9;&amp;#34;workers&amp;#34;:1&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start a local socks proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo sslocal -c config/shadowsocks.json -d start&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case there is an openssl error, modify shadowsocks source file.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py &#xD;&#xA;&#xD;&#xA;:%s/cleanup/reset/gc&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Convert shadowsocks socks proxy to http proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install polipo&#xD;&#xA;&#xD;&#xA;echo &amp;#34;socksParentProxy = localhost:1080&amp;#34; | sudo tee -a /etc/polipo/config &#xD;&#xA;sudo service polipo restart&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Http proxy now is available at port 8123&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰</title>
      <link>//localhost:1313/2018/05/23/external_system_auth/</link>
      <pubDate>Wed, 23 May 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/external_system_auth/</guid>
      <description>&lt;h2 id=&#34;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&#34;&gt;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&lt;/h2&gt;&#xA;&lt;p&gt;й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&#34;&gt;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&lt;/h3&gt;&#xA;&lt;p&gt;еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;api-token&#34;&gt;API Token&lt;/h3&gt;&#xA;&lt;p&gt;жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ&lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў&lt;/a&gt;дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenжќҐи®їй—®Github API&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;oauth&#34;&gt;OAuth&lt;/h3&gt;&#xA;&lt;p&gt;жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚&#xA;OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљ&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚&#xA;дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST /oauth/token HTTP/1.1&#xD;&#xA;Host: authorization-server.com&#xD;&#xA; &#x9;&#x9;&#x9;&#xD;&#xA;grant_type=authorization_code&#xD;&#xA;&amp;amp;code=xxxxxxxxxxx&#xD;&#xA;&amp;amp;redirect_uri=https://example-app.com/redirect&#xD;&#xA;&amp;amp;client_id=xxxxxxxxxx&#xD;&#xA;&amp;amp;client_secret=xxxxxxxxxx&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-05-23-external_system_auth/oauth_web_server_flow.png&#34; alt=&#34;OAuthи®¤иЇЃжµЃзЁ‹&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ</title>
      <link>//localhost:1313/2018/05/23/service_2_service_auth/</link>
      <pubDate>Wed, 23 May 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/service_2_service_auth/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&#34;&gt;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;p&gt;й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Wed, 23 May 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;з›®еЅ•&#34;&gt;з›®еЅ•&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з›®еЅ•&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&#xA;&lt;img src=&#34;//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png&#34; alt=&#34;еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;h2 id=&#34;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&#34;&gt;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·иє«д»Ѕи®¤иЇЃ&#34;&gt;з”Ёж€·иє«д»Ѕи®¤иЇЃ&lt;/h3&gt;&#xA;&lt;p&gt;дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&#34;&gt;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&lt;/h3&gt;&#xA;&lt;p&gt;HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚&lt;a href=&#34;https://jwt.io&#34;&gt;JWT(Json Web Token)&lt;/a&gt;жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Header&lt;!-- raw HTML omitted --&gt;&#xA;е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;,&#xD;&#xA;  &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34;&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Payload&lt;!-- raw HTML omitted --&gt;&#xA;еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;sub&amp;#34;: &amp;#34;1234567890&amp;#34;,&#xD;&#xA;  &amp;#34;name&amp;#34;: &amp;#34;John Doe&amp;#34;,&#xD;&#xA;  &amp;#34;admin&amp;#34;: true&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Signature&lt;!-- raw HTML omitted --&gt;&#xA;TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚&#xA;з­ѕеђЌз®—жі•&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HMACSHA256(&#xD;&#xA;  base64UrlEncode(header) + &amp;#34;.&amp;#34; +&#xD;&#xA;  base64UrlEncode(payload),&#xD;&#xA;  secret)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё&amp;quot;.&amp;ldquo;е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token&#xA;&lt;img src=&#34;https://cdn.auth0.com/content/jwt/encoded-jwt3.png&#34; alt=&#34;xx&#34;&gt;&#xA;й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ&lt;a href=&#34;https://tools.ietf.org/html/rfc6750&#34;&gt;rfc6750&lt;/a&gt;иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†</title>
      <link>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</link>
      <pubDate>Wed, 23 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў</title>
      <link>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</link>
      <pubDate>Mon, 21 May 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;This series of articles are my notes of &amp;ldquo;Bitcoin and Cryptocurrency Technologies&amp;rdquo; online course.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;table-of-content&#34;&gt;Table of Content&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Table of Content&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;scrooge-coin-transaction&#34;&gt;Scrooge Coin Transaction&lt;/h2&gt;&#xA;&lt;p&gt;Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn&amp;rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:&#xA;&lt;img src=&#34;//localhost:1313/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png&#34; alt=&#34;Scrooge Coin&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е·ќиҐїз§еўѓжЋўй™©</title>
      <link>//localhost:1313/2018/05/01/may-day-jiulonghu/</link>
      <pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/01/may-day-jiulonghu/</guid>
      <description>&lt;h2 id=&#34;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&#34;&gt;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&lt;/h2&gt;&#xA;&lt;p&gt;дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚&#xA;е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Helmд»‹з»Ќ</title>
      <link>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</link>
      <pubDate>Mon, 16 Apr 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&#34;&gt;Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmжЇд»Ђд№€&#34;&gt;HelmжЇд»Ђд№€пјџ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (&lt;a href=&#34;https://deis.com/&#34;&gt;https://deis.com/&lt;/a&gt;) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&#34;&gt;Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Helm&lt;/p&gt;&#xA;&lt;p&gt;Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Tiller&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Chart&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Repoistory&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Release&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;е®‰иЈ…helm&#34;&gt;е®‰иЈ…Helm&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;дё‹иЅЅ Helm &lt;a href=&#34;https://github.com/kubernetes/helm/releases&#34;&gt;https://github.com/kubernetes/helm/releases&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz&lt;/li&gt;&#xA;&lt;li&gt;ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Helm init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;жћ„е»єдёЂдёЄhelm-chart&#34;&gt;жћ„е»єдёЂдёЄHelm chart&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</link>
      <pubDate>Wed, 11 Apr 2018 09:32:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</guid>
      <description>&lt;h2 id=&#34;service-mesh-vs-api-gateway&#34;&gt;Service Mesh vs API Gateway&lt;/h2&gt;&#xA;&lt;p&gt;ењЁ&lt;a href=&#34;https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a&#34;&gt;е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« &lt;/a&gt;дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gateway-е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„apiеђ‘е¤–йѓЁжљґйњІ&#34;&gt;API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ&lt;/h2&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;service-meshеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&#34;&gt;Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&lt;/h2&gt;&#xA;&lt;p&gt;зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gatewayе’Њservice-meshе®ћи·µ&#34;&gt;API Gatewayе’ЊService Meshе®ћи·µ&lt;/h2&gt;&#xA;&lt;p&gt;API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway-&amp;gt;Service Mesh-&amp;gt;Microservicesпј‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio</title>
      <link>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</link>
      <pubDate>Thu, 29 Mar 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</guid>
      <description>&lt;h2 id=&#34;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&#34;&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&lt;/h2&gt;&#xA;&lt;p&gt;дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†</title>
      <link>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</link>
      <pubDate>Tue, 13 Mar 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</guid>
      <description>&lt;h2 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h2&gt;&#xA;&lt;h3 id=&#34;и®ѕзЅ®dockerдЅїз”Ёhttp-proxy&#34;&gt;и®ѕзЅ®dockerдЅїз”Ёhttp proxy&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/default/docker&#xD;&#xA;&#xD;&#xA;export http_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export https_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTP_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTPS_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Vim Tips</title>
      <link>//localhost:1313/2018/02/09/vim-tips/</link>
      <pubDate>Fri, 09 Feb 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/vim-tips/</guid>
      <description>&lt;h2 id=&#34;vim-graphical-cheat-sheet&#34;&gt;vim graphical cheat sheet&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</title>
      <link>//localhost:1313/2018/02/09/docker-without-sudo/</link>
      <pubDate>Fri, 09 Feb 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/docker-without-sudo/</guid>
      <description>&lt;h3 id=&#34;add-the-docker-group-if-it-doesnt-already-exist&#34;&gt;Add the docker group if it doesn&amp;rsquo;t already exist:&lt;/h3&gt;&#xA;&lt;p&gt;sudo groupadd docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user&#34;&gt;Add the connected user &amp;ldquo;$USER&amp;rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:&lt;/h3&gt;&#xA;&lt;p&gt;sudo gpasswd -a $USER docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups&#34;&gt;Either do a newgrp docker or log out/in to activate the changes to groups.&lt;/h3&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Sat, 03 Feb 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—</title>
      <link>//localhost:1313/2018/01/02/nginmesh-install/</link>
      <pubDate>Tue, 02 Jan 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/01/02/nginmesh-install/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ</title>
      <link>//localhost:1313/2017/11/28/access-application-from-outside/</link>
      <pubDate>Tue, 28 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/28/access-application-from-outside/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)</title>
      <link>//localhost:1313/2017/11/08/istio-canary-release/</link>
      <pubDate>Wed, 08 Nov 2017 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/08/istio-canary-release/</guid>
      <description>&lt;h2 id=&#34;зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ&lt;/h2&gt;&#xA;&lt;p&gt;еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ANYTHING THAN CAN GO WRONG WILL GO WRONG&amp;rdquo;  &amp;ndash;MURPHY&amp;rsquo;S LAW&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐйЂљиї‡&lt;a href=&#34;https://martinfowler.com/bliki/CanaryRelease.html&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰&lt;/a&gt;жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployment.PNG&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓй‡‘дёќй›ЂеЏ‘еёѓзљ„еЋџзђ†&#34;&gt;Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†&lt;/h2&gt;&#xA;&lt;p&gt;д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„&lt;a href=&#34;https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/&#34;&gt;ж»љеЉЁеЌ‡зє§(rolling update)&lt;/a&gt;еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployments.gif&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ж“ЌдЅњж­ҐйЄ¤&#34;&gt;ж“ЌдЅњж­ҐйЄ¤&lt;/h2&gt;&#xA;&lt;p&gt;дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&#34;&gt;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏ‚иЂѓ&lt;a href=&#34;http://zhaohuabing.com/2017/11/04/istio-install_and_example/&#34;&gt;ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ&lt;/a&gt;е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;istio-0.2.10/samples/bookinfo/kube/cleanup.sh&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;йѓЁзЅІv1з‰€жњ¬зљ„жњЌеЉЎ&#34;&gt;йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v2&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v2&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v2:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080&#xD;&#xA;---&#xD;&#xA;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v3&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v3&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v3:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080    &#xD;&#xA;---         &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»</title>
      <link>//localhost:1313/2017/11/07/istio-traffic-shifting/</link>
      <pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/07/istio-traffic-shifting/</guid>
      <description>&lt;p&gt;е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ&lt;a href=&#34;http://istio.doczh.cn/&#34;&gt;istioдё­ж–‡ж–‡жЎЈ&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЋџж–‡еЏ‚и§Ѓ&lt;a href=&#34;https://istio.io/docs/tasks/traffic-management/traffic-shifting.html&#34;&gt;Traffic Shifting&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°</title>
      <link>//localhost:1313/2017/11/04/istio-install_and_example/</link>
      <pubDate>Sat, 04 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/04/istio-install_and_example/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎзЅ‘ж јз®Ђд»‹&#34;&gt;жњЌеЉЎзЅ‘ж јз®Ђд»‹&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;жњЌеЉЎзЅ‘ж ј&lt;/strong&gt;пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ&lt;strong&gt;жћ¶жћ„жЁЎејЏ&lt;/strong&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Welcome to Zhaohuabing Blog</title>
      <link>//localhost:1313/2017/11/03/hello-world/</link>
      <pubDate>Sat, 04 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/03/hello-world/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;вЂњYeah It&amp;rsquo;s on. вЂќ&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;hello-world&#34;&gt;Hello World!&lt;/h2&gt;</description>
    </item>
  </channel>
</rss>



#file: Restored_Project\content\about\index.md
---
title: "О нашей компании"
layout: page
---

## Ваш независимый партнер в строительстве

**«Аудит строительных проектов»** — это команда экспертов в области инжиниринга, финансов и управления, призванная защищать интересы инвесторов, девелоперов и собственников на каждом этапе реализации строительного проекта.

Наша миссия — обеспечить полную прозрачность, контроль над затратами и соблюдение сроков. Мы превращаем риски в управляемые процессы, а инвестиции — в гарантированный результат. С нами вы строите уверенность.

### Наша экспертиза:

*   **Финансово-технический аудит:** Проверка смет, договоров и проектной документации для предотвращения необоснованных расходов.
*   **Строительный контроль (Технадзор):** Гарантия того, что работы на площадке соответствуют проекту, СНиПам и стандартам качества.
*   **Управление проектами:** Полное сопровождение проекта от идеи до ввода в эксплуатацию, действуя как ваша внутренняя служба заказчика.
*   **Судебная и досудебная экспертиза:** Защита ваших интересов в спорах с подрядчиками и государственными органами.

За 12 лет работы мы успешно сопроводили более 150 проектов, сэкономив нашим клиентам миллиарды рублей.




#file: Restored_Project\content\services\index.md
---
title: "Наши услуги"
layout: page
---

## Комплексные решения для защиты ваших инвестиций

Мы предлагаем полный спектр услуг для инвесторов, девелоперов и заказчиков строительства, обеспечивая контроль на всех этапах жизненного цикла проекта.

### 1. Финансово-технический аудит
Проводим комплексную проверку проектной и сметной документации. Наша цель — исключить завышение объемов работ, цен на материалы и выявить скрытые риски до начала строительства.
> **Результат:** Экономия до 25% от первоначального бюджета.

### 2. Строительный контроль (Технический надзор)
Наши инженеры осуществляют постоянный контроль качества строительно-монтажных работ на площадке. Мы гарантируем, что каждый этап выполняется в строгом соответствии с проектом и нормативными требованиями.
> **Результат:** Предотвращение критических дефектов и соблюдение технологий.

### 3. Управление проектами и стоимостью
Берем на себя функции службы заказчика, управляя бюджетом, сроками и взаимодействием с подрядчиками. Наша система отчетности обеспечивает полную прозрачность для инвестора.
> **Результат:** Проект сдан в срок и в рамках утвержденного бюджета.

### 4. Экспертиза и разрешение споров
Готовим экспертные заключения для досудебного урегулирования и представляем ваши интересы в суде. Помогаем доказать правоту в спорах о качестве, объемах и стоимости выполненных работ.
> **Результат:** Сильная юридическая позиция и защита ваших активов.






==============================

File: D:\github\bynet\site\build_algolia_index.sh

npm run algolia


==============================

File: D:\github\bynet\site\config.toml

baseURL = "https://byrnet.github.io/site/"
languageCode = "ru-ru"
title = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚"
theme = "hugo-theme-cleanwhite"

[params]
  header_image = "img/home-bg.jpg"


==============================

File: D:\github\bynet\site\convert_site.ps1

$folder = "D:\github\bynet\site"
$outputFile = "site_code.txt"

# Очистка или создание выходного файла
"" | Out-File -FilePath $outputFile -Encoding utf8

Write-Output "Collecting site code from $folder..." | Add-Content -Path $outputFile

# Рекурсивный обход всех файлов
Get-ChildItem -Path $folder -Recurse -File | ForEach-Object {
    $filePath = $_.FullName
    "File: $filePath" | Add-Content -Path $outputFile
    "" | Add-Content -Path $outputFile
    Get-Content -Path $filePath -Raw | Add-Content -Path $outputFile
    "" | Add-Content -Path $outputFile
    "==============================" | Add-Content -Path $outputFile
    "" | Add-Content -Path $outputFile
}

Write-Output "Done! Output saved to $outputFile."

==============================

File: D:\github\bynet\site\Create-Content-Snapshot.txt

<#
.SYNOPSIS
    Создает единый текстовый снимок контента сайта (статьи, тексты из шаблонов)
    для анализа с помощью ИИ на предмет стиля, грамотности и маркетинга.
#>

# ===================================================================================
#                      AI CONTENT SNAPSHOT TOOL
# ===================================================================================

# --- КОНФИГУРАЦИЯ ---

# Путь к папке проекта. Задан автоматически.
$projectBasePath = "D:\github\bynet\site"

# 1. Папки с исходным контентом, которые НУЖНО включить в снимок.
$includedFolders = @(
    "content",  # Главная папка со всем текстовым содержимым (статьи, страницы).
    "layouts",  # Шаблоны сайта, могут содержать "зашитый" текст.
    "data"      # Файлы с данными (например, контакты, списки).
)

# 2. Файлы в корне проекта, которые содержат важный текст (заголовок, описание сайта).
$includedRootFiles = @(
    "hugo.toml",
    "config.toml",
    "config.yaml",
    "config.yml"
)

# 3. Расширения файлов, которые содержат текст.
$allowedExtensions = @(
    ".md", ".markdown", # Основные файлы контента
    ".html",            # Файлы шаблонов
    ".toml", ".yaml", ".yml", ".json" # Файлы данных и конфигурации
)

# 4. Папки, которые следует ПОЛНОСТЬЮ игнорировать.
$excludedFolders = @(
    "node_modules", ".git", ".vscode", "dist", "build", "public", "resources", "themes",
    "assets", # Обычно здесь стили и скрипты, а не контент
    "static"  # Здесь тоже в основном скрипты, стили, изображения
)

# Имя для итогового файла-снимка.
$outputFileName = "AI_Content_Snapshot.txt"

# --- ЛОГИКА СКРИПТА (Ниже ничего редактировать не нужно) ---

$ErrorActionPreference = "Stop"

# 1. Установка и проверка пути к проекту
Write-Host "--- AI Content Snapshot Tool ---" -ForegroundColor Yellow
Write-Host "Проект: $projectBasePath" -ForegroundColor Cyan
Write-Host "Собираю текстовый контент из папок: $($includedFolders -join ', ')" -ForegroundColor Cyan

if (-not (Test-Path -Path $projectBasePath -PathType Container)) {
    Write-Host "ОШИБКА: Папка '$projectBasePath' не найдена." -ForegroundColor Red
    Start-Sleep -Seconds 10
    exit 1
}

$outputFilePath = Join-Path -Path $projectBasePath -ChildPath $outputFileName
Clear-Content -Path $outputFilePath -ErrorAction SilentlyContinue
Write-Host "OK. Начинаю обработку..." -ForegroundColor Green
Write-Host "--------------------------------"

$allFiles = Get-ChildItem -Path $projectBasePath -Recurse -File
$filesProcessedCount = 0
$totalCharacters = 0

# 2. Основной цикл обработки файлов
foreach ($file in $allFiles) {
    # Фильтр 1: Пропустить файл, если он находится в глобально исключенной папке
    $isGloballyExcluded = $false
    foreach ($folder in $excludedFolders) {
        if ($file.DirectoryName -like "*\$folder*" -or $file.DirectoryName -like "*\/$folder*") {
            $isGloballyExcluded = $true; break
        }
    }
    if ($isGloballyExcluded) { continue }

    # Фильтр 2: Проверить, находится ли файл в одной из разрешенных папок или является разрешенным файлом в корне
    $isWhitelisted = $false
    $relativeDirPath = $file.DirectoryName.Substring($projectBasePath.Length).TrimStart("\/")

    if ([string]::IsNullOrEmpty($relativeDirPath) -and ($includedRootFiles -contains $file.Name.ToLower())) {
        $isWhitelisted = $true
    } else {
        foreach ($folder in $includedFolders) {
            if ($relativeDirPath -eq $folder -or $relativeDirPath -like "$folder\*") {
                $isWhitelisted = $true; break
            }
        }
    }
    
    if (-not $isWhitelisted) { continue }

    # Фильтр 3: Пропустить файл, если его расширение не входит в список разрешенных
    if (-not ($allowedExtensions -contains $file.Extension.ToLower())) {
        continue
    }

    # Если файл прошел все проверки, добавляем его в снимок
    $filesProcessedCount++
    $relativePath = $file.FullName.Substring($projectBasePath.Length).TrimStart("\/")
    $fileHeader = "#file: $relativePath"
    $fileContent = Get-Content -Path $file.FullName -Raw -ErrorAction SilentlyContinue

    Add-Content -Path $outputFilePath -Value "$fileHeader`n$fileContent`n`n"
    $totalCharacters += $fileContent.Length
}

# 3. Отображение итоговой статистики
$fileSizeKB = if (Test-Path $outputFilePath) { (Get-Item $outputFilePath).Length / 1KB } else { 0 }
$estimatedTokens = [Math]::Round($totalCharacters / 4.5) # Для русского текста токенов обычно меньше

Write-Host "--------------------------------"
Write-Host "Снимок текстового контента успешно создан!" -ForegroundColor Green
Write-Host
Write-Host "  > Выходной файл: $outputFilePath"
Write-Host "  > Обработано файлов: $filesProcessedCount"
Write-Host "  > Размер файла: $($fileSizeKB.ToString('F2')) KB"
Write-Host "  > Примерное количество токенов: $($estimatedTokens.ToString('N0'))"
Write-Host
Write-Host "Теперь вы можете загружать этот файл в ИИ для анализа текстов." -ForegroundColor Yellow

# Пауза для просмотра результатов
Write-Host "Это окно закроется через 15 секунд..."
Start-Sleep -Seconds 15
exit 0

==============================

File: D:\github\bynet\site\deploy.sh

#!/bin/bash

echo -e "\033[0;32mDeploying updates to GitHub...\033[0m"

# Build the project.
hugo # if using a theme, replace with `hugo -t <YOURTHEME>`

# Go To Public folder
cd public
# Add changes to git.
git add .

# Commit changes.
msg="rebuilding site `date`"
if [ $# -eq 1 ]
  then msg="$1"
fi
git commit -m "$msg"

# Push source and build repos.
git push origin master

# Come Back up to the Project Root
cd ..


==============================

File: D:\github\bynet\site\hugo.toml

baseURL = "https://byrnet.github.io/site/"
title = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚"
theme = "hugo-theme-cleanwhite"
languageCode = "ru-ru"
preserveTaxonomyNames = true
hasCJKLanguage = true

[services]
  # Enable comments by entering your Disqus shortname
  [services.disqus]
    shortname = ""
  [services.googleAnalytics]
    id = ""

[pagination]
  pagerSize = 5 # frontpage pagination

[outputs]
home = ["HTML", "RSS", "Algolia"]

[params]
  header_image = "img/home-bg-jeep.jpg"
  SEOTitle = "РџСЂРѕРµРєС‚ РђСѓРґРёС‚ | Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚ Рё СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ"
  description = "РќРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹С… РїСЂРѕРµРєС‚РѕРІ: С„РёРЅР°РЅСЃРѕРІС‹Р№ Рё С‚РµС…РЅРёС‡РµСЃРєРёР№ РєРѕРЅС‚СЂРѕР»СЊ, СѓРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё Рё СЃС‚РѕРёРјРѕСЃС‚СЊСЋ, СЃС‚СЂРѕРёС‚РµР»СЊРЅР°СЏ СЌРєСЃРїРµСЂС‚РёР·Р°."
  keyword = "РїСЂРѕРµРєС‚ Р°СѓРґРёС‚, СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ Р°СѓРґРёС‚, С‚РµС…РЅР°РґР·РѕСЂ, СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ, С„РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚, СѓРїСЂР°РІР»РµРЅРёРµ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРѕРј"
  upstreamAttribution = true

  image_404 = "img/404-bg.jpg"
  title_404 = "РЎС‚СЂР°РЅРёС†Р° РЅРµ РЅР°Р№РґРµРЅР° :("
  omit_categories = false

  # leancloud storage for page view counter
  page_view_counter = false
  leancloud_app_id = ""
  leancloud_app_key = ""

  # algolia site search
  algolia_search = true
  algolia_appId = ""
  algolia_indexName = ""
  algolia_apiKey = ""

  # Sidebar settings
  sidebar_about_description = "Р’Р°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ РїР°СЂС‚РЅРµСЂ РІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ. РћР±РµСЃРїРµС‡РёРІР°РµРј РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ, РєРѕРЅС‚СЂРѕР»СЊ Р·Р°С‚СЂР°С‚ Рё СЃРѕР±Р»СЋРґРµРЅРёРµ СЃСЂРѕРєРѕРІ."
  sidebar_avatar = "img/zhaohuabing.png"

  featured_tags = true
  featured_condition_size = 1

  # Baidu Analytics
  ba_track_id = ""

  # We need a proxy to access Disqus api in China
  # Follow https://github.com/zhaohuabing/disqus-php-api to set up your own disqus proxy
  disqus_proxy = ""
  disqus_site = ""

  # Twikoo comments
  # Follow https://twikoo.js.org/ to set up your own env_id
  twikoo_env_id = ""

  # Artalk comments
  # Follow https://artalk.js.org/ to set up your own server
  artalk_enable = true
  artalk_server = "https://xxx.xxx.com"
  artalk_site = "xxx blog"

  #Enable wechat pay & alipay to allow readers send reward money if they like the articles
  reward = true

  friends = true
  bookmarks = false
  about_me = true

  # Include any custom CSS and/or JS files, url or relative to /static folder
  #custom_css = ["css/lightbox.css", "https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css", "css/main.css"]
  #custom_js = ["js/lightbox.js", "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js", "js/main.js"]

  [params.social]
  rss            = true
  email          = "youremail@gmail.com"
  linkedin       = "https://www.linkedin.com/in/yourlinkedinid"
  stackoverflow  = "https://stackoverflow.com/users/yourstackoverflowid"
  github         = "https://github.com/yourgithub"
  wechat         = "your wechat qr code image"

  [[params.additional_menus]]
  title =  "РђР РҐРР’"
  href =  "/archive/"
  [[params.additional_menus]]
  title =  "РЈРЎР›РЈР“Р"
  href =  "/services/"
  [[params.additional_menus]]
  title =  "Рћ РќРђРЎ"
  href =  "/about/"

[outputFormats.Algolia]
baseName = "algolia"
isPlainText = true
mediaType = "application/json"
notAlternative = true

[params.algolia]
vars = ["title", "summary", "date", "publishdate", "expirydate", "permalink"]
params = ["categories", "tags"]

[markup]
  [markup.tableOfContents]
    endLevel = 2
    startLevel = 1
  [markup.highlight]
    style = "dracula"
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true


==============================

File: D:\github\bynet\site\index.xml

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title></title>
    <link>//localhost:1313/</link>
    <description>Recent content on </description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 09 Jan 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="//localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>РќР°С€Рё РїСЂРѕРµРєС‚С‹</title>
      <link>//localhost:1313/post/readme/</link>
      <pubDate>Wed, 09 Jan 2019 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/post/readme/</guid>
      <description>&lt;h1 id=&#34;clean-white-theme-for-hugo&#34;&gt;РќР°С€Рё РїСЂРѕРµРєС‚С‹&lt;/h1&gt;&#xA;&lt;p&gt;CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live &lt;a href=&#34;https://zhaohuabing.com&#34;&gt;demo site&lt;/a&gt; using this theme.&lt;/p&gt;&#xA;&lt;p&gt;It is based on &lt;a href=&#34;https://github.com/Huxpro/huxpro.github.io&#34;&gt;huxblog Jekyll Theme&lt;/a&gt;&#xA;and &lt;a href=&#34;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll&#34;&gt;Clean Blog Jekyll Theme&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;These two upstream projects have done awesome jobs to create a blog theme, what I&amp;rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&amp;rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.&#xA;While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</link>
      <pubDate>Mon, 04 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</guid>
      <description>&lt;p&gt;е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio 0.8 ReleaseеЏ‘еёѓ</title>
      <link>//localhost:1313/2018/06/02/istio08/</link>
      <pubDate>Sat, 02 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/02/istio08/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ&lt;/p&gt;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Everything about Setting Up My Ubuntu Desktop</title>
      <link>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</link>
      <pubDate>Thu, 24 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</guid>
      <description>&lt;h2 id=&#34;generate-ssh-key-pair&#34;&gt;Generate SSH Key Pair&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen -C &amp;#34;zhaohuabing@gmail.com&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;shadowsocks&#34;&gt;Shadowsocks&lt;/h2&gt;&#xA;&lt;p&gt;Install shadowsokcs&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install python3-pip&#xD;&#xA;&#xD;&#xA;sudo pip3 install shadowsocks&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Create config at &lt;code&gt;config/shadowsocks.json&lt;/code&gt;, with the following content:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;&#x9;&amp;#34;server&amp;#34;:&amp;#34;remote-shadowsocks-server-ip-addr&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;server_port&amp;#34;:443,&#xD;&#xA;&#x9;&amp;#34;local_address&amp;#34;:&amp;#34;127.0.0.1&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;local_port&amp;#34;:1080,&#xD;&#xA;&#x9;&amp;#34;password&amp;#34;:&amp;#34;your-passwd&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;timeout&amp;#34;:300,&#xD;&#xA;&#x9;&amp;#34;method&amp;#34;:&amp;#34;aes-256-cfb&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;fast_open&amp;#34;:false,&#xD;&#xA;&#x9;&amp;#34;workers&amp;#34;:1&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start a local socks proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo sslocal -c config/shadowsocks.json -d start&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case there is an openssl error, modify shadowsocks source file.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py &#xD;&#xA;&#xD;&#xA;:%s/cleanup/reset/gc&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Convert shadowsocks socks proxy to http proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install polipo&#xD;&#xA;&#xD;&#xA;echo &amp;#34;socksParentProxy = localhost:1080&amp;#34; | sudo tee -a /etc/polipo/config &#xD;&#xA;sudo service polipo restart&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Http proxy now is available at port 8123&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰</title>
      <link>//localhost:1313/2018/05/23/external_system_auth/</link>
      <pubDate>Wed, 23 May 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/external_system_auth/</guid>
      <description>&lt;h2 id=&#34;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&#34;&gt;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&lt;/h2&gt;&#xA;&lt;p&gt;й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&#34;&gt;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&lt;/h3&gt;&#xA;&lt;p&gt;еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;api-token&#34;&gt;API Token&lt;/h3&gt;&#xA;&lt;p&gt;жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ&lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў&lt;/a&gt;дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenжќҐи®їй—®Github API&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;oauth&#34;&gt;OAuth&lt;/h3&gt;&#xA;&lt;p&gt;жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚&#xA;OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљ&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚&#xA;дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST /oauth/token HTTP/1.1&#xD;&#xA;Host: authorization-server.com&#xD;&#xA; &#x9;&#x9;&#x9;&#xD;&#xA;grant_type=authorization_code&#xD;&#xA;&amp;amp;code=xxxxxxxxxxx&#xD;&#xA;&amp;amp;redirect_uri=https://example-app.com/redirect&#xD;&#xA;&amp;amp;client_id=xxxxxxxxxx&#xD;&#xA;&amp;amp;client_secret=xxxxxxxxxx&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-05-23-external_system_auth/oauth_web_server_flow.png&#34; alt=&#34;OAuthи®¤иЇЃжµЃзЁ‹&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ</title>
      <link>//localhost:1313/2018/05/23/service_2_service_auth/</link>
      <pubDate>Wed, 23 May 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/service_2_service_auth/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&#34;&gt;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;p&gt;й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Wed, 23 May 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;з›®еЅ•&#34;&gt;з›®еЅ•&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з›®еЅ•&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&#xA;&lt;img src=&#34;//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png&#34; alt=&#34;еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;h2 id=&#34;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&#34;&gt;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·иє«д»Ѕи®¤иЇЃ&#34;&gt;з”Ёж€·иє«д»Ѕи®¤иЇЃ&lt;/h3&gt;&#xA;&lt;p&gt;дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&#34;&gt;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&lt;/h3&gt;&#xA;&lt;p&gt;HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚&lt;a href=&#34;https://jwt.io&#34;&gt;JWT(Json Web Token)&lt;/a&gt;жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Header&lt;!-- raw HTML omitted --&gt;&#xA;е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;,&#xD;&#xA;  &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34;&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Payload&lt;!-- raw HTML omitted --&gt;&#xA;еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;sub&amp;#34;: &amp;#34;1234567890&amp;#34;,&#xD;&#xA;  &amp;#34;name&amp;#34;: &amp;#34;John Doe&amp;#34;,&#xD;&#xA;  &amp;#34;admin&amp;#34;: true&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Signature&lt;!-- raw HTML omitted --&gt;&#xA;TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚&#xA;з­ѕеђЌз®—жі•&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HMACSHA256(&#xD;&#xA;  base64UrlEncode(header) + &amp;#34;.&amp;#34; +&#xD;&#xA;  base64UrlEncode(payload),&#xD;&#xA;  secret)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё&amp;quot;.&amp;ldquo;е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token&#xA;&lt;img src=&#34;https://cdn.auth0.com/content/jwt/encoded-jwt3.png&#34; alt=&#34;xx&#34;&gt;&#xA;й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ&lt;a href=&#34;https://tools.ietf.org/html/rfc6750&#34;&gt;rfc6750&lt;/a&gt;иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†</title>
      <link>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</link>
      <pubDate>Wed, 23 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў</title>
      <link>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</link>
      <pubDate>Mon, 21 May 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;This series of articles are my notes of &amp;ldquo;Bitcoin and Cryptocurrency Technologies&amp;rdquo; online course.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;table-of-content&#34;&gt;Table of Content&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Table of Content&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;scrooge-coin-transaction&#34;&gt;Scrooge Coin Transaction&lt;/h2&gt;&#xA;&lt;p&gt;Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn&amp;rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:&#xA;&lt;img src=&#34;//localhost:1313/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png&#34; alt=&#34;Scrooge Coin&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е·ќиҐїз§еўѓжЋўй™©</title>
      <link>//localhost:1313/2018/05/01/may-day-jiulonghu/</link>
      <pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/01/may-day-jiulonghu/</guid>
      <description>&lt;h2 id=&#34;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&#34;&gt;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&lt;/h2&gt;&#xA;&lt;p&gt;дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚&#xA;е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Helmд»‹з»Ќ</title>
      <link>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</link>
      <pubDate>Mon, 16 Apr 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&#34;&gt;Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmжЇд»Ђд№€&#34;&gt;HelmжЇд»Ђд№€пјџ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (&lt;a href=&#34;https://deis.com/&#34;&gt;https://deis.com/&lt;/a&gt;) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&#34;&gt;Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Helm&lt;/p&gt;&#xA;&lt;p&gt;Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Tiller&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Chart&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Repoistory&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Release&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;е®‰иЈ…helm&#34;&gt;е®‰иЈ…Helm&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;дё‹иЅЅ Helm &lt;a href=&#34;https://github.com/kubernetes/helm/releases&#34;&gt;https://github.com/kubernetes/helm/releases&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz&lt;/li&gt;&#xA;&lt;li&gt;ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Helm init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;жћ„е»єдёЂдёЄhelm-chart&#34;&gt;жћ„е»єдёЂдёЄHelm chart&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</link>
      <pubDate>Wed, 11 Apr 2018 09:32:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</guid>
      <description>&lt;h2 id=&#34;service-mesh-vs-api-gateway&#34;&gt;Service Mesh vs API Gateway&lt;/h2&gt;&#xA;&lt;p&gt;ењЁ&lt;a href=&#34;https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a&#34;&gt;е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« &lt;/a&gt;дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gateway-е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„apiеђ‘е¤–йѓЁжљґйњІ&#34;&gt;API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ&lt;/h2&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;service-meshеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&#34;&gt;Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&lt;/h2&gt;&#xA;&lt;p&gt;зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gatewayе’Њservice-meshе®ћи·µ&#34;&gt;API Gatewayе’ЊService Meshе®ћи·µ&lt;/h2&gt;&#xA;&lt;p&gt;API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway-&amp;gt;Service Mesh-&amp;gt;Microservicesпј‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio</title>
      <link>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</link>
      <pubDate>Thu, 29 Mar 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</guid>
      <description>&lt;h2 id=&#34;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&#34;&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&lt;/h2&gt;&#xA;&lt;p&gt;дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†</title>
      <link>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</link>
      <pubDate>Tue, 13 Mar 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</guid>
      <description>&lt;h2 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h2&gt;&#xA;&lt;h3 id=&#34;и®ѕзЅ®dockerдЅїз”Ёhttp-proxy&#34;&gt;и®ѕзЅ®dockerдЅїз”Ёhttp proxy&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/default/docker&#xD;&#xA;&#xD;&#xA;export http_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export https_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTP_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTPS_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Vim Tips</title>
      <link>//localhost:1313/2018/02/09/vim-tips/</link>
      <pubDate>Fri, 09 Feb 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/vim-tips/</guid>
      <description>&lt;h2 id=&#34;vim-graphical-cheat-sheet&#34;&gt;vim graphical cheat sheet&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</title>
      <link>//localhost:1313/2018/02/09/docker-without-sudo/</link>
      <pubDate>Fri, 09 Feb 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/docker-without-sudo/</guid>
      <description>&lt;h3 id=&#34;add-the-docker-group-if-it-doesnt-already-exist&#34;&gt;Add the docker group if it doesn&amp;rsquo;t already exist:&lt;/h3&gt;&#xA;&lt;p&gt;sudo groupadd docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user&#34;&gt;Add the connected user &amp;ldquo;$USER&amp;rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:&lt;/h3&gt;&#xA;&lt;p&gt;sudo gpasswd -a $USER docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups&#34;&gt;Either do a newgrp docker or log out/in to activate the changes to groups.&lt;/h3&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Sat, 03 Feb 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—</title>
      <link>//localhost:1313/2018/01/02/nginmesh-install/</link>
      <pubDate>Tue, 02 Jan 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/01/02/nginmesh-install/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ</title>
      <link>//localhost:1313/2017/11/28/access-application-from-outside/</link>
      <pubDate>Tue, 28 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/28/access-application-from-outside/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)</title>
      <link>//localhost:1313/2017/11/08/istio-canary-release/</link>
      <pubDate>Wed, 08 Nov 2017 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/08/istio-canary-release/</guid>
      <description>&lt;h2 id=&#34;зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ&lt;/h2&gt;&#xA;&lt;p&gt;еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ANYTHING THAN CAN GO WRONG WILL GO WRONG&amp;rdquo;  &amp;ndash;MURPHY&amp;rsquo;S LAW&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐйЂљиї‡&lt;a href=&#34;https://martinfowler.com/bliki/CanaryRelease.html&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰&lt;/a&gt;жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployment.PNG&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓй‡‘дёќй›ЂеЏ‘еёѓзљ„еЋџзђ†&#34;&gt;Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†&lt;/h2&gt;&#xA;&lt;p&gt;д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„&lt;a href=&#34;https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/&#34;&gt;ж»љеЉЁеЌ‡зє§(rolling update)&lt;/a&gt;еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployments.gif&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ж“ЌдЅњж­ҐйЄ¤&#34;&gt;ж“ЌдЅњж­ҐйЄ¤&lt;/h2&gt;&#xA;&lt;p&gt;дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&#34;&gt;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏ‚иЂѓ&lt;a href=&#34;http://zhaohuabing.com/2017/11/04/istio-install_and_example/&#34;&gt;ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ&lt;/a&gt;е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;istio-0.2.10/samples/bookinfo/kube/cleanup.sh&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;йѓЁзЅІv1з‰€жњ¬зљ„жњЌеЉЎ&#34;&gt;йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v2&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v2&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v2:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080&#xD;&#xA;---&#xD;&#xA;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v3&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v3&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v3:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080    &#xD;&#xA;---         &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»</title>
      <link>//localhost:1313/2017/11/07/istio-traffic-shifting/</link>
      <pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/07/istio-traffic-shifting/</guid>
      <description>&lt;p&gt;е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ&lt;a href=&#34;http://istio.doczh.cn/&#34;&gt;istioдё­ж–‡ж–‡жЎЈ&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЋџж–‡еЏ‚и§Ѓ&lt;a href=&#34;https://istio.io/docs/tasks/traffic-management/traffic-shifting.html&#34;&gt;Traffic Shifting&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°</title>
      <link>//localhost:1313/2017/11/04/istio-install_and_example/</link>
      <pubDate>Sat, 04 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/04/istio-install_and_example/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎзЅ‘ж јз®Ђд»‹&#34;&gt;жњЌеЉЎзЅ‘ж јз®Ђд»‹&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;жњЌеЉЎзЅ‘ж ј&lt;/strong&gt;пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ&lt;strong&gt;жћ¶жћ„жЁЎејЏ&lt;/strong&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Welcome to Zhaohuabing Blog</title>
      <link>//localhost:1313/2017/11/03/hello-world/</link>
      <pubDate>Sat, 04 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/03/hello-world/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;вЂњYeah It&amp;rsquo;s on. вЂќ&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;hello-world&#34;&gt;Hello World!&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/about/</guid>
      <description>&lt;h2 id=&#34;about-me&#34;&gt;About Me&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;&lt;em&gt;Huabing Zhao&lt;/em&gt;&lt;/strong&gt; is a software architect, an Istio Member and an ONAP PTL. He has a solid experience in the information and telecommunication technology industry for more than 17 years.&lt;/p&gt;&#xA;&lt;p&gt;Throughout his career, he has built a number of large-scale, cross-country software systems, most of them are still running in production.&lt;/p&gt;&#xA;&lt;p&gt;He loves open source and has been contributing to various open source projects, he is a member of Istio,  previous PTL of ONAP, the author of the Hugo clean-white theme and the open source project Aeraki Mesh.&lt;/p&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/notes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/notes/</guid>
      <description>&lt;h2 id=&#34;go-иЇ­иЁЂе­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-golang&#34;&gt;Go иЇ­иЁЂе­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;h2 id=&#34;envoy-е­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-envoy&#34;&gt;Envoy е­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>//localhost:1313/search/placeholder/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/search/placeholder/</guid>
      <description></description>
    </item>
    <item>
      <title>Posts Archive</title>
      <link>//localhost:1313/archive/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/archive/</guid>
      <description></description>
    </item>
  </channel>
</rss>


==============================

File: D:\github\bynet\site\site_code.txt


==============================

File: D:\github\bynet\site\Новый текстовый документ.txt


==============================

File: D:\github\bynet\site\archetypes\default.md

+++
date = '{{ .Date }}'
draft = true
title = '{{ replace .File.ContentBaseName "-" " " | title }}'
+++


==============================

File: D:\github\bynet\site\content\about\index.md

---
title: "Рћ РЅР°С€РµР№ РєРѕРјРїР°РЅРёРё"
layout: page
---

## РџСЂРѕРµРєС‚ РђСѓРґРёС‚: РЎС‚СЂРѕР№С‚Рµ СЃ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊСЋ. Р’Р°С€ РїСЂРѕРµРєС‚ РїРѕРґ РЅР°С€РµР№ Р·Р°С‰РёС‚РѕР№ РѕС‚ СЃРјРµС‚С‹ РґРѕ СЃРґР°С‡Рё.

Р’ РјРёСЂРµ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР° РєР°Р¶РґС‹Р№ СЂСѓР±Р»СЊ Рё РєР°Р¶РґС‹Р№ РґРµРЅСЊ РЅР° СЃС‡РµС‚Сѓ. РњР°Р»РµР№С€Р°СЏ РЅРµС‚РѕС‡РЅРѕСЃС‚СЊ РІ РїСЂРѕРµРєС‚Рµ РјРѕР¶РµС‚ РѕР±РµСЂРЅСѓС‚СЊСЃСЏ РјРЅРѕРіРѕРјРёР»Р»РёРѕРЅРЅС‹РјРё СѓР±С‹С‚РєР°РјРё Рё СЃРѕСЂРІР°РЅРЅС‹РјРё СЃСЂРѕРєР°РјРё. РљРѕРјРїР°РЅРёСЏ В«РџСЂРѕРµРєС‚ РђСѓРґРёС‚В» вЂ” СЌС‚Рѕ РІР°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ С‰РёС‚, РєРѕС‚РѕСЂС‹Р№ РѕР±РµСЃРїРµС‡РёРІР°РµС‚ С„РёРЅР°РЅСЃРѕРІСѓСЋ Рё С‚РµС…РЅРёС‡РµСЃРєСѓСЋ Р±РµР·РѕРїР°СЃРЅРѕСЃС‚СЊ РґР»СЏ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё СЃРѕР±СЃС‚РІРµРЅРЅРёРєРѕРІ РЅР° РІСЃРµС… СЌС‚Р°РїР°С….

РќР°С€Р° РјРёСЃСЃРёСЏ вЂ” РїСЂРµРІСЂР°С‚РёС‚СЊ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Рµ СЂРёСЃРєРё РІ СѓРїСЂР°РІР»СЏРµРјС‹Рµ РїСЂРѕС†РµСЃСЃС‹, Р° РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё вЂ” РІ РіР°СЂР°РЅС‚РёСЂРѕРІР°РЅРЅС‹Р№ СЂРµР·СѓР»СЊС‚Р°С‚.

### РџРѕС‡РµРјСѓ РЅР°Рј РґРѕРІРµСЂСЏСЋС‚: С†РёС„СЂС‹ РіРѕРІРѕСЂСЏС‚ СЃР°РјРё Р·Р° СЃРµР±СЏ

Р—Р° **12 Р»РµС‚** СѓСЃРїРµС€РЅРѕР№ СЂР°Р±РѕС‚С‹ РјС‹ СЃРѕРїСЂРѕРІРѕРґРёР»Рё Р±РѕР»РµРµ **150 РїСЂРѕРµРєС‚РѕРІ**, СЃСЌРєРѕРЅРѕРјРёРІ РЅР°С€РёРј РєР»РёРµРЅС‚Р°Рј **РјРёР»Р»РёР°СЂРґС‹ СЂСѓР±Р»РµР№**. РќР°С€ РїРѕРґС…РѕРґ РЅР° РїСЂР°РєС‚РёРєРµ РґРѕРєР°Р·С‹РІР°РµС‚ СЃРІРѕСЋ СЌС„С„РµРєС‚РёРІРЅРѕСЃС‚СЊ.

> **РљРµР№СЃ Р–Рљ В«РџСЂРµРјСЊРµСЂВ»:** РќР°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё РїСЂРѕРµРєС‚Р° РїРѕР·РІРѕР»РёР» РёРЅРІРµСЃС‚РѕСЂСѓ СЃСЌРєРѕРЅРѕРјРёС‚СЊ **Р±РѕР»РµРµ 250 РјРёР»Р»РёРѕРЅРѕРІ СЂСѓР±Р»РµР№**, СЃРЅРёР·РёРІ РїРµСЂРІРѕРЅР°С‡Р°Р»СЊРЅСѓСЋ СЃС‚РѕРёРјРѕСЃС‚СЊ РЅР° **18%** Рё СѓРІРµР»РёС‡РёРІ СЂРµРЅС‚Р°Р±РµР»СЊРЅРѕСЃС‚СЊ РЅР° 7%.

**РЎ В«РџСЂРѕРµРєС‚ РђСѓРґРёС‚В» РІС‹ СЃС‚СЂРѕРёС‚Рµ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊ. РЎРІСЏР¶РёС‚РµСЃСЊ СЃ РЅР°РјРё, С‡С‚РѕР±С‹ РѕР±СЃСѓРґРёС‚СЊ РІР°С€ РїСЂРѕРµРєС‚ Рё СѓР·РЅР°С‚СЊ, РєР°Рє РјС‹ РјРѕР¶РµРј Р·Р°С‰РёС‚РёС‚СЊ РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё.**


==============================

File: D:\github\bynet\site\content\archive\index.md

---
title: "РђСЂС…РёРІ"
layout: archive
type: archive
description: "РђСЂС…РёРІ РЅР°С€РёС… РїСѓР±Р»РёРєР°С†РёР№ Рё РєРµР№СЃРѕРІ."
---


==============================

File: D:\github\bynet\site\content\cases\case-premier.md

---
title: "РљРµР№СЃ: РЎРЅРёР¶РµРЅРёРµ Р·Р°С‚СЂР°С‚ РЅР° 18% РїСЂРё СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ Р–Рљ"
date: 2025-06-15
---

# РљРµР№СЃ: Р­РєРѕРЅРѕРјРёСЏ 250 РјР»РЅ СЂСѓР±Р»РµР№ РЅР° РїСЂРѕРµРєС‚Рµ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° "РџСЂРµРјСЊРµСЂ"

**РљР»РёРµРЅС‚:** РљСЂСѓРїРЅС‹Р№ РёРЅРІРµСЃС‚РёС†РёРѕРЅРЅС‹Р№ С„РѕРЅРґ.

**Р—Р°РґР°С‡Р°:** РџСЂРѕРІРµСЃС‚Рё РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё Рё СЃРјРµС‚РЅС‹С… СЂР°СЃС‡РµС‚РѕРІ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё Рє СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІСѓ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° Р±РёР·РЅРµСЃ-РєР»Р°СЃСЃР°.

**Р§С‚Рѕ РјС‹ СЃРґРµР»Р°Р»Рё:**
1.  **РђРЅР°Р»РёР· СЃРјРµС‚:** РџСЂРѕРІРµСЂРёР»Рё Р±РѕР»РµРµ 2000 РїРѕР·РёС†РёР№ РІ СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. Р’С‹СЏРІРёР»Рё РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅРѕРµ Р·Р°РІС‹С€РµРЅРёРµ СЃС‚РѕРёРјРѕСЃС‚Рё Р»РѕРіРёСЃС‚РёРєРё Рё РјР°С‚РµСЂРёР°Р»РѕРІ РЅР° 12% РїРѕ СЃСЂР°РІРЅРµРЅРёСЋ СЃ СЂС‹РЅРѕС‡РЅС‹РјРё С†РµРЅР°РјРё.
2.  **РћРїС‚РёРјРёР·Р°С†РёСЏ РїСЂРѕРµРєС‚Р°:** РџСЂРµРґР»РѕР¶РёР»Рё Р·Р°РјРµРЅРёС‚СЊ РЅРµРєРѕС‚РѕСЂС‹Рµ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РёРјРїРѕСЂС‚РЅС‹Рµ РёРЅР¶РµРЅРµСЂРЅС‹Рµ СЃРёСЃС‚РµРјС‹ РЅР° РєР°С‡РµСЃС‚РІРµРЅРЅС‹Рµ РѕС‚РµС‡РµСЃС‚РІРµРЅРЅС‹Рµ Р°РЅР°Р»РѕРіРё, С‡С‚Рѕ РїРѕР·РІРѕР»РёР»Рѕ СЃРѕРєСЂР°С‚РёС‚СЊ СЂР°СЃС…РѕРґС‹ Р±РµР· РїРѕС‚РµСЂРё РІ РЅР°РґРµР¶РЅРѕСЃС‚Рё.
3.  **РџСЂРѕРІРµСЂРєР° РѕР±СЉРµРјРѕРІ:** РћР±РЅР°СЂСѓР¶РёР»Рё "Р·Р°РґРІРѕРµРЅРЅС‹Рµ" РѕР±СЉРµРјС‹ СЂР°Р±РѕС‚ РїРѕ Р±Р»Р°РіРѕСѓСЃС‚СЂРѕР№СЃС‚РІСѓ С‚РµСЂСЂРёС‚РѕСЂРёРё РЅР° СЃСѓРјРјСѓ 45 РјР»РЅ СЂСѓР±Р»РµР№.

**Р РµР·СѓР»СЊС‚Р°С‚:**

> РћР±С‰Р°СЏ СЃС‚РѕРёРјРѕСЃС‚СЊ РїСЂРѕРµРєС‚Р° Р±С‹Р»Р° СЃРЅРёР¶РµРЅР° РЅР° **18%**. РџСЂСЏРјР°СЏ СЌРєРѕРЅРѕРјРёСЏ РґР»СЏ РёРЅРІРµСЃС‚РѕСЂР° СЃРѕСЃС‚Р°РІРёР»Р° **Р±РѕР»РµРµ 250 РјР»РЅ СЂСѓР±Р»РµР№**, С‡С‚Рѕ РїРѕРІС‹СЃРёР»Рѕ СЂРµРЅС‚Р°Р±РµР»СЊРЅРѕСЃС‚СЊ РїСЂРѕРµРєС‚Р° РЅР° 7%.


==============================

File: D:\github\bynet\site\content\cases\_index.md

---
title: "РќР°С€Рё РєРµР№СЃС‹"
layout: list
---

Р—РґРµСЃСЊ СЃРѕР±СЂР°РЅС‹ РїСЂРёРјРµСЂС‹ РЅР°С€РµР№ СЂР°Р±РѕС‚С‹, РґРµРјРѕРЅСЃС‚СЂРёСЂСѓСЋС‰РёРµ, РєР°Рє РЅР°С€ РїРѕРґС…РѕРґ РїРѕРјРѕРіР°РµС‚ РєР»РёРµРЅС‚Р°Рј РґРѕСЃС‚РёРіР°С‚СЊ РїРѕСЃС‚Р°РІР»РµРЅРЅС‹С… С†РµР»РµР№, СЌРєРѕРЅРѕРјРёС‚СЊ Р±СЋРґР¶РµС‚ Рё РёР·Р±РµРіР°С‚СЊ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёС… РѕС€РёР±РѕРє.


==============================

File: D:\github\bynet\site\content\search\placeholder.md




==============================

File: D:\github\bynet\site\content\services\index.md

---
title: "РќР°С€Рё СѓСЃР»СѓРіРё"
layout: page
---

## РќР°С€ РѕРїС‹С‚ вЂ” РіР°СЂР°РЅС‚РёСЏ РІР°С€РµРіРѕ СЃРїРѕРєРѕР№СЃС‚РІРёСЏ

РњС‹ РѕР±Р»Р°РґР°РµРј РіР»СѓР±РѕРєРѕР№ СЌРєСЃРїРµСЂС‚РёР·РѕР№ РІ Р°СѓРґРёС‚Рµ СЃР°РјС‹С… СЂР°Р·РЅС‹С… РѕР±СЉРµРєС‚РѕРІ, РІРєР»СЋС‡Р°СЏ:

*   **Р–РёР»С‹Рµ Р·РґР°РЅРёСЏ:** РѕС‚ С‡Р°СЃС‚РЅС‹С… РєРѕС‚С‚РµРґР¶РµР№ РґРѕ РјРЅРѕРіРѕСЌС‚Р°Р¶РЅС‹С… Р¶РёР»С‹С… РєРѕРјРїР»РµРєСЃРѕРІ.
*   **РџСЂРѕРјС‹С€Р»РµРЅРЅС‹Рµ Р·РґР°РЅРёСЏ:** Р·Р°РІРѕРґС‹, СЃРєР»Р°РґС‹ Рё РїСЂРѕРёР·РІРѕРґСЃС‚РІРµРЅРЅС‹Рµ РїРѕРјРµС‰РµРЅРёСЏ.
*   **РЎР»РѕР¶РЅС‹Рµ РїСЂРѕРµРєС‚С‹:** СЂР°Р±РѕС‚С‹ РїРѕ СЂРµРјРѕРЅС‚Сѓ, СЂРµРєРѕРЅСЃС‚СЂСѓРєС†РёРё Рё СѓСЃРёР»РµРЅРёСЋ СЃСѓС‰РµСЃС‚РІСѓСЋС‰РёС… Р·РґР°РЅРёР№, СЃРѕРѕСЂСѓР¶РµРЅРёР№ Рё РѕС‚РґРµР»СЊРЅС‹С… РєРѕРЅСЃС‚СЂСѓРєС†РёР№.

---

## РљРѕРјРїР»РµРєСЃРЅС‹Рµ СЂРµС€РµРЅРёСЏ РґР»СЏ Р·Р°С‰РёС‚С‹ РІР°С€РёС… РёРЅРІРµСЃС‚РёС†РёР№

### 1. Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚
*Р­РєРѕРЅРѕРјРёСЏ РґРѕ 25% РµС‰Рµ РґРѕ РЅР°С‡Р°Р»Р° СЂР°Р±РѕС‚.* РњС‹ РїСЂРѕРІРѕРґРёРј СЃРєСЂСѓРїСѓР»РµР·РЅС‹Р№ Р°РЅР°Р»РёР· РїСЂРѕРµРєС‚РЅРѕР№ Рё СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё, РІС‹СЏРІР»СЏСЏ Р·Р°РІС‹С€РµРЅРЅС‹Рµ С†РµРЅС‹, РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹Рµ РѕР±СЉРµРјС‹ Рё СЃРєСЂС‹С‚С‹Рµ СЂРёСЃРєРё. РЎ РЅР°РјРё РІС‹ Р±СѓРґРµС‚Рµ СѓРІРµСЂРµРЅС‹, С‡С‚Рѕ РєР°Р¶РґС‹Р№ РІР»РѕР¶РµРЅРЅС‹Р№ СЂСѓР±Р»СЊ СЂР°Р±РѕС‚Р°РµС‚ РЅР° РІР°С€ РїСЂРѕРµРєС‚.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** РћРїС‚РёРјРёР·Р°С†РёСЏ Р±СЋРґР¶РµС‚Р° Рё РїСЂРµРґРѕС‚РІСЂР°С‰РµРЅРёРµ РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹С… СЂР°СЃС…РѕРґРѕРІ.

### 2. РЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅРёС‡РµСЃРєРёР№ РЅР°РґР·РѕСЂ)
*Р‘РµСЃРєРѕРјРїСЂРѕРјРёСЃСЃРЅРѕРµ РєР°С‡РµСЃС‚РІРѕ РЅР° РїР»РѕС‰Р°РґРєРµ.* РќР°С€Рё РёРЅР¶РµРЅРµСЂС‹ вЂ” СЌС‚Рѕ РІР°С€Рё РіР»Р°Р·Р° Рё СѓС€Рё РЅР° РѕР±СЉРµРєС‚Рµ. РњС‹ РіР°СЂР°РЅС‚РёСЂСѓРµРј, С‡С‚Рѕ РєР°Р¶РґС‹Р№ СЌС‚Р°Рї СЂР°Р±РѕС‚, РѕС‚ С„СѓРЅРґР°РјРµРЅС‚Р° РґРѕ РѕС‚РґРµР»РєРё, РІС‹РїРѕР»РЅСЏРµС‚СЃСЏ РІ СЃС‚СЂРѕРіРѕРј СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРё СЃ РїСЂРѕРµРєС‚РѕРј Рё РЅРѕСЂРјР°С‚РёРІРЅС‹РјРё С‚СЂРµР±РѕРІР°РЅРёСЏРјРё, РїСЂРµРґРѕС‚РІСЂР°С‰Р°СЏ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РѕС€РёР±РєРё Рё РґРµС„РµРєС‚С‹.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** РЎРѕР±Р»СЋРґРµРЅРёРµ С‚РµС…РЅРѕР»РѕРіРёР№ Рё РіР°СЂР°РЅС‚РёСЏ РєР°С‡РµСЃС‚РІР° РїРѕСЃС‚СЂРѕРµРЅРЅРѕРіРѕ РѕР±СЉРµРєС‚Р°.

### 3. РЈРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё Рё СЃС‚РѕРёРјРѕСЃС‚СЊСЋ
*РџСЂРѕРµРєС‚ СЃРґР°РЅ РІ СЃСЂРѕРє Рё РІ СЂР°РјРєР°С… Р±СЋРґР¶РµС‚Р°.* РњС‹ РјРѕР¶РµРј РІР·СЏС‚СЊ РЅР° СЃРµР±СЏ С„СѓРЅРєС†РёРё СЃР»СѓР¶Р±С‹ Р·Р°РєР°Р·С‡РёРєР°, СѓРїСЂР°РІР»СЏСЏ РІСЃРµРјРё РїСЂРѕС†РµСЃСЃР°РјРё: РѕС‚ РєРѕРѕСЂРґРёРЅР°С†РёРё РїРѕРґСЂСЏРґС‡РёРєРѕРІ РґРѕ РєРѕРЅС‚СЂРѕР»СЏ СЃСЂРѕРєРѕРІ Рё Р·Р°С‚СЂР°С‚. РќР°С€Р° СЃРёСЃС‚РµРјР° РѕС‚С‡РµС‚РЅРѕСЃС‚Рё РѕР±РµСЃРїРµС‡РёРІР°РµС‚ РІР°Рј РїРѕР»РЅСѓСЋ РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ Рё РєРѕРЅС‚СЂРѕР»СЊ.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** Р§РµС‚РєРѕРµ СЃРѕР±Р»СЋРґРµРЅРёРµ РіСЂР°С„РёРєР° Рё Р±СЋРґР¶РµС‚Р° Р±РµР· РІР°С€РµРіРѕ РµР¶РµРґРЅРµРІРЅРѕРіРѕ РїРѕРіСЂСѓР¶РµРЅРёСЏ РІ СЂСѓС‚РёРЅСѓ.

### 4. Р­РєСЃРїРµСЂС‚РёР·Р° Рё СЂР°Р·СЂРµС€РµРЅРёРµ СЃРїРѕСЂРѕРІ
*Р’Р°С€Р° СЃРёР»СЊРЅР°СЏ СЋСЂРёРґРёС‡РµСЃРєР°СЏ РїРѕР·РёС†РёСЏ.* Р’ СЃР»СѓС‡Р°Рµ СЂР°Р·РЅРѕРіР»Р°СЃРёР№ СЃ РїРѕРґСЂСЏРґС‡РёРєР°РјРё, РјС‹ РіРѕС‚РѕРІРёРј РІРµСЃРѕРјС‹Рµ СЌРєСЃРїРµСЂС‚РЅС‹Рµ Р·Р°РєР»СЋС‡РµРЅРёСЏ РґР»СЏ РґРѕСЃСѓРґРµР±РЅРѕРіРѕ СѓСЂРµРіСѓР»РёСЂРѕРІР°РЅРёСЏ РёР»Рё СЃСѓРґР°. РњС‹ РїРѕРјРѕРіР°РµРј РґРѕРєР°Р·Р°С‚СЊ РїСЂР°РІРѕС‚Сѓ РІ СЃРїРѕСЂР°С… Рѕ РєР°С‡РµСЃС‚РІРµ, РѕР±СЉРµРјР°С… Рё СЃС‚РѕРёРјРѕСЃС‚Рё СЂР°Р±РѕС‚.
> **Р’Р°С€ СЂРµР·СѓР»СЊС‚Р°С‚:** Р—Р°С‰РёС‚Р° РІР°С€РёС… Р°РєС‚РёРІРѕРІ Рё СЃРёР»СЊРЅР°СЏ РїРµСЂРµРіРѕРІРѕСЂРЅР°СЏ РїРѕР·РёС†РёСЏ.

**РЎРІСЏР¶РёС‚РµСЃСЊ СЃ РЅР°РјРё, С‡С‚РѕР±С‹ РѕР±СЃСѓРґРёС‚СЊ РІР°С€ РїСЂРѕРµРєС‚ Рё СѓР·РЅР°С‚СЊ, РєР°Рє РјС‹ РјРѕР¶РµРј Р·Р°С‰РёС‚РёС‚СЊ РІР°С€Рё РёРЅРІРµСЃС‚РёС†РёРё.**


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\about\index-zh.md

## е…ідєЋж€‘
HiпјЊж€‘жЇиµµеЊ–е†°пјЊжњЌеЉЎзЅ‘ж јжЉЂжњЇеёѓйЃ“иЂ…еЏЉе®ћи·µиЂ…пјЊ[и…ѕи®Їдє‘](https://cloud.tencent.com/product/tcm)е·ҐзЁ‹её€пјЊж›ѕж‹…д»»[дё­е…ґйЂљи®Ї](https://www.zte.com.cn/)жЉЂжњЇдё“е®¶пјЊLinux еџєй‡‘дјљејЂжєђйЎ№з›® [ONAP](https://www.onap.org/) йЎ№з›® leaderпјЊз”ІйЄЁж–‡дё­й—ґд»¶й«зє§йЎѕй—®з­‰гЂ‚ж€‘е€›е»єдє†жњЌеЉЎзЅ‘ж јејЂжєђйЎ№з›® [Aeraki Mesh](https://aeraki.net)пј€CNCF Sandbox йЎ№з›®пј‰пјЊеЏЇд»ҐењЁ Istio дё­з®Ўзђ† DubboгЂЃThriftгЂЃRedis д»ҐеЏЉд»»ж„Џз§Ѓжњ‰еЌЏи®®зљ„жµЃй‡ЏгЂ‚

е·ҐдЅњиЃ”зі»пјљ zhaohuabing@gmail.com

## е‡єз‰€з‰©
| ж ‡йў       |з±»ећ‹        |е‡єз‰€з¤ѕ   |й“ѕжЋҐ        |
| ----------- |----------- |----------- |----------- |
|[ж·±е…Ґзђ†и§Ј Istio вЂ” дє‘еЋџз”џжњЌеЉЎзЅ‘ж јиї›й¶е®ћж€](https://www.zhaohuabing.com/post/2021-08-26-istio-handbook/)|е®ћдЅ“д№¦з±Ќ|з”µе­ђе·Ґдёље‡єз‰€з¤ѕ|[иґ­д№°й“ѕжЋҐ](https://item.jd.com/13200745.html)|
|[Distributed Tracing with Jaeger, Kubernetes, and Istio](https://www.zhaohuabing.com/post/2021-09-08-distributed-tracing-with-jaeger-kubernetes-and-istio/)|ењЁзєїж•™зЁ‹|[ж›је®Ѓе‡єз‰€з¤ѕпј€зѕЋпј‰](https://www.manning.com/)|[30% жЉж‰Ј](https://www.manning.com/liveprojectseries/distributed-tracing-ser)|
|[дє‘еЋџз”џж•°жЌ®дё­еїѓзЅ‘з»њ](https://zhaohuabing.com/post/2021-08-27-cloud-native-data-center)|зї»иЇ‘д№¦з±Ќ|дё­е›Ѕз”µеЉ›е‡єз‰€з¤ѕ|[иґ­д№°й“ѕжЋҐ](https://item.jd.com/12929975.html)|
|[Istio иїђз»ґе®ћж€](https://istio-operation-bible.aeraki.net)|з”µе­ђд№¦з±Ќ||[ењЁзєїй…иЇ»](https://istio-operation-bible.aeraki.net)|


## жј”и®Іе€†дє« (йѓЁе€†)
|е№ґд»Ѕ          |еџЋеё‚        |дјљи®®         | е€†дє«дё»йў    |и®ІзЁї         |и§†йў‘       |
| ----------- |----------- |----------- |----------- |----------- |----------- |
|2022|зєїдёЉ|[IstioCon](https://events.istio.io/istiocon-2022)|[Istio + Aeraki ењЁи…ѕи®Їйџід№ђзљ„жњЌеЉЎзЅ‘ж јиђЅењ°](https://events.istio.io/istiocon-2022/sessions/tencent-music-aeraki/)|[дё‹иЅЅ](/slides/tencent-music-service-mesh-practice-with-istio-and-aeraki.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=6t_yPsq4Pi4)|
|2022|зєїдёЉ|[A2M](https://a2m.msup.com.cn/course?aid=2699&cid=15382)|[е…Ёж €жњЌеЉЎзЅ‘ж ј - Aeraki Mesh еЉ©дЅ ењЁ Istio жњЌеЉЎзЅ‘ж јдё­з®Ўзђ†д»»дЅ•дёѓе±‚жµЃй‡Џ](https://a2m.msup.com.cn/course?aid=2699&cid=15382)|[дё‹иЅЅ](/slides/full-stack-service-mesh-a2m-20220422.pdf)||
|2022|зєїдёЉ|[дє‘еЋџз”џж­ЈеЏ‘еЈ°](https://cloud.tencent.com/developer/salon/live-1403)| [Areaki Mesh ењЁ 2022 е†¬еҐҐдјљи§†йў‘з›ґж’­еє”з”Ёдё­зљ„жњЌеЉЎзЅ‘ж је®ћи·µ](https://mp.weixin.qq.com/s/zp9q99mGyH2VD9Dij2owWg) | [дё‹иЅЅ](http://localhost:1313/img/2022-03-30-aeraki-mesh-winter-olympics-practice/slides.pdf)|[и§‚зњ‹](https://youtu.be/uXxatQTKzW8)|
|2021|зєїдёЉ|[IstioCon](https://events.istio.io/istiocon-2021/)| [How to manage any layer-7 traffic in an Istio service mesh?](https://events.istio.io/istiocon-2021/sessions/how-to-manage-any-layer-7-traffic-in-an-istio-service-mesh/) | [дё‹иЅЅ](/slides/how-to-manage-any-layer-7-traffic-in-istio.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=sBS4utF68d8)|
|2020|зєїдёЉ|[CNBPS](https://www.cnbpa.org/)|[Istio жµЃй‡Џз®Ўзђ†еЋџзђ†дёЋеЌЏи®®ж‰©е±•](https://cloud.tencent.com/developer/article/1723804)|[дё‹иЅЅ](/slides/cnbps2020-istio-aeraki.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=lB5d4qbZqzU)|
|2019|ж€ђйѓЅ|[Service Mesher Meetup](https://cloudnative.to/blog/service-mesh-meetup-chengdu-20191028/)|[Service MeshжЇдё‹дёЂд»ЈSDNеђ—пјџ](https://cloudnative.to/blog/service-mesh-meetup-chengdu-20191028/)|[дё‹иЅЅ](/slides/what-can-service-mesh-learn-from-sdn-servicemesher-meetup-20191026.pdf)|[и§‚зњ‹](https://youtu.be/nGkxp-2OsKg)|
|2019|иҐїе®‰|ONAP Workshop|еџєдєЋ 5G зЅ‘з»њз®Ўзђ†зі»з»џзљ„жњЌеЉЎзЅ‘ж је®ћи·µ|[дё‹иЅЅ](/slides/service-mesh-practice-with-5g-management-system-lfn.pdf)|
|2018|еЌ—дє¬|[GNTC](https://www.bagevent.com/event/1624048?aId=)|[ONAP жњЌеЉЎзЅ‘ж је®ћи·µ](https://www.sdnlab.com/22596.html)|
|2017|ењЈе…‹ж‹‰ж‹‰|[NAP Developer Forum](https://wiki.onap.org/display/DW/ONAP+Beijing+Release+Developer+Forum%2C+Dec.+11-13%2C+2017%2C+Santa+Clara%2C+CA+US)|[MSB to Support Carrier Grade ONAP Microservice Architecture with Service Mesh](https://onapbeijing2017.sched.com/event/D5q2)|[дё‹иЅЅ](https://wiki.onap.org/display/DW/MSB+Service+Mesh+Planning?preview=%2F20873876%2F20873874%2FMSB+to+Support+Carrier+Grade+ONAP+Microservice+Architecture+with+Service+Mesh.pdf)|
|2017|ењЈе…‹ж‹‰ж‹‰|[ONS](https://wiki.onap.org/display/DW/ONAP@ONS2017)|Microservice Powered Orchestration|[дё‹иЅЅ](https://wiki.onap.org/display/DW/ONAP@ONS2017?preview=%2F3245268%2F3245309%2FMicroservice+Powered+Orchestration+Architecture.pdf)|
|2017|ж–°жіЅиҐї|[ONAP Developer Event](https://wiki.onap.org/display/DW/ONAP+Project+Developer+Event%3A+May+2+-+5%2C+2017%2C+Middletown%2C+NJ%2C+USA)|MSB Technical Deep Dive and ONAP Use Cases|[дё‹иЅЅ](https://www.slideshare.net/HuabingZhao/msb-depp-dive/)|
|2017|е·ґй»Ћ|[ONAP Developer Event](https://wiki.onap.org/display/DW/ONAP+Developer+Event+September+25-28%2C+2017%2C+Paris-Saclay%2C+France)|[Microservice Bus Tutorial](https://wiki.onap.org/display/DW/September+26-28+Topics#September2628Topics-M2)|[дё‹иЅЅ](https://www.slideshare.net/HuabingZhao/microservice-bus-tutorial)|

## ејЂжєђйЎ№з›®
|йЎ№з›®         |и§’и‰І        |  зЅ‘з«™   | GitHub     |
| ----------- |----------- |----------- |----------- |
| Aeraki Mesh | е€›е»єиЂ…    | https://aeraki.net  | http://github.com/aeraki-mesh |
| Istio       | Contributor| https://istio.io    | https://github.com/istio/istio|
| Envoy       | Contributor| https://www.envoyproxy.io |https://github.com/envoyproxy/envoy|
| ONAP        | йЎ№з›® Leader        | https://www.onap.org||
| hugo-theme-cleanwhite | е€›е»єиЂ…    | https://themes.gohugo.io/themes/hugo-theme-cleanwhite  | https://github.com/zhaohuabing/hugo-theme-cleanwhite |


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\about\index.md

---
title: "О нашей компании"
layout: page
---

## Ваш независимый партнер в строительстве

**«Аудит строительных проектов»** — это команда экспертов в области инжиниринга, финансов и управления, призванная защищать интересы инвесторов, девелоперов и собственников на каждом этапе реализации строительного проекта.

Наша миссия — обеспечить полную прозрачность, контроль над затратами и соблюдение сроков. Мы превращаем риски в управляемые процессы, а инвестиции — в гарантированный результат. С нами вы строите уверенность.

### Наша экспертиза:

*   **Финансово-технический аудит:** Проверка смет, договоров и проектной документации для предотвращения необоснованных расходов.
*   **Строительный контроль (Технадзор):** Гарантия того, что работы на площадке соответствуют проекту, СНиПам и стандартам качества.
*   **Управление проектами:** Полное сопровождение проекта от идеи до ввода в эксплуатацию, действуя как ваша внутренняя служба заказчика.
*   **Судебная и досудебная экспертиза:** Защита ваших интересов в спорах с подрядчиками и государственными органами.

За 12 лет работы мы успешно сопроводили более 150 проектов, сэкономив нашим клиентам миллиарды рублей.



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\archive\index.md

---
title: "Posts Archive"
layout: archive
type: archive
description: Archive of historical posts.
---

==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\cases\case-premier.md

---
title: "Кейс: Снижение затрат на 18% при строительстве ЖК"
date: 2025-06-15
---

# Кейс: Экономия 250 млн рублей на проекте жилого комплекса "Премьер"

**Клиент:** Крупный инвестиционный фонд.

**Задача:** Провести независимый аудит проектной документации и сметных расчетов на этапе подготовки к строительству жилого комплекса бизнес-класса.

**Что мы сделали:**
1.  **Анализ смет:** Проверили более 2000 позиций в сметной документации. Выявили необоснованное завышение стоимости логистики и материалов на 12% по сравнению с рыночными ценами.
2.  **Оптимизация проекта:** Предложили заменить некоторые дорогостоящие импортные инженерные системы на качественные отечественные аналоги, что позволило сократить расходы без потери в надежности.
3.  **Проверка объемов:** Обнаружили "задвоенные" объемы работ по благоустройству территории на сумму 45 млн рублей.

**Результат:**

> Общая стоимость проекта была снижена на **18%**. Прямая экономия для инвестора составила **более 250 млн рублей**, что повысило рентабельность проекта на 7%.



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\cases\_index.md

---
title: "Наши кейсы"
layout: list
---

Здесь собраны примеры нашей работы, демонстрирующие, как наш подход помогает клиентам достигать поставленных целей, экономить бюджет и избегать дорогостоящих ошибок.



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\notes\index.md

---
layout: page
---

## [Go иЇ­иЁЂе­¦д№ з¬”и®°](https://zhaohuabing.com/learning-golang)

## [Envoy е­¦д№ з¬”и®°](https://zhaohuabing.com/learning-envoy) 



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2017-11-03-hello-world.md

---
layout:     post 
title:      "Welcome to Zhaohuabing Blog"
subtitle:   "Hello World, Hello Blog"
date:       2017-11-04
author:     "иµµеЊ–е†°"
URL: "/2017/11/03/hello-world/"
image:      "https://img.zhaohuabing.com/post-bg-2015.jpg"
---

> вЂњYeah It's on. вЂќ


## Hello World!


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2017-11-04-istio-install_and_example.md

---
layout:     post
title:      "IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°"
subtitle:   "ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ"
description: "IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚"
excerpt: "IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚"
date:    2017-11-04T12:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-install_and_example/post-bg.jpg"
tags:
    - Istio
URL: "/2017/11/04/istio-install_and_example/"
categories: [ Tech ]
---

## жњЌеЉЎзЅ‘ж јз®Ђд»‹

**жњЌеЉЎзЅ‘ж ј**пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ**жћ¶жћ„жЁЎејЏ**гЂ‚

жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚

<!--more-->
и®©ж€‘д»¬жќҐе›ћйЎѕдёЂдё‹еѕ®жњЌеЉЎжћ¶жћ„зљ„еЏ‘е±•иї‡зЁ‹гЂ‚ењЁе‡єзЋ°жњЌеЉЎзЅ‘ж јд№‹е‰ЌпјЊж€‘д»¬ењЁеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏиї›зЁ‹е†…е¤„зђ†жњЌеЉЎйЂљи®ЇйЂ»иѕ‘пјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊз†”ж–­пјЊй‡ЌиЇ•пјЊи¶…ж—¶з­‰йЂ»иѕ‘пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/5-a.png)  
йЂљиї‡еЇ№иї™йѓЁе€†иґџиґЈжњЌеЉЎйЂљи®Їзљ„йЂ»иѕ‘иї›иЎЊжЉЅи±Ўе’ЊеЅ’зєіпјЊеЏЇд»ҐеЅўж€ђдёЂдёЄд»Јз Ѓеє“дѕ›еє”з”ЁзЁ‹еєЏи°ѓз”ЁгЂ‚дЅ†еє”з”ЁзЁ‹еєЏиїжЇйњЂи¦Ѓе¤„зђ†е’Њеђ„з§ЌиЇ­иЁЂд»Јз Ѓеє“зљ„и°ѓз”Ёз»†иЉ‚пјЊе№¶дё”еђ„з§Ќд»Јз Ѓеє“дє’дёЌе…је®№пјЊеЇји‡ґеЇ№еє”з”ЁзЁ‹еєЏдЅїз”Ёзљ„иЇ­иЁЂе’Њд»Јз ЃжЎ†жћ¶жњ‰иѕѓе¤§й™ђе€¶гЂ‚

е¦‚жћњж€‘д»¬ж›ґиї›дёЂж­ҐпјЊе°†иї™йѓЁе€†йЂ»иѕ‘д»Ћеє”з”ЁзЁ‹еєЏиї›зЁ‹дё­жЉЅеЏ–е‡єжќҐпјЊдЅњдёєдёЂдёЄеЌ•з‹¬зљ„иї›зЁ‹иї›иЎЊйѓЁзЅІпјЊе№¶е°†е…¶дЅњдёєжњЌеЉЎй—ґзљ„йЂљдїЎд»Јзђ†пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/6-a.png)  
е› дёєйЂљи®Їд»Јзђ†иї›зЁ‹е’Њеє”з”Ёиї›зЁ‹дёЂиµ·йѓЁзЅІпјЊе› ж­¤еЅўи±Ўењ°жЉЉиї™з§ЌйѓЁзЅІж–№ејЏз§°дёєвЂњsidecarвЂќпј€дё‰иЅ®ж‘©ж‰зљ„жЊЋж–—пј‰гЂ‚
![](/img/istio-install_and_example/sidecar.jpg)
еє”з”Ёй—ґзљ„ж‰Ђжњ‰жµЃй‡ЏйѓЅйњЂи¦Ѓз»Џиї‡д»Јзђ†пјЊз”±дєЋд»Јзђ†д»Ґsidecarж–№ејЏе’Њеє”з”ЁйѓЁзЅІењЁеђЊдёЂеЏ°дё»жњєдёЉпјЊеє”з”Ёе’Њд»Јзђ†д№‹й—ґзљ„йЂљи®Їиў«и®¤дёєжЇеЏЇйќ зљ„гЂ‚з„¶еђЋз”±д»Јзђ†жќҐиґџиґЈж‰ѕе€°з›®зљ„жњЌеЉЎе№¶иґџиґЈйЂљи®Їзљ„еЏЇйќ жЂ§е’Ње®‰е…Ёз­‰й—®йўгЂ‚

еЅ“жњЌеЉЎе¤§й‡ЏйѓЁзЅІж—¶пјЊйљЏзќЂжњЌеЉЎйѓЁзЅІзљ„sidecarд»Јзђ†д№‹й—ґзљ„иїћжЋҐеЅўж€ђдє†дёЂдёЄе¦‚дё‹е›ѕж‰Ђз¤єзљ„зЅ‘ж јпјЊиў«з§°д№‹дёєService Meshпј€жњЌеЉЎзЅ‘ж јпј‰пјЊд»ЋиЂЊеѕ—е‡єе¦‚дё‹зљ„жњЌеЉЎзЅ‘ж је®љд№‰гЂ‚

_жњЌеЉЎзЅ‘ж јжЇдёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊз”ЁдєЋе¤„зђ†жњЌеЉЎй—ґйЂљдїЎгЂ‚дє‘еЋџз”џеє”з”Ёжњ‰зќЂе¤Ќжќ‚зљ„жњЌеЉЎж‹“ж‰‘пјЊжњЌеЉЎзЅ‘ж јдїќиЇЃиЇ·ж±‚еЏЇд»ҐењЁиї™дє›ж‹“ж‰‘дё­еЏЇйќ ењ°з©їжў­гЂ‚ењЁе®ћй™…еє”з”ЁеЅ“дё­пјЊжњЌеЉЎзЅ‘ж јйЂљеёёжЇз”±дёЂзі»е€—иЅ»й‡Џзє§зљ„зЅ‘з»њд»Јзђ†з»„ж€ђзљ„пјЊе®ѓд»¬дёЋеє”з”ЁзЁ‹еєЏйѓЁзЅІењЁдёЂиµ·пјЊдЅ†еє”з”ЁзЁ‹еєЏдёЌйњЂи¦ЃзџҐйЃ“е®ѓд»¬зљ„е­ењЁгЂ‚_

_William Morgan _[_WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?_](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)_                                               _

![](/img/istio-install_and_example/mesh1.png)

дє†и§Јдє†жњЌеЉЎзЅ‘ж јзљ„еџєжњ¬ж¦‚еїµпјЊдё‹дёЂж­Ґд»‹з»ЌдёЂдё‹[Istio](https://istio.io/)гЂ‚IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњпјЊIstioжћ¶жћ„е…€иї›пјЊи®ѕи®Ўеђ€зђ†пјЊе€љдёЂе®Јеёѓе°±иЋ·еѕ—дє†LinkerdпјЊnginmeshз­‰е…¶д»–Service MeshйЎ№з›®зљ„еђ€дЅњд»ҐеЏЉRed hat/Pivotal/Weaveworks/Tigera/Datawireз­‰зљ„з§ЇжћЃе“Ќеє”гЂ‚  
![](/img/istio-install_and_example/Istio-Architecture.PNG)  
еЏЇд»Ґи®ѕжѓіпјЊењЁдёЌд№…зљ„е°†жќҐпјЊеѕ®жњЌеЉЎзљ„ж ‡е‡†еџєзЎЂи®ѕж–Ѕе°†жЇй‡‡з”Ёkubernetesиї›иЎЊжњЌеЉЎйѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊй‡‡з”ЁIstioе¤„зђ†жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†пјЊдё¤иЂ…з›ёиѕ…з›ёж€ђпјЊзјєдёЂдёЌеЏЇгЂ‚

## е®‰иЈ…Kubernetes

IstioжЇеѕ®жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†зљ„еџєзЎЂи®ѕж–Ѕе±‚пјЊжњ¬иє«е№¶дёЌиґџиґЈжњЌеЉЎзљ„йѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊе› ж­¤йњЂи¦Ѓе’ЊKubernetesз­‰жњЌеЉЎзј–жЋ’е·Ґе…·еЌЏеђЊе·ҐдЅњгЂ‚

IstioењЁжћ¶жћ„и®ѕи®ЎдёЉж”ЇжЊЃеђ„з§ЌжњЌеЉЎйѓЁзЅІе№іеЏ°пјЊеЊ…ж‹¬kubernetesпјЊcloud foundryпјЊMesosз­‰пјЊдЅ†IstioдЅњдёєGoogleдєІе„їе­ђпјЊеЇ№и‡Єе®¶е…„ејџKubernetesзљ„ж”ЇжЊЃи‚Їе®љжЇй¦–е…€иЂѓи™‘зљ„гЂ‚з›®е‰Ќз‰€жњ¬зљ„0.2з‰€жњ¬зљ„ж‰‹е†Њдё­д№џеЏЄжњ‰Kubernetesй›†ж€ђзљ„е®‰иЈ…иЇґжЋпјЊе…¶е®ѓйѓЁзЅІе№іеЏ°е’ЊIstioзљ„й›†ж€ђе°†ењЁеђЋз»­з‰€жњ¬дё­ж”ЇжЊЃгЂ‚

д»ЋIstioжЋ§е€¶йќўPilotзљ„жћ¶жћ„е›ѕеЏЇд»Ґзњ‹е€°еђ„з§ЌйѓЁзЅІе№іеЏ°еЏЇд»ҐйЂљиї‡жЏ’д»¶ж–№ејЏй›†ж€ђе€°Istioдё­пјЊдёєIstioжЏђдѕ›жњЌеЉЎжіЁе†Ње’ЊеЏ‘зЋ°еЉџиѓЅгЂ‚

![](/img/istio-install_and_example/PilotAdapters.PNG)

kubernetesй›†зѕ¤зљ„йѓЁзЅІиѕѓдёєе¤Ќжќ‚пјЊ[Rancher](http://rancher.com)жЏђдѕ›дє†kubernetesйѓЁзЅІжЁЎжќїпјЊйЂљиї‡дёЂй”®ејЏе®‰иЈ…пјЊеЏЇд»Ґе¤§е¤§з®ЂеЊ–kubernetesй›†зѕ¤зљ„е®‰иЈ…йѓЁзЅІиї‡зЁ‹гЂ‚

жњ¬ж–‡зљ„жµ‹иЇ•зЋЇеўѓдёєдё¤еЏ°и™љжњєз»„ж€ђзљ„й›†зѕ¤пјЊж“ЌдЅњзі»з»џжЇUbuntu 16.04.3 LTSгЂ‚дё¤еЏ°и™љжњєзљ„ењ°еќЂе€†е€«дёєпјљ  
Rancher Server: 10.12.25.60  
е·ҐдЅњиЉ‚з‚№: 10.12.25.116

йЂљиї‡Rancherе®‰иЈ…Kubernetesй›†зѕ¤зљ„з®Ђи¦Ѓж­ҐйЄ¤е¦‚дё‹пјљ

### ењЁserverе’Ње·ҐдЅњиЉ‚з‚№дёЉе®‰иЈ…docker

е› дёєk8sе№¶дёЌж”ЇжЊЃжњЂж–°з‰€жњ¬зљ„dockerпјЊе› ж­¤йњЂж №жЌ®иЇҐйЎµйќўе®‰иЈ…жЊ‡е®љз‰€жњ¬зљ„docker  
[http://rancher.com/docs/rancher/v1.6/en/hosts/](http://rancher.com/docs/rancher/v1.6/en/hosts/) ,з›®е‰ЌжЇ1.12з‰€жњ¬гЂ‚

```
curl https://releases.rancher.com/install-docker/1.12.sh | sh
```

е¦‚жћњйњЂи¦Ѓд»Ґйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤пјЊеЏ‚иЂѓ[е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤](http://zhaohuabing.com/2018/02/09/docker-without-sudo/)гЂ‚


### еђЇеЉЁRancher server

```
sudo docker run -d --restart=always -p 8080:8080 rancher/server
```

### з™»еЅ•Rancherз®Ўзђ†з•ЊйќўпјЊе€›е»єk8sй›†зѕ¤

Rancher з®Ўзђ†з•Њйќўзљ„зјєзњЃз«ЇеЏЈдёє8080пјЊењЁжµЏи§€е™Ёдё­ж‰“ејЂиЇҐз•ЊйќўпјЊйЂљиї‡иЏњеЌ•Default-&gt;Manage Environment-&gt;Add Environmentж·»еЉ дёЂдёЄkubernetesй›†зѕ¤гЂ‚иї™й‡ЊйњЂи¦Ѓиѕ“е…ҐеђЌз§°kubernetesпјЊжЏЏиї°пјЊз„¶еђЋйЂ‰ж‹©kubernetes templateпјЊз‚№е‡»createпјЊе€›е»єKubernetesзЋЇеўѓгЂ‚![](/img/istio-install_and_example/Rancher.PNG)

з‚№е‡»иЏњеЌ•е€‡жЌўе€°kubernetes EnvironmentпјЊз„¶еђЋз‚№е‡»еЏідёЉж–№зљ„Add a hostпјЊж·»еЉ дёЂеЏ°hostе€°kubernetesй›†зѕ¤дё­гЂ‚жіЁж„Џж·»еЉ е€°й›†зѕ¤дё­зљ„hostдёЉеї…йЎ»е…€е®‰иЈ…еҐЅз¬¦еђ€и¦Ѓж±‚зљ„dockerз‰€жњ¬гЂ‚

з„¶еђЋж №жЌ®RancherйЎµйќўдёЉзљ„жЏђз¤єењЁhostдёЉж‰§иЎЊи„љжњ¬еђЇеЉЁRancher agentпјЊд»Ґе°†hostеЉ е…Ґranch clusterгЂ‚жіЁж„Џи„љжњ¬дё­еЊ…еђ«дє†rancher serverзљ„ењ°еќЂпјЊењЁhostдёЉеї…йЎ»еЏЇд»ҐpingйЂљиЇҐењ°еќЂгЂ‚![](/img/istio-install_and_example/Rancher-add-host.PNG)

hostеЉ е…ҐclusterеђЋRancherдјљењЁhostдёЉpull kubernetesзљ„imagesе№¶еђЇеЉЁkubernetesз›ёе…іжњЌеЉЎпјЊж №жЌ®е®‰иЈ…зЋЇеўѓж‰ЂењЁзЅ‘з»њжѓ…е†µдёЌеђЊйњЂи¦Ѓз­‰еѕ…е‡ е€†й’џе€°е‡ еЌЃе€†й’џдёЌз­‰гЂ‚

### е®‰иЈ…е№¶й…ЌзЅ®kubectl

еѕ…Rancherз•ЊйќўжЏђз¤єkubernetesе€›е»єж€ђеЉџеђЋпјЊе®‰иЈ…kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectl

```
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.7.4/bin/linux/amd64/kubectl

chmod +x ./kubectl

sudo mv ./kubectl /usr/local/bin/kubectl
```

з™»еЅ•Rancherз®Ўзђ†з•Њйќў, е°† All Environments-&gt;kubernetes-&gt;KUBERNETES-&gt;CLI create config зљ„е†…е®№ж‹·иґќе€°~/.kube/config дё­пјЊд»Ґй…ЌзЅ®Kubectlе’Њkubernetes serverзљ„иїћжЋҐдїЎжЃЇгЂ‚![](/img/istio-install_and_example/Rancher-kubectl.PNG)

## е®‰иЈ…Istio

IstioжЏђдѕ›дє†е®‰иЈ…и„љжњ¬пјЊиЇҐи„љжњ¬дјљж №жЌ®ж“ЌдЅњзі»з»џдё‹иЅЅз›ёеє”зљ„Istioе®‰иЈ…еЊ…е№¶и§ЈеЋ‹е€°еЅ“е‰Ќз›®еЅ•гЂ‚

```
 curl -L https://git.io/getLatestIstio | sh -
```

ж №жЌ®и„љжњ¬зљ„жЏђз¤єе°†Istioе‘Ѕд»¤иЎЊж‰ЂењЁи·Їеѕ„еЉ е…Ґе€°зі»з»џPATHзЋЇеўѓеЏй‡Џдё­

```
export PATH="$PATH:/home/ubuntu/istio-0.2.10/bin"
```

ењЁkubernetesй›†зѕ¤дё­йѓЁзЅІIstioжЋ§е€¶йќўжњЌеЉЎ

```
kubectl apply -f istio-0.2.10/install/kubernetes/istio.yaml
```

зЎ®и®¤IstioжЋ§е€¶йќўжњЌеЉЎе·Іж€ђеЉџйѓЁзЅІгЂ‚Kubernetesдјље€›е»єдёЂдёЄistio-system namespaceпјЊе°†Istioз›ёе…іжњЌеЉЎйѓЁзЅІењЁиЇҐnamespaceдё­гЂ‚

зЎ®и®¤Istioз›ёе…іServiceзљ„йѓЁзЅІзЉ¶жЂЃ

```
kubectl get svc -n istio-system
```

```
NAME            CLUSTER-IP      EXTERNAL-IP        PORT(S)                                                  AGE
istio-egress    10.43.192.74    <none>             80/TCP                                                   25s
istio-ingress   10.43.16.24     10.12.25.116,...   80:30984/TCP,443:30254/TCP                               25s
istio-mixer     10.43.215.250   <none>             9091/TCP,9093/TCP,9094/TCP,9102/TCP,9125/UDP,42422/TCP   26s
istio-pilot     10.43.211.140   <none>             8080/TCP,443/TCP                                         25s
```

зЎ®и®¤Istioз›ёе…іPodзљ„йѓЁзЅІзЉ¶жЂЃ

```
kubectl get pods -n istio-system
```

```
NAME                             READY     STATUS    RESTARTS   AGE
istio-ca-367485603-qvbfl         1/1       Running   0          2m
istio-egress-3571786535-gwbgk    1/1       Running   0          2m
istio-ingress-2270755287-phwvq   1/1       Running   0          2m
istio-mixer-1505455116-9hmcw     2/2       Running   0          2m
istio-pilot-2278433625-68l34     1/1       Running   0          2m
```

д»ЋдёЉйќўзљ„иѕ“е‡єеЏЇд»Ґзњ‹е€°пјЊиї™й‡ЊйѓЁзЅІзљ„дё»и¦ЃжЇIstioжЋ§е€¶йќўзљ„жњЌеЉЎпјЊиЂЊж•°жЌ®йќўзљ„зЅ‘з»њд»Јзђ†и¦Ѓе¦‚дЅ•йѓЁзЅІе‘ўпјџ  
ж №жЌ®е‰ЌйќўжњЌеЉЎзЅ‘ж јзљ„жћ¶жћ„д»‹з»ЌеЏЇд»Ґеѕ—зџҐпјЊзЅ‘з»њд»Јзђ†жЇйљЏзќЂеє”з”ЁзЁ‹еєЏд»Ґsidecarзљ„ж–№ејЏйѓЁзЅІзљ„пјЊењЁдё‹йќўйѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏж—¶дјљжј”з¤єе¦‚дЅ•йѓЁзЅІзЅ‘з»њд»Јзђ†гЂ‚

## йѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏ

ењЁдё‹иЅЅзљ„Istioе®‰иЈ…еЊ…зљ„samplesз›®еЅ•дё­еЊ…еђ«дє†з¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚

йЂљиї‡дё‹йќўзљ„е‘Ѕд»¤йѓЁзЅІBookinfoеє”з”Ё

```
kubectl apply -f <(istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml)
```

зЎ®и®¤BookinfoжњЌеЉЎе·Із»ЏеђЇеЉЁ

```
kubectl get services
```

```
NAME          CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
details       10.43.175.204   <none>        9080/TCP   6m
kubernetes    10.43.0.1       <none>        443/TCP    5d
productpage   10.43.19.154    <none>        9080/TCP   6m
ratings       10.43.50.160    <none>        9080/TCP   6m
reviews       10.43.219.248   <none>        9080/TCP   6m
```

ењЁжµЏи§€е™Ёдё­ж‰“ејЂеє”з”ЁзЁ‹еєЏйЎµйќўпјЊењ°еќЂдёєistio-ingressзљ„External IP

`http://10.12.25.116/productpage`  
![](/img/istio-install_and_example/Bookinfo.PNG)

## зђ†и§ЈIstio Proxyе®ћзЋ°еЋџзђ†

жњЌеЉЎзЅ‘ж јз›ёеЇ№дєЋsprint cloudз­‰еѕ®жњЌеЉЎд»Јз Ѓеє“зљ„дёЂе¤§дјеЉїжЇе…¶еЇ№еє”з”ЁзЁ‹еєЏж— дѕµе…ҐпјЊењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏд»Јз Ѓзљ„е‰ЌжЏђдё‹еЇ№еє”з”ЁжњЌеЉЎд№‹й—ґзљ„йЂљдїЎиї›иЎЊжЋҐз®ЎпјЊIstioжЇе¦‚дЅ•еЃље€°иї™з‚№зљ„е‘ўпјџдё‹йќўйЂљиї‡з¤єдѕ‹зЁ‹еєЏзљ„йѓЁзЅІе‰–жћђе…¶дё­зљ„еЋџзђ†гЂ‚

е¦‚жћњз†џж‚‰kubernetesзљ„еє”з”ЁйѓЁзЅІиї‡зЁ‹пјЊж€‘д»¬зџҐйЃ“Bookinfoеє”з”ЁзЁ‹еєЏзљ„ж ‡е‡†йѓЁзЅІж–№ејЏжЇиї™ж ·зљ„пјљ

```
kubectl apply -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml
```

дЅ†д»ЋдёЉйќўзљ„йѓЁзЅІиї‡зЁ‹еЏЇд»Ґзњ‹е€°пјЊkubectl applyе‘Ѕд»¤зљ„иѕ“е…Ґе№¶дёЌжЇдёЂдёЄkubernetes yamlж–‡д»¶пјЊиЂЊжЇ`istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml`е‘Ѕд»¤зљ„иѕ“е‡єгЂ‚

иї™ж®µе‘Ѕд»¤ењЁиї™й‡Њиµ·е€°дє†д»Ђд№€дЅњз”Ёе‘ўпјџйЂљиї‡еЌ•з‹¬иїђиЎЊиЇҐе‘Ѕд»¤е№¶е°†иѕ“е‡єдїќе­е€°ж–‡д»¶дё­пјЊж€‘д»¬еЏЇд»ҐжџҐзњ‹istioctl kube-injectе‘Ѕд»¤е€°еє•ењЁиѓЊеђЋжђћдє†д»Ђд№€е°ЏеЉЁдЅњгЂ‚

```
istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml >> bookinfo_with_sidecar.yaml
```

еЇ№жЇ”bookinfo/_with/_sidecar.yamlж–‡д»¶е’Њbookinfo.yamlпјЊеЏЇд»Ґзњ‹е€°иЇҐе‘Ѕд»¤ењЁbookinfo.yamlзљ„еџєзЎЂдёЉеЃљдє†е¦‚дё‹ж”№еЉЁпјљ

* дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄд»Јзђ†containerпјЊиЇҐcontainerз”ЁдєЋе¤„зђ†еє”з”Ёcontainerд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊи·Їз”±и§„е€™е¤„зђ†з­‰гЂ‚д»Ћдё‹йќўзљ„й…ЌзЅ®ж–‡д»¶дё­еЏЇд»Ґзњ‹е€°proxy containerйЂљиї‡15001з«ЇеЏЈиї›иЎЊз›‘еђ¬пјЊжЋҐж”¶еє”з”Ёcontainerзљ„жµЃй‡ЏгЂ‚

* дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄinit-containerпјЊиЇҐcontainerз”ЁдєЋй…ЌзЅ®iptableпјЊе°†еє”з”Ёcontainerзљ„жµЃй‡ЏеЇје…Ґе€°д»Јзђ†containerдё­гЂ‚

```
  #жіЁе…Ґistio зЅ‘з»њд»Јзђ†
  image: docker.io/istio/proxy_debug:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-proxy
        resources: {}
        securityContext:
          privileged: true
          readOnlyRootFilesystem: false
          runAsUser: 1337
        volumeMounts:
        - mountPath: /etc/istio/proxy
          name: istio-envoy
        - mountPath: /etc/certs/
          name: istio-certs
          readOnly: true
      #дЅїз”Ёinit containerдї®ж”№iptable
      initContainers:
      - args:
        - -p
        - "15001"
        - -u
        - "1337"
        image: docker.io/istio/proxy_init:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-init
```

д»ЋдёЉйќўзљ„е€†жћђпјЊж€‘д»¬еЏЇд»Ґзњ‹е‡єIstioзљ„kube-injectе·Ґе…·зљ„з”ЁйЂ”еЌіжЇе°†д»Јзђ†sidecarжіЁе…Ґдє†Bookinfoзљ„kubernetes yamlйѓЁзЅІж–‡д»¶дё­гЂ‚йЂљиї‡иЇҐж–№ејЏпјЊдёЌйњЂи¦Ѓз”Ёж€·ж‰‹еЉЁдї®ж”№kubernetesзљ„йѓЁзЅІж–‡д»¶пјЊеЌіеЏЇењЁйѓЁзЅІжњЌеЉЎж—¶е°†sidecarе’Њеє”з”ЁдёЂиµ·йѓЁзЅІгЂ‚

йЂљиї‡е‘Ѕд»¤жџҐзњ‹podдё­йѓЁзЅІзљ„docker containerпјЊзЎ®и®¤жЇеђ¦йѓЁзЅІдє†Istioд»Јзђ†

```
kubectl get pods

NAME                              READY     STATUS    RESTARTS   AGE
details-v1-3688945616-8hv8x       2/2       Running   0          1d
productpage-v1-2055622944-cslw1   2/2       Running   0          1d
ratings-v1-233971408-8dcnp        2/2       Running   0          1d
reviews-v1-1360980140-474x6       2/2       Running   0          1d
reviews-v2-1193607610-cfhb5       2/2       Running   0          1d
reviews-v3-3340858212-b5c8k       2/2       Running   0          1d
```

жџҐзњ‹reviews podзљ„дё­зљ„containerпјЊеЏЇд»Ґзњ‹е€°podдё­й™¤reviews containerе¤–иїйѓЁзЅІдє†дёЂдёЄistio-proxy container

```
kubectl get pod reviews-v3-3340858212-b5c8k -o jsonpath='{.spec.containers[*].name}'

reviews istio-proxy
```

иЂЊеє”з”Ёcontainerзљ„жµЃй‡ЏжЇе¦‚дЅ•иў«еЇје…Ґе€°istio-proxyдё­зљ„е‘ўпјџ

еЋџзђ†жЇIstio proxyењЁз«ЇеЏЈ15001иї›иЎЊз›‘еђ¬пјЊpodдё­еє”з”Ёcontainerзљ„жµЃй‡ЏйЂљиї‡iptablesи§„е€™иў«й‡Ќе®љеђ‘е€°15001з«ЇеЏЈдё­гЂ‚дё‹йќўж€‘д»¬иї›е…Ґpodе†…йѓЁпјЊйЂљиї‡з›ёе…іе‘Ѕд»¤жќҐйЄЊиЇЃиї™дёЂз‚№гЂ‚

е…€йЂљиї‡е‘Ѕд»¤иЎЊж‰ѕе€°ratings-v1-233971408-8dcnp podзљ„PIDпјЊд»Ґз”ЁдєЋжџҐзњ‹е…¶network namespaceе…§зљ„iptablesи§„е€™гЂ‚

```
CONTAINER_ID=$(kubectl get po ratings-v1-233971408-8dcnp -o jsonpath='{.status.containerStatuses[0].containerID}' | cut -c 10-21)

PID=$(sudo docker inspect --format '{{ .State.Pid }}' $CONTAINER_ID)
```

еЏЇд»ҐдЅїз”Ёnsenterе‘Ѕд»¤жќҐиї›е…Ґpodзљ„network namespaceж‰§иЎЊе‘Ѕд»¤гЂ‚  
дЅїз”Ёnetstatе‘Ѕд»¤еЏЇд»Ґзњ‹е€°istio proxyд»Јзђ†зљ„з›‘еђ¬з«ЇеЏЈ15001

```
sudo nsenter -t ${PID} -n netstat -all | grep 15001

tcp        0      0 *:15001                 *:*                     LISTEN
```

дЅїз”Ёiptablesе‘Ѕд»¤еЏЇд»ҐжџҐзњ‹е€°дё‹йќўзљ„и§„е€™

```
sudo nsenter -t ${PID} -n iptables -t nat -L -n -v

Chain PREROUTING (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination
   16   960 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-prerouting */

Chain INPUT (policy ACCEPT 16 packets, 960 bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination
 1969  118K ISTIO_OUTPUT  tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-output */

Chain POSTROUTING (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain ISTIO_OUTPUT (1 references)
 pkts bytes target     prot opt in     out     source               destination
    0     0 ISTIO_REDIRECT  all  --  *      lo      0.0.0.0/0           !127.0.0.1            /* istio/redirect-implicit-loopback */
 1969  118K RETURN     all  --  *      *       0.0.0.0/0            0.0.0.0/0            owner UID match 1337 /* istio/bypass-envoy */
    0     0 RETURN     all  --  *      *       0.0.0.0/0            127.0.0.1            /* istio/bypass-explicit-loopback */
    0     0 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-default-outbound */

Chain ISTIO_REDIRECT (3 references)
 pkts bytes target     prot opt in     out     source               destination
   16   960 REDIRECT   tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-to-envoy-port */ redir ports 15001
```

д»Ћpodж‰ЂењЁnetwork namespaceзљ„iptablesи§„е€™дё­еЏЇд»Ґзњ‹е€°пјЊpodзљ„е…ҐеЏЈе’Ње‡єеЏЈжµЃй‡Џе€†е€«йЂљиї‡PREROUTINGе’ЊOUTPUT chainжЊ‡еђ‘дє†и‡Єе®љд№‰зљ„ISTIO/_REDIRECT chainпјЊиЂЊISTIO/_REDIRECT chainдё­зљ„и§„е€™е°†ж‰Ђжњ‰жµЃй‡ЏйѓЅй‡Ќе®љеђ‘е€°дє†istio proxyж­ЈењЁз›‘еђ¬зљ„15001з«ЇеЏЈдё­гЂ‚д»ЋиЂЊе®ћзЋ°дє†еЇ№еє”з”ЁйЂЏжЋзљ„йЂљдїЎд»Јзђ†гЂ‚

## жµ‹иЇ•и·Їз”±и§„е€™

е¤љж¬Ўе€·ж–°Bookinfoеє”з”Ёзљ„productpageйЎµйќўпјЊж€‘д»¬дјљеЏ‘зЋ°иЇҐйЎµйќўдё­жѕз¤єзљ„Book Reviewsжњ‰ж—¶еЂ™жњ‰её¦зєўжџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶жњ‰её¦й»‘жџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶еЏЄжњ‰ж–‡е­—иЇ„д»·дїЎжЃЇгЂ‚  
иї™жЇе› дёєBookinfoеє”з”ЁзЁ‹еєЏйѓЁзЅІдє†3дёЄз‰€жњ¬зљ„ReviewsжњЌеЉЎпјЊжЇЏдёЄз‰€жњ¬зљ„иї”е›ћз»“жћњдёЌеђЊпјЊењЁжІЎжњ‰и®ѕзЅ®и·Їз”±и§„е€™ж—¶пјЊзјєзњЃзљ„и·Їз”±дјље°†иЇ·ж±‚йљЏжњєи·Їз”±е€°жЇЏдёЄз‰€жњ¬зљ„жњЌеЉЎдёЉпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ

![](/img/istio-install_and_example/withistio.svg)

йЂљиї‡е€›е»єдёЂжќЎи·Їз”±и§„е€™route-rule.yamlпјЊе°†иЇ·ж±‚жµЃй‡ЏйѓЅеј•еЇје€°Reviews-v1жњЌеЉЎдёЉ

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
```

еђЇз”ЁиЇҐи·Їз”±и§„е€™

```
istioctl create -f route-rule.yaml -n default
```

е†Ќж¬Ўж‰“ејЂproductpageйЎµйќў, ж— и®єе€·ж–°е¤ље°‘ж¬ЎпјЊжѕз¤єзљ„йЎµйќўе°†е§‹з»€жЇv1з‰€жњ¬зљ„иѕ“е‡єпјЊеЌідёЌеё¦жџзљ„иЇ„д»·е†…е®№гЂ‚  
![](/img/istio-install_and_example/Bookinfo-no-star.PNG)  
е€ й™¤иЇҐи·Їз”±и§„е€™

```
istioctl delete -f route_rule.yaml -n default
```

з»§з»­е€·ж–°productpageйЎµйќў,е°†й‡Ќж–°йљЏжњєе‡єзЋ°дё‰дёЄз‰€жњ¬зљ„иЇ„д»·е†…е®№йЎµйќўгЂ‚

## е€†еёѓејЏи°ѓз”ЁиїЅиёЄ

й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ `istio-0.2.10/install/kubernetes/addons/zipkin.yaml` йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®zipkinз•ЊйќўгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: zipkin
  namespace: istio-system
spec:
  ports:
  - name: http
    port: 9411
    nodePort: 30001
  selector:
    app: zipkin
  type: NodePort
```

йѓЁзЅІzipkinжњЌеЉЎгЂ‚

```
kubectl apply -f istio-0.2.10/install/kubernetes/addons/zipkin.yaml
```

ењЁжµЏи§€е™Ёдё­ж‰“ејЂzipkinйЎµйќўпјЊеЏЇд»ҐиїЅиёЄдёЂдёЄз«Їе€°з«Їи°ѓз”Ёз»Џиї‡дє†е“Єдє›жњЌеЉЎпјЊд»ҐеЏЉеђ„дёЄжњЌеЉЎиЉ±иґ№зљ„ж—¶й—ґз­‰иЇ¦з»†дїЎжЃЇпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
`http://10.12.25.116:30001`  
![](/img/istio-install_and_example/zipkin.PNG)

## жЂ§иѓЅжЊ‡ж ‡з›‘жЋ§

й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ `istio-0.2.10/install/kubernetes/addons/grafana.yaml` йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®grafanaз•ЊйќўгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: istio-system
spec:
  ports:
  - port: 3000
    protocol: TCP
    name: http
    nodePort: 30002
  selector:
    app: grafana
  type: NodePort
```

prometheusз”ЁдєЋж”¶й›†е’Ње­е‚ЁдїЎжЃЇжЊ‡ж ‡пјЊgrafanaз”ЁдєЋе°†жЂ§иѓЅжЊ‡ж ‡дїЎжЃЇиї›иЎЊеЏЇи§†еЊ–е‘€зЋ°пјЊйњЂи¦ЃеђЊж—¶йѓЁзЅІprometheusе’ЊgrafanaжњЌеЉЎгЂ‚

```
kubectl apply -f istio-0.2.10/install/kubernetes/addons/prometheus.yaml

kubectl apply -f istio-0.2.10/install/kubernetes/addons/grafana.yaml
```

й¦–е…€ењЁжµЏи§€е™Ёдё­ж‰“ејЂBookinfoзљ„йЎµйќў`http://10.12.25.116/productpage`пјЊе€·ж–°е‡ ж¬ЎпјЊд»Ґе€¶йЂ дёЂдє›жЂ§иѓЅжЊ‡ж ‡ж•°жЌ®гЂ‚

з„¶еђЋж‰“ејЂgrafanaйЎµйќўжџҐзњ‹жЂ§иѓЅжЊ‡ж ‡`http://10.12.25.116:30002/dashboard/db/istio-dashboard`пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/grafana.PNG)

## еЏ‚иЂѓ

* [Istioе®ж–№ж–‡жЎЈ](https://istio.io/docs/)
* [Pattern: Service Mesh](http://philcalcado.com/2017/08/03/pattern_service_mesh.html)
* [WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)
* [A HackerвЂ™s Guide to Kubernetes Networking](https://thenewstack.io/hackers-guide-kubernetes-networking/)





==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2017-11-07-istio-traffic-shifting.md

---
layout:     post
title:      "дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»"
subtitle: В  "жњ¬ж–‡зї»иЇ‘и‡Єistioе®ж–№ж–‡жЎЈ"
description: "жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚"
excerpt: "жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚"
date:     2017-11-07
author: В  В  "иµµеЊ–е†°"
image: "/img/istio-traffic-shifting/crossroads.png"
categories: [ "Tech"]
tags:
    - Istio
URL: "/2017/11/07/istio-traffic-shifting/"
---

е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ[istioдё­ж–‡ж–‡жЎЈ](http://istio.doczh.cn/)гЂ‚

еЋџж–‡еЏ‚и§Ѓ[Traffic Shifting](https://istio.io/docs/tasks/traffic-management/traffic-shifting.html)гЂ‚

жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚
<!--more-->
дёєз®ЂеЌ•иµ·и§ЃпјЊжњ¬д»»еЉЎе°†й‡‡з”Ёдё¤ж­Ґе°†жµЃй‡Џд»Ћ`reviews:v1` иїЃз§»е€° `reviews:v3`пјЊжќѓй‡Ќе€†е€«дёє50%пјЊ100%гЂ‚


# ејЂе§‹д№‹е‰Ќ

* еЏ‚з…§ж–‡жЎЈ[е®‰иЈ…жЊ‡еЌ—](http://istio.doczh.cn/docs/setup/kubernetes/index.html)дё­зљ„ж­ҐйЄ¤е®‰иЈ…IstioгЂ‚

* йѓЁзЅІ[BookInfo](http://istio.doczh.cn/docs/guides/bookinfo.html) з¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚

>  иЇ·жіЁж„Џпјљжњ¬ж–‡жЎЈеЃ‡и®ѕз¤єй‡‡з”ЁkubernetesйѓЁзЅІз¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚ж‰Ђжњ‰зљ„з¤єдѕ‹е‘Ѕд»¤иЎЊйѓЅй‡‡з”Ёи§„е€™yamlж–‡д»¶пј€дѕ‹е¦‚`samples/bookinfo/kube/route-rule-all-v1.yaml`пј‰жЊ‡е®љзљ„kubernetesз‰€жњ¬гЂ‚е¦‚жћњењЁдёЌеђЊзљ„зЋЇеўѓдё‹иїђиЎЊжњ¬д»»еЉЎпјЊиЇ·е°†`kube`дї®ж”№дёєиїђиЎЊзЋЇеўѓдё­з›ёеє”зљ„з›®еЅ•пј€дѕ‹е¦‚пјЊеЇ№еџєдєЋConsulзљ„иїђиЎЊзЋЇеўѓпјЊз›®еЅ•е°±жЇ`samples/bookinfo/consul/route-rule-all-v1.yaml`пј‰гЂ‚


# еџєдєЋжќѓй‡Ќзљ„з‰€жњ¬и·Їз”±

1. е°†ж‰Ђжњ‰еѕ®жњЌеЉЎзљ„зјєзњЃз‰€жњ¬и®ѕзЅ®дёєv1.

   ```bash
   istioctl create -f samples/bookinfo/kube/route-rule-all-v1.yaml
   ```

1. ењЁжµЏи§€е™Ёдё­ж‰“ејЂhttp://$GATEWAY_URL/productpage,  зЎ®и®¤`reviews` жњЌеЉЎз›®е‰Ќзљ„жґ»еЉЁз‰€жњ¬жЇv1гЂ‚

   еЏЇд»Ґзњ‹е€°жµЏи§€е™Ёдё­е‡єзЋ°BooInfoеє”з”Ёзљ„productpageйЎµйќўгЂ‚
   жіЁж„Џ`productpage`жѕз¤єзљ„иЇ„д»·е†…е®№дёЌеё¦жџзє§гЂ‚иї™жЇз”±дєЋ`reviews:v1`дёЌдјљи®їй—®`ratings`жњЌеЉЎгЂ‚

   > иЇ·жіЁж„Џпјље¦‚жћњд№‹е‰Ќж‰§иЎЊиї‡ [й…ЌзЅ®иЇ·ж±‚и·Їз”±](http://istio.doczh.cn/docs/tasks/traffic-management/request-routing.html)д»»еЉЎпјЊе€™йњЂи¦Ѓе…€жіЁй”Ђжµ‹иЇ•з”Ёж€·вЂњjasonвЂќж€–иЂ…е€ й™¤д№‹е‰ЌеЌ•з‹¬дёєиЇҐз”Ёж€·е€›е»єзљ„жµ‹иЇ•и§„е€™пјљ

     ```bash
     istioctl delete routerule reviews-test-v2
     ```

1. й¦–е…€пјЊдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤жЉЉ50%зљ„жµЃй‡Џд»Ћ`reviews:v1`иЅ¬з§»е€°`reviews:v3`:

   ```bash
   istioctl replace -f samples/bookinfo/kube/route-rule-reviews-50-v3.yaml
   ```

   жіЁж„Џиї™й‡ЊдЅїз”Ёдє†`istioctl replace`иЂЊдёЌжЇ`create`гЂ‚

1. ењЁжµЏи§€е™Ёдё­е¤љж¬Ўе€·ж–°`productpage`йЎµйќўпјЊе¤§зє¦жњ‰50%зљ„е‡ зЋ‡дјљзњ‹е€°йЎµйќўдё­е‡єзЋ°её¦зєўжџзљ„иЇ„д»·е†…е®№гЂ‚

   > иЇ·жіЁж„ЏпјљењЁз›®е‰Ќзљ„Envoy sidecarе®ћзЋ°дё­пјЊеЏЇиѓЅйњЂи¦Ѓе€·ж–°`productpage`еѕ€е¤љж¬Ўж‰ЌиѓЅзњ‹е€°жµЃй‡Џе€†еЏ‘зљ„ж•€жћњгЂ‚ењЁзњ‹е€°йЎµйќўе‡єзЋ°еЏеЊ–е‰ЌпјЊжњ‰еЏЇиѓЅйњЂи¦Ѓе€·ж–°15ж¬Ўж€–иЂ…ж›ґе¤љгЂ‚е¦‚жћњдї®ж”№и§„е€™пјЊе°†90%зљ„жµЃй‡Џи·Їз”±е€°v3пјЊеЏЇд»Ґзњ‹е€°ж›ґжЋжѕзљ„ж•€жћњгЂ‚

1. еЅ“v3з‰€жњ¬зљ„`reviews`жњЌеЉЎе·Із»ЏзЁіе®љиїђиЎЊеђЋпјЊеЏЇд»Ґе°†100%зљ„жµЃй‡Џи·Їз”±е€°`reviews:v3`пјљ

   ```bash
   istioctl replace -f samples/bookinfo/kube/route-rule-reviews-v3.yaml
   ```

   ж­¤ж—¶пјЊд»Ґд»»дЅ•з”Ёж€·з™»еЅ•е€°`productpage`йЎµйќўпјЊйѓЅеЏЇд»Ґзњ‹е€°её¦зєўжџзљ„иЇ„д»·дїЎжЃЇгЂ‚

# зђ†и§ЈеЋџзђ†

ењЁиї™дёЄд»»еЉЎдё­пјЊж€‘д»¬дЅїз”Ёдє†Istioзљ„её¦жќѓй‡Ќи·Їз”±зљ„з‰№жЂ§е°†жµЃй‡Џд»ЋиЂЃз‰€жњ¬зљ„`reviews`жњЌеЉЎйЂђжёђиїЃз§»е€°дє†ж–°з‰€жњ¬жњЌеЉЎдё­гЂ‚

жіЁж„ЏиЇҐж–№ејЏе’ЊдЅїз”Ёе®№е™Ёзј–жЋ’е№іеЏ°зљ„йѓЁзЅІз‰№жЂ§жќҐиї›иЎЊз‰€жњ¬иїЃз§»жЇе®Ње…ЁдёЌеђЊзљ„гЂ‚е®№е™Ёзј–жЋ’е№іеЏ°дЅїз”Ёдє†е®ћдѕ‹scalingжќҐеЇ№жµЃй‡Џиї›иЎЊз®Ўзђ†гЂ‚иЂЊйЂљиї‡IstioпјЊдё¤дёЄз‰€жњ¬зљ„`reviews`жњЌеЉЎеЏЇд»Ґз‹¬з«‹ењ°иї›иЎЊscale upе’Њscale downпјЊе№¶дёЌдјљеЅ±е“Ќиї™дё¤дёЄз‰€жњ¬жњЌеЉЎд№‹й—ґзљ„жµЃй‡Џе€†еЏ‘гЂ‚

жѓідє†и§Јж›ґе¤љж”ЇжЊЃscalingзљ„жЊ‰з‰€жњ¬и·Їз”±еЉџиѓЅпјЊиЇ·жџҐзњ‹[Canary Deployments using Istio](https://istio.io/blog/canary-deployments-using-istio.html)гЂ‚

# жё…зђ†

* е€ й™¤и·Їз”±и§„е€™гЂ‚

  ```bash
  istioctl delete -f samples/bookinfo/kube/route-rule-all-v1.yaml
  ```

* е¦‚жћњдёЌж‰“з®—е°ќиЇ•еђЋйќўзљ„д»»еЉЎпјЊиЇ·еЏ‚з…§[BookInfo cleanup](http://istio.doczh.cn/docs/guides/bookinfo.html#cleanup) дё­зљ„ж­ҐйЄ¤е…ій—­еє”з”ЁзЁ‹еєЏгЂ‚


# иї›й¶й…иЇ»

* ж›ґе¤љзљ„е†…е®№иЇ·еЏ‚и§Ѓ[иЇ·ж±‚и·Їз”±](http://istio.doczh.cn/docs/concepts/traffic-management/rules-configuration.html)гЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2017-11-08-istio-canary-release.md

---
title:      "й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)"
subtitle:   "з”Ёж€·ж— ж„џзџҐзљ„е№іж»‘дёљеЉЎеЌ‡зє§"
description: "еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰"
excerpt: "еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰"
date:       2017-11-08 15:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-canary-release/canary_bg.jpg"
publishDate: 2017-11-08 15:00:00
tags:
    - Istio
URL: "/2017/11/08/istio-canary-release/"
categories: [ "Tech" ]
---

## зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ

еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚

"ANYTHING THAN CAN GO WRONG WILL GO WRONG"  --MURPHY'S LAW

е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚

еЏЇд»ҐйЂљиї‡[зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰](https://martinfowler.com/bliki/CanaryRelease.html)жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚

дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚
![IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ](/img/istio-canary-release/canary-deployment.PNG)

зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ

- е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚
- е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚
- еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚
- жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚
- е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚
- е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚
- еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚

## Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†
д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚

IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚

е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„[ж»љеЉЁеЌ‡зє§(rolling update)](https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/)еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ](/img/istio-canary-release/canary-deployments.gif)

## ж“ЌдЅњж­ҐйЄ¤
дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚
### жµ‹иЇ•зЋЇеўѓе®‰иЈ…
й¦–е…€еЏ‚иЂѓ[ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ](http://zhaohuabing.com/2017/11/04/istio-install_and_example/)е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚

е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚

```
istio-0.2.10/samples/bookinfo/kube/cleanup.sh
```
### йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ

й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚

д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v2
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v2
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v2:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v3
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v3
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v3:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080    
---         
```

йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚

```
kubectl apply -f <(istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml)
```

йЂљиї‡kubectlе‘Ѕд»¤иЎЊзЎ®и®¤podйѓЁзЅІпјЊеЏЇд»Ґзњ‹е€°еЏЄжњ‰V1з‰€жњ¬зљ„жњЌеЉЎгЂ‚

```
kubectl get pods

NAME                              READY     STATUS    RESTARTS   AGE
details-v1-3688945616-nhkqk       2/2       Running   0          2m
productpage-v1-2055622944-m3fql   2/2       Running   0          2m
ratings-v1-233971408-0f3s9        2/2       Running   0          2m
reviews-v1-1360980140-0zs9z       2/2       Running   0          2m
```
ењЁжµЏи§€е™Ёдё­ж‰“ејЂеє”з”ЁзЁ‹еєЏйЎµйќўпјЊењ°еќЂдёєistio-ingressзљ„External IPгЂ‚з”±дєЋV1з‰€жњ¬зљ„reviewsжњЌеЉЎе№¶дёЌдјљи°ѓз”ЁratingжњЌеЉЎпјЊе› ж­¤еЏЇд»Ґзњ‹е€°Product йЎµйќўжѕз¤єзљ„жЇдёЌеё¦жџзє§зљ„иЇ„д»·дїЎжЃЇгЂ‚

`http://10.12.25.116/productpage`  
![](//img/istio-canary-release/product-page-default.PNG)

ж­¤ж—¶зі»з»џдё­еѕ®жњЌеЉЎзљ„йѓЁзЅІжѓ…е†µе¦‚дё‹е›ѕж‰Ђз¤єпј€дё‹йќўзљ„з¤єж„Џе›ѕеќ‡еїЅз•Ґе’Њжњ¬дѕ‹е…ізі»дёЌе¤§зљ„detailsе’ЊratingsжњЌеЉЎпј‰пјљ
![](//img/istio-canary-release/canary-example-only-v1.PNG)

### йѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎ
ењЁйѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎе‰ЌпјЊйњЂи¦Ѓе…€е€›е»єдёЂжќЎзјєзњЃи·Їз”±и§„е€™route-rule-default-reviews.yamlпјЊе°†ж‰Ђжњ‰з”џдє§жµЃй‡ЏйѓЅеЇјеђ‘V1з‰€жњ¬пјЊйЃїе…ЌеЇ№зєїдёЉз”Ёж€·зљ„еЅ±е“ЌгЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
```
еђЇз”ЁиЇҐи·Їз”±и§„е€™гЂ‚

```
istioctl create -f route-rule-default-reviews.yaml -n default
```
е€›е»єдёЂдёЄV2з‰€жњ¬зљ„йѓЁзЅІж–‡д»¶bookinfo-reviews-v2.yamlпјЊе†…е®№е¦‚дё‹
```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v2
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v2
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v2:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080
```

йѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎгЂ‚
```
kubectl apply -f <(istioctl kube-inject -f  bookinfo-reviews-v2.yaml)
```
ж­¤ж—¶зі»з»џдё­йѓЁзЅІдє†V1е’ЊV2дё¤дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊдЅ†ж‰Ђжњ‰зљ„дёљеЉЎжµЃй‡ЏйѓЅиў«и§„е€™reviews-defaultеЇјеђ‘дє†V1пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-deploy-v2.PNG)


### е°†жµ‹иЇ•жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ
ењЁиї›иЎЊжЁЎж‹џжµ‹иЇ•ж—¶пјЊз”±дєЋжµ‹иЇ•зЋЇеўѓе’Њз”џдє§зЋЇеўѓзљ„зЅ‘з»њпјЊжњЌеЉЎе™ЁпјЊж“ЌдЅњзі»з»џз­‰зЋЇеўѓе­ењЁе·®еј‚пјЊеѕ€йљѕе®Ње…ЁжЁЎж‹џз”џдє§зЋЇеўѓиї›иЎЊжµ‹иЇ•гЂ‚дёєдє†е‡Џе°‘зЋЇеўѓе› зґ зљ„еЇ№жµ‹иЇ•з»“жћњзљ„еЅ±е“ЌпјЊж€‘д»¬еёЊжњ›иѓЅењЁз”џдє§зЋЇеўѓдё­иї›иЎЊдёЉзєїе‰Ќзљ„жµ‹иЇ•пјЊдЅ†е¦‚жћњжІЎжњ‰еѕ€еҐЅзљ„йљ”з¦»жЋЄж–ЅпјЊеЏЇиѓЅдјљеЇји‡ґжµ‹иЇ•еЅ±е“Ќе·ІдёЉзєїзљ„дёљеЉЎпјЊеЇ№дјЃдёљйЂ ж€ђжЌџе¤±гЂ‚

йЂљиї‡й‡‡з”ЁIstioзљ„и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁз±»з”џдє§зЋЇеўѓдё­иї›иЎЊжµ‹иЇ•пјЊеЏ€е®Ње…Ёйљ”з¦»дє†зєїдёЉз”Ёж€·зљ„з”џдє§жµЃй‡Џе’Њжµ‹иЇ•жµЃй‡ЏпјЊжњЂе°ЏеЊ–жЁЎж‹џжµ‹иЇ•еЇ№е·ІдёЉзєїдёљеЉЎзљ„еЅ±е“ЌгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-test.PNG)

е€›е»єдёЂжќЎи§„е€™пјЊе°†з”Ёж€·еђЌдёє test-user зљ„жµЃй‡ЏеЇје…Ґе€°V2

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-test-user
spec:
  destination:
    name: reviews
  precedence: 2
  match:
    request:
      headers:
        cookie:
          regex: "^(.*?;)?(user=test-user)(;.*)?$"
  route:
  - labels:
      version: v2
```
жіЁж„Џпјљprecedenceе±ћжЂ§з”ЁдєЋи®ѕзЅ®и§„е€™зљ„дје…€зє§пјЊењЁеђЊж—¶е­ењЁе¤љжќЎи§„е€™зљ„жѓ…е†µдё‹пјЊдје…€зє§й«зљ„и§„е€™е°†е…€ж‰§иЎЊгЂ‚иї™жќЎи§„е€™зљ„precedenceи®ѕзЅ®дёє2пјЊд»ҐзЎ®дїќе…¶ењЁзјєзњЃи§„е€™д№‹е‰ЌиїђиЎЊпјЊе°†test-userз”Ёж€·зљ„иЇ·ж±‚еЇјжµЃе€°V2з‰€жњ¬reviewsжњЌеЉЎдё­гЂ‚

еђЇз”ЁиЇҐи§„е€™гЂ‚

```
istioctl create -f route-rule-test-reviews-v2.yaml -n default
```
д»Ґtest-userз”Ёж€·з™»еЅ•пјЊеЏЇд»Ґзњ‹е€°V2з‰€жњ¬её¦жџзє§зљ„иЇ„д»·йЎµйќўгЂ‚
![](/img/istio-canary-release/product-page-test-user.PNG)

жіЁй”Ђtest-userпјЊеЏЄиѓЅзњ‹е€°V1з‰€жњ¬дёЌеё¦жџзє§зљ„иЇ„д»·йЎµйќўгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/product-page-default.PNG)

### е°†йѓЁе€†з”џдє§жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ

ењЁзєїдёЉжЁЎж‹џжµ‹иЇ•е®Њж€ђеђЋпјЊе¦‚жћњзі»з»џжµ‹иЇ•жѓ…е†µи‰ЇеҐЅпјЊеЏЇд»ҐйЂљиї‡и§„е€™е°†дёЂйѓЁе€†з”Ёж€·жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„жњЌеЉЎдё­пјЊиї›иЎЊе°Џи§„жЁЎзљ„вЂњй‡‘дёќй›ЂвЂќжµ‹иЇ•гЂ‚

дї®ж”№и§„е€™route-rule-default-reviews.yamlпјЊе°†50%зљ„жµЃй‡ЏеЇје…ҐV2з‰€жњ¬гЂ‚

>  е¤‡жіЁпјљжњ¬дѕ‹еЏЄжЇжЏЏиї°еЋџзђ†пјЊе› ж­¤дёєз®ЂеЌ•иµ·и§ЃпјЊе°†50%жµЃй‡ЏеЇје…ҐV2з‰€жњ¬пјЊењЁе®ћй™…ж“ЌдЅњдё­пјЊж›ґеЏЇиѓЅжЇе…€еЇје…Ґиѕѓе°‘жµЃй‡ЏпјЊз„¶еђЋж №жЌ®з›‘жЋ§зљ„ж–°з‰€жњ¬иїђиЎЊжѓ…е†µе°†жµЃй‡ЏйЂђжёђеЇје…ҐпјЊе¦‚й‡‡з”Ё5%пјЊ10%пјЊ20%пјЊ50% ...зљ„жЇ”дѕ‹йЂђжёђеЇје…ҐгЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
    weight: 50
  - labels:
      version: v2
    weight: 50
```

```
istioctl replace -f route-rule-default-reviews.yaml -n default
```

ж­¤ж—¶зі»з»џйѓЁзЅІе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-production-50.PNG)

### е°†ж‰Ђжњ‰з”џдє§жµЃй‡ЏеЇје…Ґе€°е€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ

е¦‚жћњж–°з‰€жњ¬зљ„жњЌеЉЎиїђиЎЊж­ЈеёёпјЊе€™еЏЇд»Ґе°†ж‰Ђжњ‰жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬гЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination: 
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v2
    weight: 100
```

```
istioctl replace -f route-rule-default-reviews.yaml -n default
```
зі»з»џйѓЁзЅІе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-production-100.PNG)

ж­¤ж—¶дёЌз®Ўд»Ґд»»дЅ•з”Ёж€·з™»еЅ•пјЊйѓЅеЏЄиѓЅзњ‹е€°V2з‰€жњ¬её¦жџзє§зљ„иЇ„д»·йЎµйќўпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/product-page-default-v2.PNG)

>  е¤‡жіЁпјље¦‚жћњзЃ°еє¦еЏ‘еёѓзљ„иї‡зЁ‹дё­ж–°з‰€жњ¬зљ„жњЌеЉЎе‡єзЋ°й—®йўпјЊе€™еЏЇд»ҐйЂљиї‡дї®ж”№и·Їз”±и§„е€™пјЊе°†жµЃй‡Џй‡Ќж–°еЇје…Ґе€°V1з‰€жњ¬зљ„жњЌеЉЎдё­пјЊе°†V2з‰€жњ¬ж•…йљњдї®е¤ЌеђЋе†Ќиї›иЎЊжµ‹иЇ•гЂ‚

### е€ й™¤V1з‰€жњ¬зљ„reviewsжњЌеЉЎ

еѕ…V2з‰€жњ¬дёЉзєїзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤V1з‰€жњ¬зљ„reviewsжњЌеЉЎе’Њжµ‹иЇ•и§„е€™гЂ‚
```
kubectl delete pod reviews-v1-1360980140-0zs9z

istioctl delete -f route-rule-test-reviews-v2.yaml -n default
```

## еЏ‚иЂѓ

* [Istioе®ж–№ж–‡жЎЈ](https://istio.io/docs/)



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2017-11-28-access-application-from-outside.md

---
layout:     post 
title:      "е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ"
subtitle:   ""
description: "ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚"
date:       2017-11-28 12:00:00
author:     "иµµеЊ–е†°"
image: "https://img.zhaohuabing.com/post-bg-2015.jpg"
publishDate: 2017-11-28 12:00:00
tags:
    - Kubernetes
URL: "/2017/11/28/access-application-from-outside/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚
<!--more-->
>жњ¬ж–‡е°Ѕй‡ЏиЇ•зќЂе†™еѕ—жЇ”иѕѓе®№ж“зђ†и§ЈпјЊдЅ†и¦ЃеЃље€°вЂњж·±е…Ґжµ…е‡євЂќпјЊжЉЉе¤Ќжќ‚зљ„дє‹жѓ…з”ЁйЂљдї—ж“ж‡‚зљ„иЇ­иЁЂжЏЏиї°е‡єжќҐжЇйќћеёёйњЂи¦ЃеЉџеЉ›зљ„пјЊдёЄдєєи‡Єи®¤е°љжњЄиѕѕе€°ж­¤еўѓз•ЊпјЊе”Їжњ‰дёЌж–­еЉЄеЉ›гЂ‚ж­¤е¤–пјЊkubernetesжњ¬иє«жЇдёЂдёЄжЇ”иѕѓе¤Ќжќ‚зљ„зі»з»џпјЊж— жі•ењЁжњ¬ж–‡дё­иЇ¦з»†и§Јй‡Љж¶‰еЏЉзљ„ж‰Ђжњ‰з›ёе…іж¦‚еїµпјЊеђ¦е€™е°±еЏЇиѓЅи„±з¦»дє†ж–‡з« зљ„дё»йўпјЊе› ж­¤еЃ‡и®ѕй…иЇ»ж­¤ж–‡д№‹е‰ЌиЇ»иЂ…еЇ№kubernetesзљ„еџєжњ¬ж¦‚еїµе¦‚dockerпјЊcontainerпјЊpodе·Іжњ‰ж‰Ђдє†и§ЈгЂ‚

еЏ¦е¤–ж­¤ж–‡дё­зљ„дёЂдє›е†…е®№жЇи‡Єе·±зљ„зђ†и§ЈпјЊз”±дєЋдёЄдєєзљ„зџҐиЇ†иЊѓе›ґжњ‰й™ђпјЊеЏЇиѓЅжњ‰иЇЇпјЊе¦‚жћњиЇ»иЂ…еЇ№ж–‡з« дё­зљ„е†…е®№жњ‰з–‘й—®ж€–иЂ…е‹иЇЇпјЊж¬ўиїЋе¤§е®¶жЊ‡иЇЃгЂ‚

## Podе’ЊService

ж€‘д»¬й¦–е…€жќҐдє†и§ЈдёЂдё‹Kubernetesдё­зљ„Podе’ЊServiceзљ„ж¦‚еїµгЂ‚

Pod(е®№е™Ёз»„),и‹±ж–‡дё­PodжЇи±†иЌљзљ„ж„ЏжЂќпјЊд»ЋеђЌе­—зљ„еђ«д№‰еЏЇд»Ґзњ‹е‡єпјЊPodжЇдёЂз»„жњ‰дѕќиµ–е…ізі»зљ„е®№е™ЁпјЊPodеЊ…еђ«зљ„е®№е™ЁйѓЅдјљиїђиЎЊењЁеђЊдёЂдёЄhostиЉ‚з‚№дёЉпјЊе…±дє«з›ёеђЊзљ„volumesе’Њnetwork namespaceз©єй—ґгЂ‚Kubernetesд»ҐPodдёєеџєжњ¬ж“ЌдЅњеЌ•е…ѓпјЊеЏЇд»ҐеђЊж—¶еђЇеЉЁе¤љдёЄз›ёеђЊзљ„podз”ЁдєЋfailoverж€–иЂ…load balanceгЂ‚

![Pod](/img/access-application-from-outside/pod.PNG)

Podзљ„з”џе‘Ѕе‘ЁжњџжЇзџ­жљ‚зљ„пјЊKubernetesж №жЌ®еє”з”Ёзљ„й…ЌзЅ®пјЊдјљеЇ№Podиї›иЎЊе€›е»єпјЊй”ЂжЇЃпјЊж №жЌ®з›‘жЋ§жЊ‡ж ‡иї›иЎЊзј©ж‰©е®№гЂ‚kubernetesењЁе€›е»єPodж—¶еЏЇд»ҐйЂ‰ж‹©й›†зѕ¤дё­зљ„д»»дЅ•дёЂеЏ°з©єй—Ізљ„HostпјЊе› ж­¤е…¶зЅ‘з»њењ°еќЂжЇдёЌе›єе®љзљ„гЂ‚з”±дєЋPodзљ„иї™дёЂз‰№з‚№пјЊдёЂи€¬дёЌе»єи®®з›ґжЋҐйЂљиї‡Podзљ„ењ°еќЂеЋ»и®їй—®еє”з”ЁгЂ‚


дёєдє†и§Је†іи®їй—®PodдёЌж–№дѕїз›ґжЋҐи®їй—®зљ„й—®йўпјЊKubernetesй‡‡з”Ёдє†Serviceзљ„ж¦‚еїµпјЊServiceжЇеЇ№еђЋз«ЇжЏђдѕ›жњЌеЉЎзљ„дёЂз»„Podзљ„жЉЅи±ЎпјЊServiceдјљз»‘е®ље€°дёЂдёЄе›єе®љзљ„и™љж‹џIPдёЉпјЊиЇҐи™љж‹џIPеЏЄењЁKubernetes Clusterдё­еЏЇи§ЃпјЊдЅ†е…¶е®ћиЇҐIPе№¶дёЌеЇ№еє”дёЂдёЄи™љж‹џж€–иЂ…з‰©зђ†и®ѕе¤‡пјЊиЂЊеЏЄжЇIPtableдё­зљ„и§„е€™пјЊз„¶еђЋе†ЌйЂљиї‡IPtableе°†жњЌеЉЎиЇ·ж±‚и·Їз”±е€°еђЋз«Їзљ„Podдё­гЂ‚йЂљиї‡иї™з§Ќж–№ејЏпјЊеЏЇд»ҐзЎ®дїќжњЌеЉЎж¶€иґ№иЂ…еЏЇд»ҐзЁіе®љењ°и®їй—®PodжЏђдѕ›зљ„жњЌеЉЎпјЊиЂЊдёЌз”Ёе…іеїѓPodзљ„е€›е»єгЂЃе€ й™¤гЂЃиїЃз§»з­‰еЏеЊ–д»ҐеЏЉе¦‚дЅ•з”ЁдёЂз»„PodжќҐиї›иЎЊиґџиЅЅеќ‡иЎЎгЂ‚

Serviceзљ„жњєе€¶е¦‚дё‹е›ѕж‰Ђз¤єпјЊKube-proxyз›‘еђ¬kubernetes masterеўћеЉ е’Ње€ й™¤Serviceд»ҐеЏЉEndpointзљ„ж¶€жЃЇпјЊеЇ№дєЋжЇЏдёЂдёЄServiceпјЊkube proxyе€›е»єз›ёеє”зљ„iptablesи§„е€™пјЊе°†еЏ‘йЂЃе€°Service Cluster IPзљ„жµЃй‡ЏиЅ¬еЏ‘е€°ServiceеђЋз«ЇжЏђдѕ›жњЌеЉЎзљ„Podзљ„з›ёеє”з«ЇеЏЈдёЉгЂ‚
![Podе’ЊServiceзљ„е…ізі»](/img/access-application-from-outside/services-iptables-overview.png)

>е¤‡жіЁпјљи™Ѕз„¶еЏЇд»ҐйЂљиї‡Serviceзљ„Cluster IPе’ЊжњЌеЉЎз«ЇеЏЈи®їй—®е€°еђЋз«ЇPodжЏђдѕ›зљ„жњЌеЉЎпјЊдЅ†иЇҐCluster IPжЇPingдёЌйЂљзљ„пјЊеЋџе› жЇCluster IPеЏЄжЇiptableдё­зљ„и§„е€™пјЊе№¶дёЌеЇ№еє”е€°дёЂдёЄзЅ‘з»њи®ѕе¤‡гЂ‚

## Serviceзљ„з±»ећ‹
Serviceзљ„з±»ећ‹(ServiceType)е†іе®љдє†Serviceе¦‚дЅ•еЇ№е¤–жЏђдѕ›жњЌеЉЎпјЊж №жЌ®з±»ећ‹дёЌеђЊпјЊжњЌеЉЎеЏЇд»ҐеЏЄењЁKubernetes clusterдё­еЏЇи§ЃпјЊд№џеЏЇд»ҐжљґйњІе€°Clusterе¤–йѓЁгЂ‚Serviceжњ‰дё‰з§Ќз±»ећ‹пјЊClusterIPпјЊNodePortе’ЊLoadBalancerгЂ‚е…¶дё­ClusterIPжЇServiceзљ„зјєзњЃз±»ећ‹пјЊиї™з§Ќз±»ећ‹зљ„жњЌеЉЎдјљжЏђдѕ›дёЂдёЄеЏЄиѓЅењЁClusterе†…ж‰ЌиѓЅи®їй—®зљ„и™љж‹џIPпјЊе…¶е®ћзЋ°жњєе€¶е¦‚дёЉйќўдёЂиЉ‚ж‰Ђиї°гЂ‚

## йЂљиї‡NodePortжЏђдѕ›е¤–йѓЁи®їй—®е…ҐеЏЈ

йЂљиї‡е°†Serviceзљ„з±»ећ‹и®ѕзЅ®дёєNodePortпјЊеЏЇд»ҐењЁClusterдё­зљ„дё»жњєдёЉйЂљиї‡дёЂдёЄжЊ‡е®љз«ЇеЏЈжљґйњІжњЌеЉЎгЂ‚жіЁж„ЏйЂљиї‡Clusterдё­жЇЏеЏ°дё»жњєдёЉзљ„иЇҐжЊ‡е®љз«ЇеЏЈйѓЅеЏЇд»Ґи®їй—®е€°иЇҐжњЌеЉЎпјЊеЏ‘йЂЃе€°иЇҐдё»жњєз«ЇеЏЈзљ„иЇ·ж±‚дјљиў«kubernetesи·Їз”±е€°жЏђдѕ›жњЌеЉЎзљ„PodдёЉгЂ‚й‡‡з”Ёиї™з§ЌжњЌеЉЎз±»ећ‹пјЊеЏЇд»ҐењЁkubernetes clusterзЅ‘з»ње¤–йЂљиї‡дё»жњєIPпјљз«ЇеЏЈзљ„ж–№ејЏи®їй—®е€°жњЌеЉЎгЂ‚

> жіЁж„Џпјље®ж–№ж–‡жЎЈдё­иЇґжЋдє†Kubernetes clusterIpзљ„жµЃй‡ЏиЅ¬еЏ‘е€°еђЋз«ЇPodжњ‰Iptableе’Њkube proxyдё¤з§Ќж–№ејЏгЂ‚дЅ†еЇ№Nodeportе¦‚дЅ•иЅ¬еЏ‘жµЃй‡ЏеЌґиЇ­з„‰дёЌиЇ¦гЂ‚иЇҐе›ѕжќҐи‡ЄзЅ‘з»њпјЊд»Ће›ѕжќҐзњ‹жЇйЂљиї‡kube proxyиЅ¬еЏ‘зљ„пјЊж€‘жІЎжњ‰еЋ»з ”з©¶иї‡жєђз ЃгЂ‚ж¬ўиїЋдє†и§Јзљ„еђЊе­¦и·џеё–иЇґжЋгЂ‚

![Podе’ЊServiceзљ„е…ізі»](/img/access-application-from-outside/nodeport.PNG)

дё‹йќўжЇйЂљиї‡NodePortеђ‘е¤–жљґйњІжњЌеЉЎзљ„дёЂдёЄдѕ‹е­ђпјЊжіЁж„ЏеЏЇд»ҐжЊ‡е®љдёЂдёЄnodePortпјЊд№џеЏЇд»ҐдёЌжЊ‡е®љгЂ‚ењЁдёЌжЊ‡е®љзљ„жѓ…е†µдё‹пјЊkubernetesдјљд»ЋеЏЇз”Ёзљ„з«ЇеЏЈиЊѓе›ґе†…и‡ЄеЉЁе€†й…ЌдёЂдёЄйљЏжњєз«ЇеЏЈгЂ‚

```
kind: Service
apiVersion: v1
metadata:
  name: influxdb
spec:
  type: NodePort
  ports:
    - port: 8086
      nodePort: 30000
  selector:
    name: influxdb
```

йЂљиї‡NodePortд»Ће¤–йѓЁи®їй—®жњ‰дё‹йќўзљ„дёЂдє›й—®йўпјЊи‡Єе·±зЋ©зЋ©ж€–иЂ…иї›иЎЊжµ‹иЇ•ж—¶еЏЇд»ҐдЅїз”ЁиЇҐж–№жЎ€пјЊдЅ†дёЌйЂ‚е®њз”ЁдєЋз”џдє§зЋЇеўѓгЂ‚

* Kubernetes cluster hostзљ„IPеї…йЎ»жЇдёЂдёЄwell-known IPпјЊеЌіе®ўж€·з«Їеї…йЎ»зџҐйЃ“иЇҐIPгЂ‚дЅ†Clusterдё­зљ„hostжЇиў«дЅњдёєиµ„жєђж± зњ‹еѕ…зљ„пјЊеЏЇд»ҐеўћеЉ е€ й™¤пјЊжЇЏдёЄhostзљ„IPдёЂи€¬д№џжЇеЉЁжЂЃе€†й…Ќзљ„пјЊе› ж­¤е№¶дёЌиѓЅи®¤дёєhost IPеЇ№е®ўж€·з«ЇиЂЊиЁЂжЇwell-known IPгЂ‚

* е®ўж€·з«Їи®їй—®жџђдёЂдёЄе›єе®љзљ„host IPе­ењЁеЌ•з‚№ж•…йљњгЂ‚еЃ‡е¦‚дёЂеЏ°hostе®•жњєдє†пјЊkubernetes clusterдјљжЉЉеє”з”Ё reloadе€°еЏ¦дёЂиЉ‚з‚№дёЉпјЊдЅ†е®ўж€·з«Їе°±ж— жі•йЂљиї‡иЇҐhostзљ„nodeportи®їй—®еє”з”Ёдє†гЂ‚

* иЇҐж–№жЎ€еЃ‡и®ѕе®ўж€·з«ЇеЏЇд»Ґи®їй—®Kubernetes hostж‰ЂењЁзЅ‘з»њгЂ‚ењЁз”џдє§зЋЇеўѓдё­пјЊе®ўж€·з«Їе’ЊKubernetes hostзЅ‘з»њеЏЇиѓЅжЇйљ”з¦»зљ„гЂ‚дѕ‹е¦‚е®ўж€·з«ЇеЏЇиѓЅжЇе…¬зЅ‘дё­зљ„дёЂдёЄж‰‹жњєAPPпјЊжЇж— жі•з›ґжЋҐи®їй—®hostж‰ЂењЁзљ„з§Ѓжњ‰зЅ‘з»њзљ„гЂ‚

е› ж­¤пјЊйњЂи¦ЃйЂљиї‡дёЂдёЄзЅ‘е…іжќҐе°†е¤–йѓЁе®ўж€·з«Їзљ„иЇ·ж±‚еЇје…Ґе€°Clusterдё­зљ„еє”з”Ёдё­пјЊењЁkubernetesдё­пјЊиї™дёЄзЅ‘е…іжЇдёЂдёЄ4е±‚зљ„load balancerгЂ‚

## йЂљиї‡Load BalancerжЏђдѕ›е¤–йѓЁи®їй—®е…ҐеЏЈ

йЂљиї‡е°†Serviceзљ„з±»ећ‹и®ѕзЅ®дёєLoadBalancerпјЊеЏЇд»ҐдёєServiceе€›е»єдёЂдёЄе¤–йѓЁLoad BalancerгЂ‚Kubernetesзљ„ж–‡жЎЈдё­еЈ°жЋиЇҐServiceз±»ећ‹йњЂи¦Ѓдє‘жњЌеЉЎжЏђдѕ›е•†зљ„ж”ЇжЊЃпјЊе…¶е®ћиї™й‡ЊеЏЄжЇењЁKubernetesй…ЌзЅ®ж–‡д»¶дё­жЏђе‡єдє†дёЂдёЄи¦Ѓж±‚пјЊеЌідёєиЇҐServiceе€›е»єLoad BalancerпјЊи‡ідєЋе¦‚дЅ•е€›е»єе€™жЇз”±Google Cloudж€–Amazon Cloudз­‰дє‘жњЌеЉЎе•†жЏђдѕ›зљ„пјЊе€›е»єзљ„Load BalancerдёЌењЁKubernetes Clusterзљ„з®Ўзђ†иЊѓе›ґдё­гЂ‚kubernetes 1.6з‰€жњ¬дё­пјЊWS, Azure, CloudStack, GCE and OpenStackз­‰дє‘жЏђдѕ›е•†е·Із»ЏеЏЇд»ҐдёєKubernetesжЏђдѕ›Load Balancer.дё‹йќўжЇдёЂдёЄLoad balancerз±»ећ‹зљ„Serviceдѕ‹е­ђпјљ

```
kind: Service
apiVersion: v1
metadata:
  name: influxdb
spec:
  type: LoadBalancer
  ports:
    - port: 8086
  selector:
    name: influxdb
```
йѓЁзЅІиЇҐServiceеђЋпјЊж€‘д»¬жќҐзњ‹дёЂдё‹Kubernetesе€›е»єзљ„е†…е®№
```
$ kubectl get svc influxdb
NAME       CLUSTER-IP     EXTERNAL-IP     PORT(S)          AGE
influxdb   10.97.121.42   10.13.242.236   8086:30051/TCP   39s
```
Kubernetesй¦–е…€дёєinfluxdbе€›е»єдє†дёЂдёЄй›†зѕ¤е†…йѓЁеЏЇд»Ґи®їй—®зљ„ClusterIP 10.97.121.42гЂ‚з”±дєЋжІЎжњ‰жЊ‡е®љnodeportз«ЇеЏЈпјЊkubernetesйЂ‰ж‹©дє†дёЂдёЄз©єй—Ізљ„30051дё»жњєз«ЇеЏЈе°†serviceжљґйњІењЁдё»жњєзљ„зЅ‘з»њдёЉпјЊз„¶еђЋйЂљзџҐcloud providerе€›е»єдє†дёЂдёЄload balancerпјЊдёЉйќўиѕ“е‡єдё­зљ„EEXTERNAL-IPе°±жЇload balancerзљ„IPгЂ‚

жµ‹иЇ•дЅїз”Ёзљ„Cloud ProviderжЇOpenStackпјЊж€‘д»¬йЂљиї‡neutron lb-vip-showеЏЇд»ҐжџҐзњ‹е€›е»єзљ„Load BalancerиЇ¦з»†дїЎжЃЇгЂ‚

```
$ neutron lb-vip-show 9bf2a580-2ba4-4494-93fd-9b6969c55ac3
+---------------------+--------------------------------------------------------------+
| Field               | Value                                                        |
+---------------------+--------------------------------------------------------------+
| address             | 10.13.242.236                                                |
| admin_state_up      | True                                                         |
| connection_limit    | -1                                                           |
| description         | Kubernetes external service a6ffa4dadf99711e68ea2fa163e0b082 |
| id                  | 9bf2a580-2ba4-4494-93fd-9b6969c55ac3                         |
| name                | a6ffa4dadf99711e68ea2fa163e0b082                             |
| pool_id             | 392917a6-ed61-4924-acb2-026cd4181755                         |
| port_id             | e450b80b-6da1-4b31-a008-280abdc6400b                         |
| protocol            | TCP                                                          |
| protocol_port       | 8086                                                         |
| session_persistence |                                                              |
| status              | ACTIVE                                                       |
| status_description  |                                                              |
| subnet_id           | 73f8eb91-90cf-42f4-85d0-dcff44077313                         |
| tenant_id           | 4d68886fea6e45b0bc2e05cd302cccb9                             |
+---------------------+--------------------------------------------------------------+

$ neutron lb-pool-show 392917a6-ed61-4924-acb2-026cd4181755
+------------------------+--------------------------------------+
| Field                  | Value                                |
+------------------------+--------------------------------------+
| admin_state_up         | True                                 |
| description            |                                      |
| health_monitors        |                                      |
| health_monitors_status |                                      |
| id                     | 392917a6-ed61-4924-acb2-026cd4181755 |
| lb_method              | ROUND_ROBIN                          |
| members                | d0825cc2-46a3-43bd-af82-e9d8f1f85299 |
|                        | 3f73d3bb-bc40-478d-8d0e-df05cdfb9734 |
| name                   | a6ffa4dadf99711e68ea2fa163e0b082     |
| protocol               | TCP                                  |
| provider               | haproxy                              |
| status                 | ACTIVE                               |
| status_description     |                                      |
| subnet_id              | 73f8eb91-90cf-42f4-85d0-dcff44077313 |
| tenant_id              | 4d68886fea6e45b0bc2e05cd302cccb9     |
| vip_id                 | 9bf2a580-2ba4-4494-93fd-9b6969c55ac3 |
+------------------------+--------------------------------------+

$ neutron lb-member-list
+--------------------------------------+--------------+---------------+--------+----------------+--------+
| id                                   | address      | protocol_port | weight | admin_state_up | status |
+--------------------------------------+--------------+---------------+--------+----------------+--------+
| 3f73d3bb-bc40-478d-8d0e-df05cdfb9734 | 10.13.241.89 |         30051 |      1 | True           | ACTIVE |
| d0825cc2-46a3-43bd-af82-e9d8f1f85299 | 10.13.241.10 |         30051 |      1 | True           | ACTIVE |
+--------------------------------------+--------------+---------------+--------+----------------+--------
```
еЏЇд»Ґзњ‹е€°OpenStackдЅїз”ЁVIP 10.13.242.236ењЁз«ЇеЏЈ8086е€›е»єдє†дёЂдёЄLoad BalancerпјЊLoad BalancerеЇ№еє”зљ„Lb poolй‡Њйќўжњ‰дё¤дёЄж€ђе‘10.13.241.89 е’Њ 10.13.241.10пјЊж­ЈжЇKubernetesзљ„hostиЉ‚з‚№пјЊиї›е…ҐLoad balancerжµЃй‡Џиў«е€†еЏ‘е€°иї™дё¤дёЄиЉ‚з‚№еЇ№еє”зљ„Service Nodeport 30051дёЉгЂ‚

дЅ†жЇе¦‚жћње®ўж€·з«ЇдёЌењЁOpenstack Neutronзљ„з§Ѓжњ‰е­ђзЅ‘дёЉпјЊе€™иїйњЂи¦ЃењЁload balancerзљ„VIPдёЉе…іиЃ”дёЂдёЄfloating IPпјЊд»ҐдЅїе¤–йѓЁе®ўж€·з«ЇеЏЇд»ҐиїћжЋҐе€°load balancerгЂ‚

йѓЁзЅІLoad balancerеђЋпјЊеє”з”Ёзљ„ж‹“ж‰‘з»“жћ„е¦‚дё‹е›ѕж‰Ђз¤єпј€жіЁпјљжњ¬е›ѕеЃ‡и®ѕKubernetes ClusterйѓЁзЅІењЁOpenstackз§Ѓжњ‰дє‘дёЉпј‰гЂ‚
![е¤–йѓЁLoad balancer](/img/access-application-from-outside/load-balancer.PNG)

>е¤‡жіЁпјље¦‚жћњkubernetesзЋЇеўѓењЁPublic CloudдёЉпјЊLoadbalancerз±»ећ‹зљ„Serviceе€›е»єе‡єзљ„е¤–йѓЁLoad Balancerе·Із»Џеё¦жњ‰е…¬зЅ‘IPењ°еќЂпјЊжЇеЏЇд»Ґз›ґжЋҐд»Ће¤–йѓЁзЅ‘з»њиї›иЎЊи®їй—®зљ„пјЊдёЌйњЂи¦Ѓз»‘е®љfloating IPиї™дёЄж­ҐйЄ¤гЂ‚дѕ‹е¦‚ењЁAWSдёЉе€›е»єзљ„Elastic Load Balancing (ELB)пјЊжњ‰е…ґи¶ЈеЏЇд»Ґзњ‹дёЂдё‹иї™зЇ‡ж–‡з« пјљ[Expose Services on your AWS Quick Start Kubernetes cluster]( http://docs.heptio.com/content/tutorials/aws-qs-services-elb.html)гЂ‚

е¦‚жћњKubernetes ClusterжЇењЁдёЌж”ЇжЊЃLoadBalancerз‰№жЂ§зљ„cloud providerж€–иЂ…иЈёжњєдёЉе€›е»єзљ„пјЊеЏЇд»Ґе®ћзЋ°LoadBalancerз±»ећ‹зљ„Serviceеђ—пјџеє”иЇҐд№џжЇеЏЇд»Ґзљ„гЂ‚Kubernetesжњ¬иє«е№¶дёЌз›ґжЋҐж”ЇжЊЃLoadbalancerпјЊдЅ†ж€‘д»¬еЏЇд»ҐйЂљиї‡еЇ№Kubernetesиї›иЎЊж‰©е±•жќҐе®ћзЋ°пјЊеЏЇд»Ґз›‘еђ¬kubernetes Masterзљ„serviceе€›е»єж¶€жЃЇпјЊе№¶ж №жЌ®ж¶€жЃЇйѓЁзЅІз›ёеє”зљ„Load Balancerпј€е¦‚Nginxж€–иЂ…HAProxyпј‰пјЊжќҐе®ћзЋ°Load balancerз±»ећ‹зљ„ServiceгЂ‚


йЂљиї‡и®ѕзЅ®Serviceз±»ећ‹жЏђдѕ›зљ„жЇе››е±‚Load BalancerпјЊеЅ“еЏЄйњЂи¦Ѓеђ‘е¤–жљґйњІдёЂдёЄжњЌеЉЎзљ„ж—¶еЂ™пјЊеЏЇд»Ґз›ґжЋҐй‡‡з”Ёиї™з§Ќж–№ејЏгЂ‚дЅ†ењЁдёЂдёЄеє”з”ЁйњЂи¦ЃеЇ№е¤–жЏђдѕ›е¤љдёЄжњЌеЉЎж—¶пјЊй‡‡з”ЁиЇҐж–№ејЏдјљдёєжЇЏдёЂдёЄжњЌеЉЎпј€IP+Portпј‰йѓЅе€›е»єдёЂдёЄе¤–йѓЁload balancerгЂ‚е¦‚дё‹е›ѕж‰Ђз¤є
![е€›е»єе¤љдёЄLoad balancerжљґйњІеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ](/img/access-application-from-outside/multiple-load-balancer.PNG)
дёЂи€¬жќҐиЇґпјЊеђЊдёЂдёЄеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ/иµ„жєђдјљж”ѕењЁеђЊдёЂдёЄеџџеђЌдё‹пјЊењЁиї™з§Ќжѓ…е†µдё‹пјЊе€›е»єе¤љдёЄLoad balancerжЇе®Ње…ЁжІЎжњ‰еї…и¦Ѓзљ„пјЊеЏЌиЂЊеё¦жќҐдє†йўќе¤–зљ„ејЂй”Ђе’Њз®Ўзђ†ж€ђжњ¬гЂ‚з›ґжЋҐе°†жњЌеЉЎжљґйњІз»™е¤–йѓЁз”Ёж€·д№џдјљеЇји‡ґдє†е‰Ќз«Їе’ЊеђЋз«Їзљ„иЂ¦еђ€пјЊеЅ±е“Ќдє†еђЋз«Їжћ¶жћ„зљ„зЃµжґ»жЂ§пјЊе¦‚жћњд»ҐеђЋз”±дєЋдёљеЉЎйњЂж±‚еЇ№жњЌеЉЎиї›иЎЊи°ѓж•ґдјљз›ґжЋҐеЅ±е“Ќе€°е®ўж€·з«ЇгЂ‚еЏЇд»ҐйЂљиї‡дЅїз”ЁKubernetes Ingressиї›иЎЊL7 load balancingжќҐи§Је†іиЇҐй—®йўгЂ‚

## й‡‡з”ЁIngressдЅњдёєдёѓе±‚load balancer
й¦–е…€зњ‹дёЂдё‹еј•е…ҐIngressеђЋзљ„еє”з”Ёж‹“ж‰‘з¤єж„Џе›ѕпј€жіЁпјљжњ¬е›ѕеЃ‡и®ѕKubernetes ClusterйѓЁзЅІењЁOpenstackз§Ѓжњ‰дє‘дёЉпј‰гЂ‚
![й‡‡з”ЁIngressжљґйњІеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ](/img/access-application-from-outside/ingress.PNG)
иї™й‡ЊIngressиµ·е€°дє†дёѓе±‚иґџиЅЅеќ‡иЎЎе™Ёе’ЊHttpж–№еђ‘д»Јзђ†зљ„дЅњз”ЁпјЊеЏЇд»Ґж №жЌ®дёЌеђЊзљ„urlжЉЉе…ҐеЏЈжµЃй‡Џе€†еЏ‘е€°дёЌеђЊзљ„еђЋз«ЇServiceгЂ‚е¤–йѓЁе®ўж€·з«ЇеЏЄзњ‹е€°foo.bar.comиї™дёЄжњЌеЉЎе™ЁпјЊе±Џи”Ѕдє†е†…йѓЁе¤љдёЄServiceзљ„е®ћзЋ°ж–№ејЏгЂ‚й‡‡з”Ёиї™з§Ќж–№ејЏпјЊз®ЂеЊ–дє†е®ўж€·з«Їзљ„и®їй—®пјЊе№¶еўћеЉ дє†еђЋз«Їе®ћзЋ°е’ЊйѓЁзЅІзљ„зЃµжґ»жЂ§пјЊеЏЇд»ҐењЁдёЌеЅ±е“Ќе®ўж€·з«Їзљ„жѓ…е†µдё‹еЇ№еђЋз«Їзљ„жњЌеЉЎйѓЁзЅІиї›иЎЊи°ѓж•ґгЂ‚

дё‹йќўжЇKubernetes Ingressй…ЌзЅ®ж–‡д»¶зљ„з¤єдѕ‹пјЊењЁи™љж‹џдё»жњєfoot.bar.comдё‹йќўе®љд№‰дє†дё¤дёЄPathпјЊе…¶дё­/fooиў«е€†еЏ‘е€°еђЋз«ЇжњЌеЉЎs1пјЊ/barиў«е€†еЏ‘е€°еђЋз«ЇжњЌеЉЎs2гЂ‚

```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: test
  annotations:
    ingress.kubernetes.io/rewrite-target: /
spec:
  rules:
  - host: foo.bar.com
    http:
      paths:
      - path: /foo
        backend:
          serviceName: s1
          servicePort: 80
      - path: /bar
        backend:
          serviceName: s2
          servicePort: 80
```

жіЁж„Џиї™й‡ЊIngressеЏЄжЏЏиї°дє†дёЂдёЄи™љж‹џдё»жњєи·Їеѕ„е€†еЏ‘зљ„и¦Ѓж±‚пјЊеЏЇд»Ґе®љд№‰е¤љдёЄIngressпјЊжЏЏиї°дёЌеђЊзљ„7е±‚е€†еЏ‘и¦Ѓж±‚пјЊиЂЊиї™дє›и¦Ѓж±‚йњЂи¦Ѓз”±дёЂдёЄIngress ControllerжќҐе®ћзЋ°гЂ‚Ingress Contorllerдјљз›‘еђ¬Kubernetes Masterеѕ—е€°Ingressзљ„е®љд№‰пјЊе№¶ж №жЌ®Ingressзљ„е®љд№‰еЇ№дёЂдёЄ7е±‚д»Јзђ†иї›иЎЊз›ёеє”зљ„й…ЌзЅ®пјЊд»Ґе®ћзЋ°Ingressе®љд№‰дё­и¦Ѓж±‚зљ„и™љж‹џдё»жњєе’Њи·Їеѕ„е€†еЏ‘и§„е€™гЂ‚Ingress Controllerжњ‰е¤љз§Ќе®ћзЋ°пјЊKubernetesжЏђдѕ›дє†дёЂдёЄ[еџєдєЋNginxзљ„Ingress Controller](https://github.com/kubernetes/ingress-nginx)гЂ‚йњЂи¦ЃжіЁж„Џзљ„жЇпјЊењЁйѓЁзЅІKubernetesй›†зѕ¤ж—¶е№¶дёЌдјљзјєзњЃйѓЁзЅІIngress ControllerпјЊйњЂи¦Ѓж€‘д»¬и‡ЄиЎЊйѓЁзЅІгЂ‚

дё‹йќўжЇйѓЁзЅІNginx Ingress Controllerзљ„й…ЌзЅ®ж–‡д»¶з¤єдѕ‹пјЊжіЁж„Џиї™й‡ЊдёєNginx Ingress Controllerе®љд№‰дє†дёЂдёЄLoadBalancerз±»ећ‹зљ„ServiceпјЊд»ҐдёєIngress ControllerжЏђдѕ›дёЂдёЄе¤–йѓЁеЏЇд»Ґи®їй—®зљ„е…¬зЅ‘IPгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: nginx-ingress
spec:
  type: LoadBalancer
  ports:
    - port: 80
      name: http
    - port: 443
      name: https
  selector:
    k8s-app: nginx-ingress-lb
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: nginx-ingress-controller
spec:
  replicas: 2
  revisionHistoryLimit: 3
  template:
    metadata:
      labels:
        k8s-app: nginx-ingress-lb
    spec:
      terminationGracePeriodSeconds: 60
      containers:
        - name: nginx-ingress-controller
          image: gcr.io/google_containers/nginx-ingress-controller:0.8.3
          imagePullPolicy: Always
    //----omitted for brevity----
```

>е¤‡жіЁпјљGoogle Cloudз›ґжЋҐж”ЇжЊЃIngressиµ„жєђпјЊе¦‚жћњеє”з”ЁйѓЁзЅІењЁGoogle Cloudдё­пјЊGoogle Cloudдјљи‡ЄеЉЁдёєIngressиµ„жєђе€›е»єдёЂдёЄ7е±‚load balancerпјЊе№¶дёєд№‹е€†й…ЌдёЂдёЄе¤–йѓЁIPпјЊдёЌйњЂи¦Ѓи‡ЄиЎЊйѓЁзЅІIngress ControllerгЂ‚

## з»“и®є
й‡‡з”ЁIngressеЉ дёЉLoad balancerзљ„ж–№ејЏеЏЇд»Ґе°†Kubernetes Clusterдё­зљ„еє”з”ЁжњЌеЉЎжљґйњІз»™е¤–йѓЁе®ўж€·з«ЇгЂ‚иї™з§Ќж–№ејЏжЇ”иѕѓзЃµжґ»пјЊеџєжњ¬еЏЇд»Ґж»Ўи¶іе¤§йѓЁе€†еє”з”Ёзљ„йњЂи¦ЃгЂ‚дЅ†е¦‚жћњйњЂи¦ЃењЁе…ҐеЏЈе¤„жЏђдѕ›ж›ґејєе¤§зљ„еЉџиѓЅпјЊе¦‚жњ‰ж›ґй«зљ„ж•€зЋ‡и¦Ѓж±‚пјЊйњЂж±‚иї›иЎЊе®‰е…Ёи®¤иЇЃпјЊж—Ґеї—и®°еЅ•пјЊж€–иЂ…йњЂи¦ЃдёЂдє›еє”з”Ёзљ„е®ље€¶йЂ»иѕ‘пјЊе€™йњЂи¦ЃиЂѓи™‘й‡‡з”Ёеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„API GatewayжЁЎејЏпјЊй‡‡з”ЁдёЂдёЄж›ґејєе¤§зљ„API GatewayжќҐдЅњдёєеє”з”Ёзљ„жµЃй‡Џе…ҐеЏЈгЂ‚

## еЏ‚иЂѓ

* [Accessing Kubernetes Pods from Outside of the Cluster](http://alesnosek.com/blog/2017/02/14/accessing-kubernetes-pods-from-outside-of-the-cluster/)

* [Kubernetes nginx-ingress-controller](https://daemonza.github.io/2017/02/13/kubernetes-nginx-ingress-controller/)

* [Using Kubernetes external load balancer feature](https://docs.openstack.org/magnum/ocata/dev/kubernetes-load-balancer.html)

* [Expose Services on your AWS Quick Start Kubernetes cluster]( http://docs.heptio.com/content/tutorials/aws-qs-services-elb.html)




==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-01-02-nginmesh-install.md

---
layout:     post 
title:      "NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—"
subtitle:   ""
description: "NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚"
date:       2018-01-02 12:00:00
author:     "иµµеЊ–е†°"
image: "img/post-bg-2015.jpg"
publishDate: 2018-01-02 12:00:00
tags:
    - Istio 
    - service Mesh
    - nginmesh
URL: "/2018/01/02/nginmesh-install/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚
<!--more-->
![Nginmesh sidecar proxy](https://raw.githubusercontent.com/nginmesh/nginmesh/master/images/nginx_sidecar.png)

> е¤‡жіЁпјљжњ¬ж–‡е®‰иЈ…жЊ‡еЌ—еџєдєЋUbuntu 16.04пјЊењЁCentosдёЉжџђдє›е®‰иЈ…ж­ҐйЄ¤зљ„е‘Ѕд»¤еЏЇиѓЅйњЂи¦ЃзЁЌдЅњж”№еЉЁгЂ‚

## е®‰иЈ…Kubernetes Cluster

Kubernetes ClusterеЊ…еђ«etcd, api server, schedulerпјЊcontroller managerз­‰е¤љдёЄз»„д»¶пјЊз»„д»¶д№‹й—ґзљ„й…ЌзЅ®иѕѓдёєе¤Ќжќ‚пјЊе¦‚жћњи¦Ѓж‰‹еЉЁеЋ»йЂђдёЄе®‰иЈ…еЏЉй…ЌзЅ®еђ„дёЄз»„д»¶пјЊйњЂи¦Ѓдє†и§ЈkubernetesпјЊж“ЌдЅњзі»з»џеЏЉзЅ‘з»њз­‰е¤љж–№йќўзљ„зџҐиЇ†пјЊеЇ№е®‰иЈ…дєєе‘зљ„иѓЅеЉ›и¦Ѓж±‚иѕѓй«гЂ‚kubeadmжЏђдѕ›дє†дёЂдёЄз®ЂдѕїпјЊеї«йЂџе®‰иЈ…Kubernetes Clusterзљ„ж–№ејЏпјЊе№¶дё”еЏЇд»ҐйЂљиї‡е®‰иЈ…й…ЌзЅ®ж–‡д»¶жЏђдѕ›иѕѓй«зљ„зЃµжґ»жЂ§пјЊе› ж­¤ж€‘д»¬й‡‡з”Ёkubeadmе®‰иЈ…kubernetes clusterгЂ‚

й¦–е…€еЏ‚з…§[kubeadmзљ„иЇґжЋж–‡жЎЈ](https://kubernetes.io/docs/setup/independent/install-kubeadm)ењЁи®Ўе€’йѓЁзЅІkubernetes clusterзљ„жЇЏдёЄиЉ‚з‚№дёЉе®‰иЈ…dockerпјЊkubeadm, kubelet е’Њ kubectlгЂ‚

е®‰иЈ…docker
```
apt-get update
apt-get install -y docker.io
```

дЅїз”Ёgoogleзљ„жєђе®‰иЈ…kubelet kubeadmе’Њkubectl
```
apt-get update && apt-get install -y apt-transport-https
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
cat <<EOF >/etc/apt/sources.list.d/kubernetes.list
deb http://apt.kubernetes.io/ kubernetes-xenial main
EOF
apt-get update
apt-get install -y kubelet kubeadm kubectl
```
дЅїз”Ёkubeadminе®‰иЈ…kubernetes cluster

NginmeshдЅїз”ЁKubernetesзљ„[Initializerжњєе€¶](https://kubernetes.io/docs/admin/extensible-admission-controllers/#initializers)жќҐе®ћзЋ°sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚Initializerз›®е‰ЌжЇkubernetesзљ„дёЂдёЄAlpha featureпјЊзјєзњЃжЇжњЄеђЇз”Ёзљ„пјЊйњЂи¦Ѓ[йЂљиї‡api serverзљ„еЏ‚ж•°](https://kubernetes.io/docs/admin/extensible-admission-controllers/#enable-initializers-alpha-feature)ж‰“ејЂгЂ‚е› ж­¤ж€‘д»¬е…€е€›е»єдёЂдёЄkubeadm-confй…ЌзЅ®ж–‡д»¶пјЊз”ЁдєЋй…ЌзЅ®api serverзљ„еђЇеЉЁеЏ‚ж•°

```
apiVersion: kubeadm.k8s.io/v1alpha1
kind: MasterConfiguration
apiServerExtraArgs:
  admission-control: Initializers,NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,DefaultStorageClass,ValidatingAdmissionWebhook,ResourceQuota,DefaultTolerationSeconds,MutatingAdmissionWebhook
  runtime-config: admissionregistration.k8s.io/v1alpha1
```
дЅїз”Ёkubeadmin initе‘Ѕд»¤е€›е»єkubernetes masterиЉ‚з‚№гЂ‚
еЏЇд»Ґе…€иЇ•з”Ё--dry-runеЏ‚ж•°йЄЊиЇЃдёЂдё‹й…ЌзЅ®ж–‡д»¶гЂ‚
```
kubeadm init --config kubeadm-conf --dry-run
```
е¦‚жћњдёЂе€‡ж­ЈеёёпјЊkubeadmе°†жЏђз¤єпјљFinished dry-running successfully. Above are the resources that would be created.

дё‹йќўе†Ќе®ћй™…ж‰§иЎЊе€›е»єе‘Ѕд»¤
```
kubeadm init --config kubeadm-conf
```
kubeadmдјљиЉ±дёЂз‚№ж—¶й—ґж‹‰еЏ–docker imageпјЊе‘Ѕд»¤е®Њж€ђеђЋпјЊдјљжЏђз¤єе¦‚дЅ•е°†дёЂдёЄwork nodeеЉ е…ҐclusterгЂ‚е¦‚дё‹ж‰Ђз¤єпјљ

```
 kubeadm join --token fffbf6.13bcb3563428cf23 10.12.5.15:6443 --discovery-token-ca-cert-hash sha256:27ad08b4cd9f02e522334979deaf09e3fae80507afde63acf88892c8b72f143f
 ```
> е¤‡жіЁпјљз›®е‰ЌkubeadmеЏЄиѓЅж”ЇжЊЃењЁдёЂдёЄиЉ‚з‚№дёЉе®‰иЈ…masterпјЊж”ЇжЊЃй«еЏЇз”Ёзљ„е®‰иЈ…е°†ењЁеђЋз»­з‰€жњ¬е®ћзЋ°гЂ‚kubernetesе®ж–№з»™е‡єзљ„workaroundе»єи®®жЇе®љжњџе¤‡д»Ѕ etcd ж•°жЌ®[kubeadm limitations](https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#limitations)гЂ‚

Kubeadmе№¶дёЌдјље®‰иЈ…PodйњЂи¦Ѓзљ„зЅ‘з»њпјЊе› ж­¤йњЂи¦Ѓж‰‹еЉЁе®‰иЈ…дёЂдёЄPodзЅ‘з»њпјЊиї™й‡Њй‡‡з”Ёзљ„жЇCalico
```
kubectl apply -f https://docs.projectcalico.org/v2.6/getting-started/kubernetes/installation/hosted/kubeadm/1.6/calico.yaml
```

дЅїз”Ёkubectl е‘Ѕд»¤жЈЂжџҐmasterиЉ‚з‚№е®‰иЈ…з»“жћњ

```
ubuntu@kube-1:~$ kubectl get all
NAME             TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
svc/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   12m
```

 ењЁжЇЏеЏ°е·ҐдЅњиЉ‚з‚№дёЉж‰§иЎЊдёЉиї°kubeadm joinе‘Ѕд»¤пјЊеЌіеЏЇжЉЉе·ҐдЅњиЉ‚з‚№еЉ е…Ґй›†зѕ¤дё­гЂ‚дЅїз”Ёkubectl е‘Ѕд»¤жЈЂжџҐclusterдё­зљ„иЉ‚з‚№жѓ…е†µгЂ‚

```
 ubuntu@kube-1:~$ kubectl get nodes
NAME      STATUS    ROLES     AGE       VERSION
kube-1    Ready     master    21m       v1.9.0
kube-2    Ready     <none>    47s       v1.9.0
```

## е®‰иЈ…IstioжЋ§е€¶йќўе’ЊBookinfo

еЏ‚иЂѓ[Nginmeshж–‡жЎЈ](https://github.com/nginmesh/nginmesh)е®‰иЈ…IstioжЋ§е€¶йќўе’ЊBookinfo
иЇҐж–‡жЎЈзљ„ж­ҐйЄ¤жё…ж™°жЋзЎ®пјЊиї™й‡ЊдёЌе†Ќиµиї°гЂ‚

йњЂи¦ЃжіЁж„Џзљ„жЇпјЊењЁNiginmeshж–‡жЎЈдё­пјЊе»єи®®йЂљиї‡Ingressзљ„External IPи®їй—®bookinfoеє”з”ЁзЁ‹еєЏгЂ‚дЅ†[LoadbalancerеЏЄењЁж”ЇжЊЃзљ„дє‘зЋЇеўѓдё­ж‰Ќдјљз”џж•€](https://kubernetes.io/docs/concepts/services-networking/service/#type-loadbalancer)пјЊе№¶дё”иїйњЂи¦Ѓиї›иЎЊдёЂе®љзљ„й…ЌзЅ®гЂ‚е¦‚ж€‘ењЁOpenstackзЋЇеўѓдё­е€›е»єзљ„clusterпјЊе€™йњЂи¦ЃеЏ‚з…§[иЇҐж–‡жЎЈ](https://docs.openstack.org/magnum/ocata/dev/kubernetes-load-balancer.html)еЇ№Openstackиї›иЎЊй…ЌзЅ®еђЋпјЊOpenstackж‰ЌиѓЅе¤џж”ЇжЊЃkubernetesзљ„Loadbalancer serviceгЂ‚е¦‚жњЄиї›иЎЊй…ЌзЅ®пјЊйЂљиї‡е‘Ѕд»¤жџҐзњ‹Ingress External IPдёЂз›ґжѕз¤єдёєpendingзЉ¶жЂЃгЂ‚

```
NAME            TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                            AGE
istio-ingress   LoadBalancer   10.111.158.10   <pending>     80:32765/TCP,443:31969/TCP                                         11m
istio-mixer     ClusterIP      10.107.135.31   <none>        9091/TCP,15004/TCP,9093/TCP,9094/TCP,9102/TCP,9125/UDP,42422/TCP   11m
istio-pilot     ClusterIP      10.111.110.65   <none>        15003/TCP,443/TCP                                                  11m
```

е¦‚дёЌиѓЅй…ЌзЅ®дє‘зЋЇеўѓжЏђдѕ›Loadbalancerз‰№жЂ§, ж€‘д»¬еЏЇд»Ґз›ґжЋҐдЅїз”Ёй›†зѕ¤дё­зљ„дёЂдёЄиЉ‚з‚№IP:Nodeportи®їй—®Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚

```
http://10.12.5.31:32765/productpage
```
жѓіи¦Ѓдє†и§Јж›ґе¤ље…ідєЋе¦‚дЅ•д»Ћй›†зѕ¤е¤–йѓЁиї›иЎЊи®їй—®зљ„е†…е®№пјЊеЏЇд»ҐеЏ‚иЂѓ[е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ](http://zhaohuabing.com/2017/11/28/access-application-from-outside/)

## жџҐзњ‹и‡ЄеЉЁжіЁе…Ґзљ„sidecar
дЅїз”Ё kubectl get pod reviews-v3-5fff595d9b-zsb2q -o yaml е‘Ѕд»¤жџҐзњ‹Bookinfoеє”з”Ёзљ„reviewsжњЌеЉЎзљ„PodгЂ‚

```
apiVersion: v1
kind: Pod
metadata:
  annotations:
    sidecar.istio.io/status: injected-version-0.2.12
  creationTimestamp: 2018-01-02T02:33:36Z
  generateName: reviews-v3-5fff595d9b-
  labels:
    app: reviews
    pod-template-hash: "1999151856"
    version: v3
  name: reviews-v3-5fff595d9b-zsb2q
  namespace: default
  ownerReferences:
  - apiVersion: extensions/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: reviews-v3-5fff595d9b
    uid: 5599688c-ef65-11e7-8be6-fa163e160c7d
  resourceVersion: "3757"
  selfLink: /api/v1/namespaces/default/pods/reviews-v3-5fff595d9b-zsb2q
  uid: 559d8c6f-ef65-11e7-8be6-fa163e160c7d
spec:
  containers:
  - image: istio/examples-bookinfo-reviews-v3:0.2.3
    imagePullPolicy: IfNotPresent
    name: reviews
    ports:
    - containerPort: 9080
      protocol: TCP
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  - args:
    - proxy
    - sidecar
    - -v
    - "2"
    - --configPath
    - /etc/istio/proxy
    - --binaryPath
    - /usr/local/bin/envoy
    - --serviceCluster
    - reviews
    - --drainDuration
    - 45s
    - --parentShutdownDuration
    - 1m0s
    - --discoveryAddress
    - istio-pilot.istio-system:15003
    - --discoveryRefreshDelay
    - 1s
    - --zipkinAddress
    - zipkin.istio-system:9411
    - --connectTimeout
    - 10s
    - --statsdUdpAddress
    - istio-mixer.istio-system:9125
    - --proxyAdminPort
    - "15000"
    - --controlPlaneAuthPolicy
    - NONE
    env:
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    - name: INSTANCE_IP
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: status.podIP
    image: nginmesh/proxy_debug:0.2.12
    imagePullPolicy: Always
    name: istio-proxy
    resources: {}
    securityContext:
      privileged: true
      readOnlyRootFilesystem: false
      runAsUser: 1337
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /etc/istio/proxy
      name: istio-envoy
    - mountPath: /etc/certs/
      name: istio-certs
      readOnly: true
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  dnsPolicy: ClusterFirst
  initContainers:
  - args:
    - -p
    - "15001"
    - -u
    - "1337"
    image: nginmesh/proxy_init:0.2.12
    imagePullPolicy: Always
    name: istio-init
    resources: {}
    securityContext:
      capabilities:
        add:
        - NET_ADMIN
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  nodeName: kube-2
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - emptyDir:
      medium: Memory
    name: istio-envoy
  - name: istio-certs
    secret:
      defaultMode: 420
      optional: true
      secretName: istio.default
  - name: default-token-48vxx
    secret:
      defaultMode: 420
      secretName: default-token-48vxx
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:33:54Z
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:36:06Z
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:33:36Z
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: docker://5d0c189b9dde8e14af4c8065ee5cf007508c0bb2b3c9535598d99dc49f531370
    image: nginmesh/proxy_debug:0.2.12
    imageID: docker-pullable://nginmesh/proxy_debug@sha256:6275934ea3a1ce5592e728717c4973ac704237b06b78966a1d50de3bc9319c71
    lastState: {}
    name: istio-proxy
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: 2018-01-02T02:36:05Z
  - containerID: docker://aba3e114ac1aa87c75e969dcc1b0725696de78d3407c5341691d9db579429f28
    image: istio/examples-bookinfo-reviews-v3:0.2.3
    imageID: docker-pullable://istio/examples-bookinfo-reviews-v3@sha256:6e100e4805a8c10c47040ea7b66f10ad619c7e0068696032546ad3e35ad46570
    lastState: {}
    name: reviews
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: 2018-01-02T02:35:47Z
  hostIP: 10.12.5.31
  initContainerStatuses:
  - containerID: docker://b55108625832a3205a265e8b45e5487df10276d5ae35af572ea4f30583933c1f
    image: nginmesh/proxy_init:0.2.12
    imageID: docker-pullable://nginmesh/proxy_init@sha256:f73b68839f6ac1596d6286ca498e4478b8fcfa834e4884418d23f9f625cbe5f5
    lastState: {}
    name: istio-init
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: docker://b55108625832a3205a265e8b45e5487df10276d5ae35af572ea4f30583933c1f
        exitCode: 0
        finishedAt: 2018-01-02T02:33:53Z
        reason: Completed
        startedAt: 2018-01-02T02:33:53Z
  phase: Running
  podIP: 192.168.79.138
  qosClass: BestEffort
  startTime: 2018-01-02T02:33:39Z

```

иЇҐе‘Ѕд»¤иЎЊиѕ“е‡єзљ„е†…е®№з›ёеЅ“й•їпјЊж€‘д»¬еЏЇд»Ґзњ‹е€°Podдё­жіЁе…Ґдє†дёЂдёЄ nginmesh/proxy_debug container,иїеўћеЉ дє†дёЂдёЄinitContainer nginmesh/proxy_initгЂ‚иї™дё¤дёЄе®№е™ЁжЇйЂљиї‡kubernetes initializerи‡ЄеЉЁжіЁе…Ґе€°podдё­зљ„гЂ‚иї™дё¤дёЄcontainerе€†е€«жњ‰д»Ђд№€дЅњз”Ёе‘ўпјџи®©ж€‘д»¬зњ‹дёЂдё‹[Nginmeshжєђд»Јз Ѓдё­зљ„иЇґжЋ](https://github.com/nginmesh/nginmesh/tree/49cd69a61d7d330685ef39ccd63fac06421c3da2/istio/agent)пјљ

* proxy_debug, which comes with the agent and NGINX.

* proxy_init, which is used for configuring iptables rules for transparently injecting an NGINX proxy from the proxy_debug image into an application pod.

proxy_debugе°±жЇsidecarд»Јзђ†пјЊproxy_initе€™з”ЁдєЋй…ЌзЅ®iptable и§„е€™пјЊд»Ґе°†еє”з”Ёзљ„жµЃй‡ЏеЇје…Ґе€°sidecarд»Јзђ†дё­гЂ‚

жџҐзњ‹proxy_initзљ„Dockerfileж–‡д»¶пјЊеЏЇд»Ґзњ‹е€°proxy_initе…¶е®ћжЇи°ѓз”Ёдє†[prepare_proxy.sh](https://github.com/nginmesh/nginmesh/blob/49cd69a61d7d330685ef39ccd63fac06421c3da2/istio/agent/docker-init/prepare_proxy.sh)иї™дёЄи„љжњ¬жќҐе€›е»єiptableи§„е€™гЂ‚

proxy_debug Dockerfile

```
FROM debian:stretch-slim
RUN apt-get update && apt-get install -y iptables
ADD prepare_proxy.sh /
ENTRYPOINT ["/prepare_proxy.sh"]
```

prepare_proxy.shиЉ‚йЂ‰

```
...omitted for brevity 

# Create a new chain for redirecting inbound and outbound traffic to
# the common Envoy port.
iptables -t nat -N ISTIO_REDIRECT                                             -m comment --comment "istio/redirect-common-chain"
iptables -t nat -A ISTIO_REDIRECT -p tcp -j REDIRECT --to-port ${ENVOY_PORT}  -m comment --comment "istio/redirect-to-envoy-port"

# Redirect all inbound traffic to Envoy.
iptables -t nat -A PREROUTING -j ISTIO_REDIRECT                               -m comment --comment "istio/install-istio-prerouting"

# Create a new chain for selectively redirecting outbound packets to
# Envoy.
iptables -t nat -N ISTIO_OUTPUT                                               -m comment --comment "istio/common-output-chain"

...omitted for brevity
```

## е…іиЃ”й…иЇ»

[IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°](http://zhaohuabing.com/2017/11/04/istio-install_and_example/)

## еЏ‚иЂѓ

* [Service Mesh with Istio and NGINX](https://github.com/nginmesh/nginmesh/)

* [Using kubeadm to Create a Cluster](https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#14-installing-kubeadm-on-your-hosts)

* [Kubernetes Reference Documentation-Dynamic Admission Control](https://kubernetes.io/docs/admin/extensible-admission-controllers/#enable-initializers-alpha-feature)




==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-02-03-authentication-and-authorization-of-microservice.md

---
layout:     post 
title:      "е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ"
subtitle:   "еѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€жЋўи®Ё"
description: "еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚"
excerpt: "еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚"
date:       2018-02-03 12:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-02-03-authentication-and-authorization-of-microservice/AuthenticationTrack.jpeg"
publishDate: 2018-02-03 12:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/22/user_authentication_authorization/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚
<!--more-->
## еЌ•дЅ“еє”з”Ёзљ„е®ћзЋ°ж–№ејЏ
ењЁеЌ•дЅ“жћ¶жћ„дё‹пјЊж•ґдёЄеє”з”ЁжЇдёЂдёЄиї›зЁ‹пјЊењЁеє”з”Ёдё­пјЊдёЂи€¬дјљз”ЁдёЂдёЄе®‰е…ЁжЁЎеќ—жќҐе®ћзЋ°з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓгЂ‚

з”Ёж€·з™»еЅ•ж—¶пјЊеє”з”Ёзљ„е®‰е…ЁжЁЎеќ—еЇ№з”Ёж€·иє«д»Ѕиї›иЎЊйЄЊиЇЃпјЊйЄЊиЇЃз”Ёж€·иє«д»Ѕеђ€жі•еђЋпјЊдёєиЇҐз”Ёж€·з”џж€ђдёЂдёЄдјљиЇќ(Session)пјЊе№¶дёєиЇҐSessionе…іиЃ”дёЂдёЄе”ЇдёЂзљ„зј–еЏ·(Session Id)гЂ‚SessionжЇеє”з”Ёдё­зљ„дёЂе°Џеќ—е†…е­з»“жћ„пјЊе…¶дё­дїќе­дє†з™»еЅ•з”Ёж€·зљ„дїЎжЃЇпјЊе¦‚User name, Role, Permissionз­‰гЂ‚жњЌеЉЎе™ЁжЉЉиЇҐSessionзљ„Session Idиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їе°†Session Idд»Ґcookieж€–иЂ…URLй‡Ќе†™зљ„ж–№ејЏи®°еЅ•дё‹жќҐпјЊе№¶ењЁеђЋз»­иЇ·ж±‚дё­еЏ‘йЂЃз»™еє”з”ЁпјЊиї™ж ·еє”з”ЁењЁжЋҐж”¶е€°е®ўж€·з«Їи®їй—®иЇ·ж±‚ж—¶еЏЇд»ҐдЅїз”ЁSession IdйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊдёЌз”ЁжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅиѕ“е…Ґз”Ёж€·еђЌе’ЊеЇ†з Ѓиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚
> е¤‡жіЁпјљдёєдє†йЃїе…ЌSession Idиў«з¬¬дё‰иЂ…ж€ЄеЏ–е’Њз›—з”ЁпјЊе®ўж€·з«Їе’Њеє”з”Ёд№‹е‰Ќеє”дЅїз”ЁTLSеЉ еЇ†йЂљдїЎпјЊsessionд№џдјљи®ѕзЅ®жњ‰иї‡жњџж—¶й—ґгЂ‚

![еЌ•дЅ“еє”з”Ёз”Ёж€·з™»еЅ•и®¤иЇЃеєЏе€—е›ѕ](/img/2018-02-03-authentication-and-authorization-of-microservice/monolith-user-login.png)
<center>еЌ•дЅ“еє”з”Ёз”Ёж€·з™»еЅ•и®¤иЇЃеєЏе€—е›ѕ</center>

е®ўж€·з«Їи®їй—®еє”з”Ёж—¶пјЊSession IdйљЏзќЂHTTPиЇ·ж±‚еЏ‘йЂЃе€°еє”з”ЁпјЊе®ўж€·з«ЇиЇ·ж±‚дёЂи€¬дјљйЂљиї‡дёЂдёЄж‹¦ж€Єе™Ёе¤„зђ†ж‰Ђжњ‰ж”¶е€°зљ„е®ўж€·з«ЇиЇ·ж±‚гЂ‚ж‹¦ж€Єе™Ёй¦–е…€е€¤ж–­Session IdжЇеђ¦е­ењЁпјЊе¦‚жћњиЇҐSession Idе­ењЁпјЊе°±зџҐйЃ“иЇҐз”Ёж€·е·Із»Џз™»еЅ•гЂ‚з„¶еђЋе†ЌйЂљиї‡жџҐиЇўз”Ёж€·жќѓй™ђе€¤ж–­з”Ёж€·иѓЅеђ¦ж‰§иЎЊиЇҐж­¤иЇ·ж±‚пјЊд»Ґе®ћзЋ°ж“ЌдЅњй‰ґжќѓгЂ‚
![еЌ•дЅ“еє”з”Ёз”Ёж€·ж“ЌдЅњй‰ґжќѓеєЏе€—е›ѕ](/img/2018-02-03-authentication-and-authorization-of-microservice/monolith-user-request.png)
<center>еЌ•дЅ“еє”з”Ёз”Ёж€·ж“ЌдЅњй‰ґжќѓеєЏе€—е›ѕ</center>

## еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓйќўдёґзљ„й—®йў
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹пјЊдёЂдёЄеє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹пјЊжЇЏдёЄеѕ®жњЌеЉЎе®ћзЋ°еЋџжќҐеЌ•дЅ“еє”з”Ёдё­дёЂдёЄжЁЎеќ—зљ„дёљеЉЎеЉџиѓЅгЂ‚еє”з”Ёж‹†е€†еђЋпјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®иЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊи®¤иЇЃе’Њй‰ґжќѓгЂ‚е¦‚жћњеЏ‚иЂѓеЌ•дЅ“еє”з”Ёзљ„е®ћзЋ°ж–№ејЏдјљйЃ‡е€°дё‹иї°й—®йўпјљ
* и®¤иЇЃе’Њй‰ґжќѓйЂ»иѕ‘йњЂи¦ЃењЁжЇЏдёЄеѕ®жњЌеЉЎдё­иї›иЎЊе¤„зђ†пјЊйњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* еѕ®жњЌеЉЎеє”йЃµеѕЄеЌ•дёЂиЃЊиґЈеЋџзђ†пјЊдёЂдёЄеѕ®жњЌеЉЎеЏЄе¤„зђ†еЌ•дёЂзљ„дёљеЉЎйЂ»иѕ‘гЂ‚и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘дёЌеє”иЇҐж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­гЂ‚ 
* дёєдє†е……е€†е€©з”Ёеѕ®жњЌеЉЎжћ¶жћ„зљ„еҐЅе¤„пјЊе®ћзЋ°еѕ®жњЌеЉЎзљ„ж°ґе№іж‰©е±•(Scalability)е’Њеј№жЂ§(Resiliency),еѕ®жњЌеЉЎжњЂеҐЅжЇж— зЉ¶жЂЃзљ„гЂ‚е› ж­¤дёЌе»єи®®дЅїз”Ёsessionиї™з§Ќжњ‰зЉ¶жЂЃзљ„ж–№жЎ€гЂ‚
* еѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚
![еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї](/img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png)
<center>еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї</center>

## еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓзљ„жЉЂжњЇж–№жЎ€

### з”Ёж€·иє«д»Ѕи®¤иЇЃ
дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊеє”з”Ёзљ„и®¤иЇЃйЂ»иѕ‘е°†дјљйќћеёёе¤Ќжќ‚гЂ‚е› ж­¤йњЂи¦ЃиЂѓи™‘дёЂдёЄSSOпј€еЌ•з‚№з™»еЅ•пј‰зљ„ж–№жЎ€пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚ з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐиЂѓи™‘ењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃгЂ‚

### з”Ёж€·зЉ¶жЂЃдїќжЊЃ
HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†еѕ€е¤љжњЌеЉЎе¦‚зЅ‘з»њиґ­з‰©пјЊдјЃдёљз®Ўзђ†зі»з»џз­‰йѓЅйњЂи¦ЃеЇ№з”Ёж€·зљ„иє«д»Ѕиї›иЎЊи®¤иЇЃпјЊе› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚

дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚

Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚

Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚[JWT(Json Web Token)](https://jwt.io)жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚

JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ
* Header<BR>
е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚
```
{
  "alg": "HS256",
  "typ": "JWT"
}
```
* Payload<BR>
еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚
```
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```
* Signature<BR>
TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚
з­ѕеђЌз®—жі•
```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret)
```

иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё"."е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token
![](https://cdn.auth0.com/content/jwt/encoded-jwt3.png)
й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ[rfc6750](https://tools.ietf.org/html/rfc6750)иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚
```
Authorization: Bearer mF_9.B5f-4.1JqM
```
й‡‡з”ЁTokenж–№ејЏиї›иЎЊз”Ёж€·и®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
1. з”Ёж€·иѕ“е…Ґз”Ёж€·еђЌ,еЇ†з Ѓз­‰йЄЊиЇЃдїЎжЃЇпјЊеђ‘жњЌеЉЎе™ЁеЏ‘иµ·з™»еЅ•иЇ·ж±‚
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃз”Ёж€·з™»еЅ•дїЎжЃЇпјЊз”џж€ђJWT token
1. жњЌеЉЎе™Ёз«Їе°†Tokenиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їдїќе­ењЁжњ¬ењ°пј€дёЂи€¬д»ҐCookieзљ„ж–№ејЏдїќе­пј‰
1. е®ўж€·з«Їеђ‘жњЌеЉЎе™Ёз«ЇеЏ‘йЂЃи®їй—®иЇ·ж±‚пјЊиЇ·ж±‚дё­жђєеё¦д№‹е‰ЌйўЃеЏ‘зљ„Token
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃTokenпјЊзЎ®и®¤з”Ёж€·зљ„иє«д»Ѕе’ЊеЇ№иµ„жєђзљ„и®їй—®жќѓй™ђпјЊе№¶иї›иЎЊз›ёеє”зљ„е¤„зђ†пј€ж‹’з»ќж€–иЂ…е…Ѓи®ёи®їй—®пј‰
![](https://cdn.auth0.com/content/jwt/jwt-diagram.png)
<center>й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃзљ„жµЃзЁ‹е›ѕ</center>

### е®ћзЋ°еЌ•з‚№з™»еЅ•
еЌ•з‚№з™»еЅ•зљ„зђ†еїµеѕ€з®ЂеЌ•пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•еє”з”ЁдёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®еє”з”Ёдё­ж‰Ђжњ‰зљ„еѕ®жњЌеЉЎгЂ‚API GatewayжЏђдѕ›дє†е®ўж€·з«Їи®їй—®еѕ®жњЌеЉЎеє”з”Ёзљ„е…ҐеЏЈпјЊTokenе®ћзЋ°дє†ж— зЉ¶жЂЃзљ„з”Ёж€·и®¤иЇЃгЂ‚з»“еђ€иї™дё¤з§ЌжЉЂжњЇпјЊеЏЇд»Ґдёєеѕ®жњЌеЉЎеє”з”Ёе®ћзЋ°дёЂдёЄеЌ•з‚№з™»еЅ•ж–№жЎ€гЂ‚

з”Ёж€·зљ„и®¤иЇЃжµЃзЁ‹е’Њй‡‡з”ЁTokenж–№ејЏи®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹з±»дјјпјЊдёЌеђЊд№‹е¤„жЇеЉ е…Ґдє†API GatewayдЅњдёєе¤–йѓЁиЇ·ж±‚зљ„е…ҐеЏЈгЂ‚

з”Ёж€·з™»еЅ•
1. е®ўж€·з«ЇеЏ‘йЂЃз™»еЅ•иЇ·ж±‚е€°API Gateway
2. API Gatewayе°†з™»еЅ•иЇ·ж±‚иЅ¬еЏ‘е€°Security Service
3. Security ServiceйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊе№¶йўЃеЏ‘Token

з”Ёж€·иЇ·ж±‚
1. е®ўж€·з«ЇиЇ·ж±‚еЏ‘йЂЃе€°API Gateway
1. API Gatewayи°ѓз”Ёзљ„Security ServiceеЇ№иЇ·ж±‚дё­зљ„Tokenиї›иЎЊйЄЊиЇЃпјЊжЈЂжџҐз”Ёж€·зљ„иє«д»Ѕ
2. е¦‚жћњиЇ·ж±‚дё­жІЎжњ‰TokenпјЊTokenиї‡жњџж€–иЂ…TokenйЄЊиЇЃйќћжі•пјЊе€™ж‹’з»ќз”Ёж€·иЇ·ж±‚гЂ‚
3. Security ServiceжЈЂжџҐз”Ёж€·жЇеђ¦е…·жњ‰иЇҐж“ЌдЅњжќѓ
4. е¦‚жћњз”Ёж€·е…·жњ‰иЇҐж“ЌдЅњжќѓй™ђпјЊе€™жЉЉиЇ·ж±‚еЏ‘йЂЃе€°еђЋз«Їзљ„Business ServiceпјЊеђ¦е€™ж‹’з»ќз”Ёж€·иЇ·ж±‚
![й‡‡з”ЁAPI Gatewayе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„SSO](/img/2018-02-03-authentication-and-authorization-of-microservice/api-gateway-sso.png)
<center>й‡‡з”ЁAPI Gatewayе’ЊTokenе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„еЌ•з‚№з™»еЅ•</center>

### з”Ёж€·жќѓй™ђжЋ§е€¶
з”Ёж€·жќѓй™ђжЋ§е€¶жњ‰дё¤з§ЌеЃљжі•пјЊењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†пјЊж€–иЂ…ењЁеђ„дёЄеѕ®жњЌеЉЎдё­еЌ•з‹¬е¤„зђ†гЂ‚
#### API Gatewayе¤„иї›иЎЊз»џдёЂзљ„жќѓй™ђжЋ§е€¶
е®ўж€·з«ЇеЏ‘йЂЃзљ„HTTPиЇ·ж±‚дё­еЊ…еђ«жњ‰иЇ·ж±‚зљ„ResourceеЏЉHTTP MethodгЂ‚е¦‚жћњзі»з»џйЃµеѕЄRESTи§„иЊѓпјЊд»ҐURIиµ„жєђж–№ејЏеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊе€™API GatewayеЏЇд»Ґд»ЋиЇ·ж±‚дё­з›ґжЋҐж€ЄеЏ–е€°и®їй—®зљ„иµ„жєђеЏЉйњЂи¦Ѓиї›иЎЊзљ„ж“ЌдЅњпјЊз„¶еђЋи°ѓз”ЁSecurity Serviceиї›иЎЊжќѓй™ђе€¤ж–­пјЊж №жЌ®е€¤ж–­з»“жћње†іе®љз”Ёж€·жЇеђ¦жњ‰жќѓй™ђеЇ№иЇҐиµ„жєђиї›иЎЊж“ЌдЅњпјЊе№¶иЅ¬еЏ‘е€°еђЋз«Їзљ„Business ServiceгЂ‚иї™з§Ќе®ћзЋ°ж–№ејЏAPI Gatewayе¤„з»џдёЂе¤„зђ†й‰ґжќѓйЂ»иѕ‘пјЊеђ„дёЄеѕ®жњЌеЉЎдёЌйњЂи¦ЃиЂѓи™‘з”Ёж€·й‰ґжќѓпјЊеЏЄйњЂи¦Ѓе¤„зђ†дёљеЉЎйЂ»иѕ‘пјЊз®ЂеЊ–дє†еђ„еѕ®жњЌеЉЎзљ„е®ћзЋ°гЂ‚
#### з”±еђ„дёЄеѕ®жњЌеЉЎеЌ•з‹¬иї›иЎЊжќѓй™ђжЋ§е€¶
е¦‚жћњеѕ®жњЌеЉЎжњЄдёҐж јйЃµеѕЄRESTи§„иЊѓеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊж€–иЂ…еє”з”ЁйњЂи¦Ѓиї›иЎЊе®ље€¶еЊ–зљ„жќѓй™ђжЋ§е€¶пјЊе€™йњЂи¦ЃењЁеѕ®жњЌеЉЎдё­еЌ•з‹¬еЇ№з”Ёж€·жќѓй™ђиї›иЎЊе€¤ж–­е’Ње¤„зђ†гЂ‚иї™з§Ќжѓ…е†µдё‹еѕ®жњЌеЉЎзљ„жќѓй™ђжЋ§е€¶ж›ґдёєзЃµжґ»пјЊдЅ†еђ„дёЄеѕ®жњЌеЉЎйњЂи¦ЃеЌ•з‹¬з»ґжЉ¤з”Ёж€·зљ„жЋ€жќѓж•°жЌ®пјЊе®ћзЋ°ж›ґе¤Ќжќ‚дёЂдє›гЂ‚

### з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґ
еЇ№дєЋз¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґзљ„и®їй—®жЋ§е€¶пјЊжњ‰дё¤з§Ќе®ћзЋ°ж–№ејЏпјљ
#### API Token
з¬¬дё‰ж–№дЅїз”ЁдёЂдёЄеє”з”ЁйўЃеЏ‘зљ„API TokenеЇ№еє”з”Ёзљ„ж•°жЌ®иї›иЎЊи®їй—®гЂ‚иЇҐTokenз”±з”Ёж€·ењЁеє”з”Ёдё­з”џж€ђпјЊе№¶жЏђдѕ›з»™з¬¬дё‰ж–№еє”з”ЁдЅїз”ЁгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚

дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ[Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў](https://github.com/settings/tokens)дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚

дЅїз”ЁAPI TokenжќҐи®їй—®Github API
```
curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user

```
дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚


з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚
#### OAuth
жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚

еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚
OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
* з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚
* и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚
* з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚
* и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚

>е¤‡жіЁпјљ
>1. OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚
>
>2. жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚
>дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚
>
>```
>POST /oauth/token HTTP/1.1
>Host: authorization-server.com
>  			
>grant_type=authorization_code
>&code=xxxxxxxxxxx
>&redirect_uri=https://example-app.com/redirect
>&client_id=xxxxxxxxxx
>&client_secret=xxxxxxxxxx
>```


![OAuthи®¤иЇЃжµЃзЁ‹](/img/2018-02-03-authentication-and-authorization-of-microservice/oauth_web_server_flow.png)
<center>OAuthи®¤иЇЃжµЃзЁ‹</center>


еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:
  
ењЁе®ћзЋ°еѕ®жњЌеЉЎи‡Єиє«зљ„з”Ёж€·и®¤иЇЃж—¶пјЊд№џеЏЇд»Ґй‡‡з”ЁOAuthе°†еѕ®жњЌеЉЎзљ„з”Ёж€·и®¤иЇЃе§”ж‰з»™дёЂдёЄз¬¬дё‰ж–№зљ„и®¤иЇЃжњЌеЉЎжЏђдѕ›е•†пјЊдѕ‹е¦‚еѕ€е¤љеє”з”ЁйѓЅе°†з”Ёж€·з™»еЅ•е’Њеѕ®дїЎж€–иЂ…QQзљ„OAuthжњЌеЉЎиї›иЎЊдє†й›†ж€ђгЂ‚
  
з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґе’Њеѕ®жњЌеЉЎи‡Єиє«з”Ёж€·и®¤иЇЃй‡‡з”ЁOAuthзљ„з›®зљ„жЇдёЌеђЊзљ„пјЊе‰ЌиЂ…жЇдёєдє†е°†еѕ®жњЌеЉЎдё­з”Ёж€·зљ„з§Ѓжњ‰ж•°жЌ®и®їй—®жќѓй™ђжЋ€жќѓз»™з¬¬дё‰ж–№еє”з”ЁпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇи®¤иЇЃе’Њиµ„жєђжњЌеЉЎе™Ёзљ„и§’и‰Іпј›иЂЊеђЋиЂ…зљ„з›®зљ„жЇй›†ж€ђе№¶е€©з”ЁзџҐеђЌи®¤иЇЃжЏђдѕ›жњЌеЉЎе•†жЏђдѕ›зљ„OAuthи®¤иЇЃжњЌеЉЎпјЊз®ЂеЊ–з№Ѓзђђзљ„жіЁе†Њж“ЌдЅњпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇе®ўж€·з«Їзљ„и§’и‰ІгЂ‚
  
е› ж­¤ењЁж€‘д»¬йњЂи¦ЃеЊєе€†иї™дё¤з§ЌдёЌеђЊзљ„ењєж™ЇпјЊд»Ґе…ЌйЂ ж€ђиЇЇи§ЈгЂ‚

### еѕ®жњЌеЉЎд№‹й—ґзљ„и®¤иЇЃ
й™¤дє†жќҐи‡Єз”Ёж€·е’Њз¬¬дё‰ж–№зљ„еЊ—еђ‘жµЃй‡Џе¤–пјЊеѕ®жњЌеЉЎд№‹й—ґиїжњ‰е¤§й‡Џзљ„дёњиҐїеђ‘жµЃй‡ЏпјЊиї™дє›жµЃй‡ЏеЏЇиѓЅењЁеђЊдёЂдёЄе±ЂеџџзЅ‘дё­пјЊд№џеЏЇиѓЅи·Ёи¶ЉдёЌеђЊзљ„ж•°жЌ®дё­еїѓ,иї™дє›жњЌеЉЎй—ґзљ„жµЃй‡Џе­ењЁиў«з¬¬дё‰ж–№зљ„е—…жЋўе’Њж”»е‡»зљ„еЌ±й™©пјЊе› ж­¤д№џйњЂи¦Ѓиї›иЎЊе®‰е…ЁжЋ§е€¶гЂ‚

йЂљиї‡еЏЊеђ‘SSLеЏЇд»Ґе®ћзЋ°жњЌеЉЎд№‹й—ґзљ„з›ёдє’иє«д»Ѕи®¤иЇЃпјЊе№¶йЂљиї‡TLSеЉ еЇ†жњЌеЉЎй—ґзљ„ж•°жЌ®дј иѕ“гЂ‚йњЂи¦ЃдёєжЇЏдёЄжњЌеЉЎз”џж€ђдёЂдёЄиЇЃд№¦пјЊжњЌеЉЎд№‹й—ґйЂљиї‡еЅјж­¤зљ„иЇЃд№¦иї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚ењЁеѕ®жњЌеЉЎиїђиЎЊзЋЇеўѓдё­пјЊеЏЇиѓЅе­ењЁе¤§й‡Џзљ„еѕ®жњЌеЉЎе®ћдѕ‹пјЊе№¶дё”еѕ®жњЌеЉЎе®ћдѕ‹з»ЏеёёдјљеЉЁжЂЃеЏеЊ–пјЊдѕ‹е¦‚йљЏзќЂж°ґе№іж‰©е±•еўћеЉ жњЌеЉЎе®ћдѕ‹гЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёєжЇЏдёЄжњЌеЉЎе€›е»єе№¶е€†еЏ‘иЇЃд№¦еЏеѕ—йќћеёёе›°йљѕгЂ‚ж€‘д»¬еЏЇд»ҐйЂљиї‡е€›е»єдёЂдёЄз§Ѓжњ‰зљ„иЇЃд№¦дё­еїѓ(Internal PKI/CA)жќҐдёєеђ„дёЄеѕ®жњЌеЉЎжЏђдѕ›иЇЃд№¦з®Ўзђ†е¦‚йўЃеЏ‘гЂЃж’¤й”ЂгЂЃж›ґж–°з­‰гЂ‚


## еЏ‚иЂѓ

* [How We Solved Authentication and Authorization in Our Microservice Architecture](https://initiate.andela.com/how-we-solved-authentication-and-authorization-in-our-microservice-architecture-994539d1b6e6)
* [How to build your own public key infrastructure](https://blog.cloudflare.com/how-to-build-your-own-public-key-infrastructure/)
* [OAuth 2.0 Authorization Code Request](https://www.oauth.com/oauth2-servers/access-tokens/authorization-code-request/)
* [PKI/CAе·ҐдЅњеЋџзђ†еЏЉжћ¶жћ„](https://www.jianshu.com/p/c65fa3af1c01)
* [ж·±е…ҐиЃЉиЃЉеѕ®жњЌеЉЎжћ¶жћ„зљ„иє«д»Ѕи®¤иЇЃй—®йў](http://www.primeton.com/read.php?id=2390)




==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-02-09-docker-without-sudo.md

---
layout:     post
title:      "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
subtitle:   ""
description: "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
excerpt: "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
date:       2018-02-09 10:00:00
author:     "иµµеЊ–е†°"
image:     "/img/docker.jpg"
publishDate: 2018-02-09 10:00:00
showtoc: false 
tags:
    - Tips
    - Docker
URL: "/2018/02/09/docker-without-sudo/"
categories: [ Tips ]
---

### Add the docker group if it doesn't already exist:

sudo groupadd docker

### Add the connected user "$USER" to the docker group. Change the user name to match your preferred user if you do not want to use your current user:

sudo gpasswd -a $USER docker

### Either do a newgrp docker or log out/in to activate the changes to groups.


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-02-09-vim-tips.md

---
layout:     post
title:      "Vim Tips"
subtitle:   ""
description: "Vim Tips and tricks"
date:       2018-02-09 11:00:00
author:     "иµµеЊ–е†°"
image:      "/img/2018-02-09-vim-tips/matrix.jpg"
publishDate: 2018-02-09 11:00:00
tags:
    - Tips
    - Vim
URL: "/2018/02/09/vim-tips/"
categories: [ Tips ]
---
## vim graphical cheat sheet

![](//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg)
<!--more-->
## Vim Jumps

* ^ вЂ” Move to start of line
* $ вЂ” Move to end of line
* b вЂ” Move back a word
* w вЂ” Move forward a word
* e вЂ” Move to the end of the next word
* Ctrl-o and Ctrl-i to go to the previous/next location you jumped to
* ``(two backticks) jump back to where you were
* gi go back to the last place you inserted a text and enter insert mode

## Vim Navigations

* { and } jump paragraph back and forth
* Ctrl-F/B move one screen back and forth
* Search the word under cursor, then n/p to jump to next/previous 


## Enable Vim mode in bash
vi ~/.inputrc
set editing-mode vi

## Enable system clipboard support

See if system clipboard is supported:     
```
$ vim --version | grep clipboard
-clipboard       +iconv           +path_extra      -toolbar
+eval            +mouse_dec       +startuptime     -xterm_clipboard
```

Rinstall vim as vim-gnome:   
```
sudo apt-get install vim-gnome
```
Select what you want using the mouse - then type to copy to clipboard:  
```
"+y
```

To paste to vim from clipboard type:  
```
"+p
```
## Others
* Ex: open the current directory
* set number: show line number


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-03-13-use-docker-behind-http-proxy.md

---
layout:     post
title:      "е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†"
subtitle:   ""
description: "е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†"
date:       2018-03-13 18:00:00
author:     "иµµеЊ–е†°"
image: "/img/docker.jpg"
publishDate: 2018-03-13 18:00:00
tags:
    - Tips
    - Docker
URL: "/2018/03/13/use-docker-behind-http-proxy/"
categories: [ Tips ]
---
## Ubuntu
### и®ѕзЅ®dockerдЅїз”Ёhttp proxy
```
sudo /etc/default/docker

export http_proxy="http://127.0.0.1:3128/"
export https_proxy="http://127.0.0.1:3128/"
export HTTP_PROXY="http://127.0.0.1:3128/"
export HTTPS_PROXY="http://127.0.0.1:3128/"
```
<!--more-->
### еЉ иЅЅй…ЌзЅ®е№¶й‡ЌеђЇdocker
```
sudo service docker restart
```
## CentOS
### и®ѕзЅ®dockerдЅїз”Ёhttp proxy
```
sudo mkdir -p /etc/systemd/system/docker.service.d

echo '
[Service]
Environment="HTTP_PROXY=http://proxy.foo.bar.com:80/"
' | sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf
```

### еЉ иЅЅй…ЌзЅ®е№¶й‡ЌеђЇdocker
```
sudo systemctl daemon-reload
sudo systemctl restart docker
```


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-03-29-what-is-service-mesh-and-istio.md

---
layout:     post 
title:      "и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio"
subtitle:   "Service MeshжЁЎејЏеЏЉIstioејЂжєђйЎ№з›®д»‹з»Ќ"
description: "дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚"
date:       2018-03-29 12:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-install_and_example/post-bg.jpg"
publishDate: 2018-03-29 12:00:00
tags:
    - Microservice
    - Service Mesh
    - Istio
URL: "/2018/03/29/what-is-service-mesh-and-istio/"
categories: [ Tech ]    
---

## еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›
дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚

еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚
 <!--more-->
![](/img/2018-03-29-what-is-service-mesh-and-istio/microservice.PNG)

иЇҐеЏеЊ–её¦жќҐдє†е€†еёѓејЏзі»з»џзљ„дёЂзі»е€—й—®йўпјЊдѕ‹е¦‚пјљ
* е¦‚дЅ•ж‰ѕе€°жњЌеЉЎзљ„жЏђдѕ›ж–№пјџ
* е¦‚дЅ•дїќиЇЃиїњзЁ‹ж–№жі•и°ѓз”Ёзљ„еЏЇйќ жЂ§пјџ
* е¦‚дЅ•дїќиЇЃжњЌеЉЎи°ѓз”Ёзљ„е®‰е…ЁжЂ§пјџ
* е¦‚дЅ•й™ЌдЅЋжњЌеЉЎи°ѓз”Ёзљ„е»¶иїџпјџ
* е¦‚дЅ•иї›иЎЊз«Їе€°з«Їзљ„и°ѓиЇ•пјџ

еЏ¦е¤–з”џдє§йѓЁзЅІдё­зљ„еѕ®жњЌеЉЎе®ћдѕ‹д№џеўћеЉ дє†иїђз»ґзљ„йљѕеє¦,дѕ‹е¦‚пјљ

* е¦‚дЅ•ж”¶й›†е¤§й‡Џеѕ®жњЌеЉЎзљ„жЂ§иѓЅжЊ‡ж ‡е·Іиї›иЎЊе€†жћђпјџ
* е¦‚дЅ•ењЁдёЌеЅ±е“ЌдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹еЇ№еѕ®жњЌеЉЎиї›иЎЊеЌ‡зє§пјџ
* е¦‚дЅ•жµ‹иЇ•дёЂдёЄеѕ®жњЌеЉЎй›†зѕ¤йѓЁзЅІзљ„е®№й”™е’ЊзЁіе®љжЂ§пјџ

иї™дє›й—®йўж¶‰еЏЉе€°ж€ђз™ѕдёЉеЌѓдёЄжњЌеЉЎзљ„йЂљдїЎгЂЃз®Ўзђ†гЂЃйѓЁзЅІгЂЃз‰€жњ¬гЂЃе®‰е…ЁгЂЃж•…йљњиЅ¬з§»гЂЃз­–з•Ґж‰§иЎЊгЂЃйЃҐжµ‹е’Њз›‘жЋ§з­‰пјЊи¦Ѓи§Је†іиї™дє›еѕ®жњЌеЉЎжћ¶жћ„еј•е…Ґзљ„й—®йўе№¶йќћж“дє‹гЂ‚

и®©ж€‘д»¬жќҐе›ћйЎѕдёЂдё‹еѕ®жњЌеЉЎжћ¶жћ„зљ„еЏ‘е±•иї‡зЁ‹гЂ‚ењЁе‡єзЋ°жњЌеЉЎзЅ‘ж јд№‹е‰ЌпјЊж€‘д»¬жњЂејЂе§‹ењЁеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏе†…зђ†жњЌеЉЎд№‹й—ґзљ„йЂљи®ЇйЂ»иѕ‘пјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊз†”ж–­пјЊй‡ЌиЇ•пјЊи¶…ж—¶пјЊеЉ еЇ†пјЊй™ђжµЃз­‰йЂ»иѕ‘гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/1.png)
ењЁдёЂдёЄе€†еёѓејЏзі»з»џдё­пјЊиї™йѓЁе€†йЂ»иѕ‘жЇ”иѕѓе¤Ќжќ‚пјЊдёєдє†дёєеѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄзЁіе®љгЂЃеЏЇйќ зљ„еџєзЎЂи®ѕж–Ѕе±‚пјЊйЃїе…Ќе¤§е®¶й‡Ќе¤ЌйЂ иЅ®е­ђпјЊе№¶е‡Џе°‘зЉЇй”™зљ„еЏЇиѓЅпјЊдёЂи€¬дјљйЂљиї‡еЇ№иї™йѓЁе€†иґџиґЈжњЌеЉЎйЂљи®Їзљ„йЂ»иѕ‘иї›иЎЊжЉЅи±Ўе’ЊеЅ’зєіпјЊеЅўж€ђдёЂдёЄд»Јз Ѓеє“дѕ›еђ„дёЄеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏдЅїз”ЁпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/2.png)
е…¬е…±зљ„д»Јз Ѓеє“е‡Џе°‘дє†еє”з”ЁзЁ‹еєЏзљ„ејЂеЏ‘е’Њз»ґжЉ¤е·ҐдЅњй‡ЏпјЊй™ЌдЅЋдє†з”±еє”з”ЁејЂеЏ‘дєєе‘еЌ•з‹¬е®ћзЋ°еѕ®жњЌеЉЎйЂљи®ЇйЂ»иѕ‘е‡єзЋ°й”™иЇЇзљ„жњєзЋ‡пјЊдЅ†иїжЇе­ењЁдё‹иї°й—®йўпјљ
* еѕ®жњЌеЉЎйЂљи®ЇйЂ»иѕ‘еЇ№еє”з”ЁејЂеЏ‘дєєе‘е№¶дёЌйЂЏжЋпјЊеє”з”ЁејЂеЏ‘дєєе‘йњЂи¦Ѓзђ†и§Је№¶ж­ЈзЎ®дЅїз”Ёд»Јз Ѓ			еє“пјЊдёЌиѓЅе°†е…¶е…ЁйѓЁзІѕеЉ›иЃљз„¦дєЋдёљеЉЎйЂ»иѕ‘гЂ‚
* йњЂи¦Ѓй’€еЇ№дёЌеђЊзљ„иЇ­иЁЂ/жЎ†жћ¶ејЂеЏ‘дёЌеђЊзљ„д»Јз Ѓеє“пјЊеЏЌиї‡жќҐдјљеЅ±е“Ќеѕ®жњЌеЉЎеє”з”ЁејЂеЏ‘иЇ­иЁЂ			е’ЊжЎ†жћ¶зљ„йЂ‰ж‹©пјЊеЅ±е“ЌжЉЂжњЇйЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* йљЏзќЂж—¶й—ґзљ„еЏеЊ–пјЊд»Јз Ѓеє“дјље­ењЁдёЌеђЊзљ„з‰€жњ¬пјЊдёЌеђЊз‰€жњ¬д»Јз Ѓеє“зљ„е…је®№жЂ§е’Ње¤§й‡ЏиїђиЎЊ			зЋЇеўѓдё­еѕ®жњЌеЉЎзљ„еЌ‡зє§е°†ж€ђдёєдёЂдёЄйљѕйўгЂ‚

еЏЇд»Ґе°†еѕ®жњЌеЉЎд№‹й—ґзљ„йЂљи®ЇеџєзЎЂи®ѕж–Ѕе±‚е’ЊTCP/IPеЌЏи®®ж €иї›иЎЊз±»жЇ”гЂ‚TCP/IPеЌЏи®®ж €дёєж“ЌдЅњзі»з»џдё­зљ„ж‰Ђжњ‰еє”з”ЁжЏђдѕ›еџєзЎЂйЂљдїЎжњЌеЉЎпјЊдЅ†TCP/IPеЌЏи®®ж €е’Њеє”з”ЁзЁ‹еєЏд№‹й—ґе№¶жІЎжњ‰зґ§еЇ†зљ„иЂ¦еђ€е…ізі»пјЊеє”з”ЁеЏЄйњЂи¦ЃдЅїз”ЁTCP/IPеЌЏи®®жЏђдѕ›зљ„еє•е±‚йЂљи®ЇеЉџиѓЅ,е№¶дёЌе…іеїѓTCP/IPеЌЏи®®зљ„е®ћзЋ°пјЊе¦‚IPе¦‚дЅ•иї›иЎЊи·Їз”±пјЊTCPе¦‚дЅ•е€›е»єй“ѕжЋҐз­‰гЂ‚

еђЊж ·ењ°пјЊеѕ®жњЌеЉЎеє”з”Ёд№џдёЌеє”иЇҐйњЂи¦Ѓе…іжіЁжњЌеЉЎеЏ‘зЋ°пјЊLoad balancingпјЊRetriesпјЊCircuit Breakerз­‰еѕ®жњЌеЉЎд№‹й—ґйЂљдїЎзљ„еє•е±‚з»†иЉ‚гЂ‚е¦‚жћње°†дёєеѕ®жњЌеЉЎжЏђдѕ›йЂљдїЎжњЌеЉЎзљ„иї™йѓЁе€†йЂ»иѕ‘д»Ћеє”з”ЁзЁ‹еєЏиї›зЁ‹дё­жЉЅеЏ–е‡єжќҐпјЊдЅњдёєдёЂдёЄеЌ•з‹¬зљ„иї›зЁ‹иї›иЎЊйѓЁзЅІпјЊе№¶е°†е…¶дЅњдёєжњЌеЉЎй—ґзљ„йЂљдїЎд»Јзђ†пјЊеЏЇд»Ґеѕ—е€°е¦‚дё‹е›ѕж‰Ђз¤єзљ„жћ¶жћ„пјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/sidecar.png)
е› дёєйЂљи®Їд»Јзђ†иї›зЁ‹дјґйљЏеє”з”Ёиї›зЁ‹дёЂиµ·йѓЁзЅІпјЊе› ж­¤еЅўи±Ўењ°жЉЉиї™з§ЌйѓЁзЅІж–№ејЏз§°дёєвЂњsidecarвЂќ/иѕ№иЅ¦пј€еЌідё‰иЅ®ж‘©ж‰зљ„жЊЋж–—пј‰гЂ‚

еє”з”Ёй—ґзљ„ж‰Ђжњ‰жµЃй‡ЏйѓЅйњЂи¦Ѓз»Џиї‡д»Јзђ†пјЊз”±дєЋд»Јзђ†д»Ґsidecarж–№ејЏе’Њеє”з”ЁйѓЁзЅІењЁеђЊдёЂеЏ°дё»жњєдёЉпјЊеє”з”Ёе’Њд»Јзђ†д№‹й—ґзљ„йЂљи®ЇеЏЇд»Ґиў«и®¤дёєжЇеЏЇйќ зљ„гЂ‚з”±д»Јзђ†жќҐиґџиґЈж‰ѕе€°з›®зљ„жњЌеЉЎе№¶иґџиґЈйЂљи®Їзљ„еЏЇйќ жЂ§е’Ње®‰е…Ёз­‰й—®йўгЂ‚

еЅ“жњЌеЉЎе¤§й‡ЏйѓЁзЅІж—¶пјЊйљЏзќЂжњЌеЉЎйѓЁзЅІзљ„sidecarд»Јзђ†д№‹й—ґзљ„иїћжЋҐеЅўж€ђдє†дёЂдёЄе¦‚дё‹е›ѕж‰Ђз¤єзљ„зЅ‘ж јпјЊиЇҐзЅ‘ж јж€ђдёєдє†еѕ®жњЌеЉЎзљ„йЂљи®ЇеџєзЎЂи®ѕж–Ѕе±‚пјЊж‰їиЅЅдє†еѕ®жњЌеЉЎд№‹й—ґзљ„ж‰Ђжњ‰жµЃй‡ЏпјЊиў«з§°д№‹дёєService Meshпј€жњЌеЉЎзЅ‘ж јпј‰гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/mesh.png)

_жњЌеЉЎзЅ‘ж јжЇдёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊз”ЁдєЋе¤„зђ†жњЌеЉЎй—ґйЂљдїЎгЂ‚дє‘еЋџз”џеє”з”Ёжњ‰зќЂе¤Ќжќ‚зљ„жњЌеЉЎж‹“ж‰‘пјЊжњЌеЉЎзЅ‘ж јдїќиЇЃиЇ·ж±‚еЏЇд»ҐењЁиї™дє›ж‹“ж‰‘дё­еЏЇйќ ењ°з©їжў­гЂ‚ењЁе®ћй™…еє”з”ЁеЅ“дё­пјЊжњЌеЉЎзЅ‘ж јйЂљеёёжЇз”±дёЂзі»е€—иЅ»й‡Џзє§зљ„зЅ‘з»њд»Јзђ†з»„ж€ђзљ„пјЊе®ѓд»¬дёЋеє”з”ЁзЁ‹еєЏйѓЁзЅІењЁдёЂиµ·пјЊдЅ†еє”з”ЁзЁ‹еєЏдёЌйњЂи¦ЃзџҐйЃ“е®ѓд»¬зљ„е­ењЁгЂ‚

_William Morgan _[_WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?_
](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)_

жњЌеЉЎзЅ‘ж јдё­жњ‰ж•°й‡Џдј—е¤љзљ„Sidecarд»Јзђ†пјЊе¦‚жћњеЇ№жЇЏдёЄд»Јзђ†е€†е€«иї›иЎЊи®ѕзЅ®пјЊе·ҐдЅњй‡Џе°†йќћеёёе·Ёе¤§гЂ‚дёєдє†ж›ґж–№дѕїењ°еЇ№жњЌеЉЎзЅ‘ж јдё­зљ„д»Јзђ†иї›иЎЊз»џдёЂй›†дё­жЋ§е€¶пјЊењЁжњЌеЉЎзЅ‘ж јдёЉеўћеЉ дє†жЋ§е€¶йќўз»„д»¶гЂ‚

![](/img/2018-03-29-what-is-service-mesh-and-istio/controlplane.png)

иї™й‡Њж€‘д»¬еЏЇд»Ґз±»жЇ”SDNзљ„ж¦‚еїµпјЊжЋ§е€¶йќўе°±з±»дјјдєЋSDNзЅ‘з®Ўдё­зљ„жЋ§е€¶е™ЁпјЊиґџиґЈи·Їз”±з­–з•Ґзљ„жЊ‡е®ље’Њи·Їз”±и§„е€™дё‹еЏ‘пј›ж•°жЌ®йќўз±»дјјдєЋSDNзЅ‘з»њдё­дє¤жЌўжњєпјЊиґџиґЈж•°жЌ®еЊ…зљ„иЅ¬еЏ‘гЂ‚

з”±дєЋеѕ®жњЌеЉЎзљ„ж‰Ђжњ‰йЂљи®ЇйѓЅз”±жњЌеЉЎзЅ‘ж јеџєзЎЂи®ѕж–Ѕе±‚жЏђдѕ›пјЊйЂљиї‡жЋ§е€¶йќўжќїе’Њж•°жЌ®йќўжќїзљ„й…Ќеђ€пјЊеЏЇд»ҐеЇ№иї™дє›йЂљи®Їиї›иЎЊз›‘жЋ§гЂЃж‰з®Ўе’ЊжЋ§е€¶пјЊд»Ґе®ћзЋ°еѕ®жњЌеЉЎзЃ°еє¦еЏ‘еёѓпјЊи°ѓз”Ёе€†еёѓејЏиїЅиёЄпјЊж•…йљњжіЁе…ҐжЁЎж‹џжµ‹иЇ•пјЊеЉЁжЂЃи·Їз”±и§„е€™пјЊеѕ®жњЌеЉЎй—­зЋЇжЋ§е€¶з­‰з®ЎжЋ§еЉџиѓЅгЂ‚

## IstioжњЌеЉЎзЅ‘ж ј
IstioжЇдёЂдёЄService MeshејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂеЉ›дЅњпјЊдё»и¦ЃеЏ‚дёЋзљ„е…¬еЏёеЊ…ж‹¬GoogleпјЊIBMе’ЊLyftгЂ‚

е‡­еЂџkubernetesи‰ЇеҐЅзљ„жћ¶жћ„и®ѕи®ЎеЏЉе…¶ејєе¤§зљ„ж‰©е±•жЂ§пјЊGoogleе›ґз»•kubernetesж‰“йЂ дёЂдёЄз”џжЂЃзі»з»џгЂ‚Kubernetesз”ЁдєЋеѕ®жњЌеЉЎзљ„зј–жЋ’пј€зј–жЋ’жЇи‹±ж–‡Orchestrationзљ„з›ґиЇ‘пјЊз”Ёе¤§з™ЅиЇќиЇґе°±жЇжЏЏиї°дёЂз»„еѕ®жњЌеЉЎд№‹й—ґзљ„е…іиЃ”е…ізі»пјЊе№¶иґџиґЈеѕ®жњЌеЉЎзљ„йѓЁзЅІгЂЃз»€ж­ўгЂЃеЌ‡зє§гЂЃзј©ж‰©е®№з­‰пј‰гЂ‚е…¶еђ‘дё‹з”ЁCNI(е®№е™ЁзЅ‘з»њжЋҐеЏЈпј‰пјЊCRIпј€е®№е™ЁиїђиЎЊж—¶жЋҐеЏЈпј‰ж ‡е‡†жЋҐеЏЈеЏЇд»ҐеЇ№жЋҐдёЌеђЊзљ„зЅ‘з»ње’Ње®№е™ЁиїђиЎЊж—¶е®ћзЋ°пјЊжЏђдѕ›еѕ®жњЌеЉЎиїђиЎЊзљ„еџєзЎЂи®ѕж–ЅгЂ‚еђ‘дёЉе€™з”ЁIstioжЏђдѕ›дє†еѕ®жњЌеЉЎжІ»зђ†еЉџиѓЅгЂ‚

з”±дё‹е›ѕеЏЇи§ЃпјЊIstioиЎҐе……дє†Kubernetesз”џжЂЃењ€зљ„й‡Ќи¦ЃдёЂзЋЇпјЊжЇGoogleзљ„еѕ®жњЌеЉЎз‰€е›ѕй‡ЊдёЂдёЄй‡ЊзЁ‹зў‘ејЏзљ„ж‰©еј гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/k8s-ecosystem.PNG)

GoogleеЂџIstioзљ„еЉ›й‡ЏжЋЁеЉЁеѕ®жњЌеЉЎжІ»зђ†зљ„дє‹е®ћж ‡е‡†пјЊеЇ№Googleи‡Єиє«зљ„дє§е“ЃGoogle Cloudжњ‰жћЃе…¶й‡Ќе¤§зљ„ж„Џд№‰гЂ‚е…¶д»–зљ„дє‘жњЌеЉЎеЋ‚е•†пјЊе¦‚RedhatпјЊPivotalпјЊNginxпјЊBuoyantз­‰зњ‹е€°е¤§еЉїж‰Ђи¶‹пјЊд№џзє·зє·и·џиї›пјЊе®Јеёѓи‡Єиє«дє§е“Ѓе’ЊIstioиї›иЎЊй›†ж€ђпјЊд»ҐйЃїе…Ќи‡Єе·±иў«иђЅдё‹пјЊдёўе¤±е…¶дё­зљ„её‚ењєжњєдјљгЂ‚

еЏЇд»Ґйў„и§ЃдёЌд№…зљ„е°†жќҐпјЊеЇ№дєЋдє‘еЋџз”џеє”з”ЁиЂЊиЁЂпјЊй‡‡з”Ёkubernetesиї›иЎЊжњЌеЉЎйѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊй‡‡з”ЁIstioе¤„зђ†жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†пјЊе°†ж€ђдёєеѕ®жњЌеЉЎеє”з”Ёзљ„ж ‡е‡†й…ЌзЅ®гЂ‚

IstioжњЌеЉЎеЊ…ж‹¬зЅ‘ж јз”±ж•°жЌ®йќўе’ЊжЋ§е€¶йќўдё¤йѓЁе€†гЂ‚
* ж•°жЌ®йќўз”±дёЂз»„ж™єиѓЅд»Јзђ†пј€Envoyпј‰з»„ж€ђпјЊд»Јзђ†йѓЁзЅІдёєиѕ№иЅ¦пјЊи°ѓи§Је’ЊжЋ§е€¶еѕ®жњЌеЉЎд№‹й—ґж‰Ђжњ‰зљ„зЅ‘з»њйЂљдїЎгЂ‚
* жЋ§е€¶йќўиґџиґЈз®Ўзђ†е’Њй…ЌзЅ®д»Јзђ†жќҐи·Їз”±жµЃй‡ЏпјЊд»ҐеЏЉењЁиїђиЎЊж—¶ж‰§иЎЊз­–з•ҐгЂ‚

![](/img/2018-03-29-what-is-service-mesh-and-istio/istio-architecture.png)

### IstioжЋ§е€¶йќў
IstioжЋ§е€¶йќўжќїеЊ…ж‹¬3дёЄз»„д»¶:Pilot, Mixerе’ЊIstio-AuthгЂ‚
#### Pilot
Pilotз»ґжЉ¤дє†зЅ‘ж јдё­зљ„жњЌеЉЎзљ„ж ‡е‡†жЁЎећ‹пјЊиї™дёЄж ‡е‡†жЁЎећ‹жЇз‹¬з«‹дєЋеђ„з§Ќеє•е±‚е№іеЏ°зљ„гЂ‚PilotйЂљиї‡йЂ‚й…Ќе™Ёе’Њеђ„еє•е±‚е№іеЏ°еЇ№жЋҐпјЊд»ҐеЎ«е……ж­¤ж ‡е‡†жЁЎећ‹гЂ‚

дѕ‹е¦‚Pilotдё­зљ„KubernetesйЂ‚й…Ќе™ЁйЂљиї‡Kubernetes APIжњЌеЉЎе™Ёеѕ—е€°kubernetesдё­podжіЁе†ЊдїЎжЃЇзљ„ж›ґж”№пјЊе…ҐеЏЈиµ„жєђд»ҐеЏЉе­е‚ЁжµЃй‡Џз®Ўзђ†и§„е€™з­‰дїЎжЃЇпјЊз„¶еђЋе°†иЇҐж•°жЌ®иў«зї»иЇ‘дёєж ‡е‡†жЁЎећ‹жЏђдѕ›з»™PilotдЅїз”ЁгЂ‚йЂљиї‡йЂ‚й…Ќе™ЁжЁЎејЏпјЊPilotиїеЏЇд»Ґд»ЋMesos, Cloud Foundry, Consulдё­иЋ·еЏ–жњЌеЉЎдїЎжЃЇпјЊд№џеЏЇд»ҐејЂеЏ‘йЂ‚й…Ќе™Ёе°†е…¶д»–жЏђдѕ›жњЌеЉЎеЏ‘зЋ°зљ„з»„д»¶й›†ж€ђе€°Pilotдё­гЂ‚

й™¤ж­¤д»Ґе¤–пјЊPiloиїе®љд№‰дє†дёЂеҐ—е’Њж•°жЌ®йќўйЂљдїЎзљ„ж ‡е‡†APIпјЊAPIжЏђдѕ›зљ„жЋҐеЏЈе†…е®№еЊ…ж‹¬жњЌеЉЎеЏ‘зЋ° гЂЃиґџиЅЅеќ‡иЎЎж± е’Њи·Їз”±иЎЁзљ„еЉЁжЂЃж›ґж–°гЂ‚йЂљиї‡иЇҐж ‡е‡†APIе°†жЋ§е€¶йќўе’Њж•°жЌ®йќўиї›иЎЊдє†и§ЈиЂ¦пјЊз®ЂеЊ–дє†и®ѕи®Ўе№¶жЏђеЌ‡дє†и·Ёе№іеЏ°зљ„еЏЇз§»ж¤ЌжЂ§гЂ‚еџєдєЋиЇҐж ‡е‡†APIе·Із»Џе®ћзЋ°дє†е¤љз§ЌSidecarд»Јзђ†е’ЊIstioзљ„й›†ж€ђпјЊй™¤Istioз›®е‰Ќй›†ж€ђзљ„Envoyе¤–пјЊиїеЏЇд»Ґе’ЊLinkerd, Nginmeshз­‰з¬¬дё‰ж–№йЂљдїЎд»Јзђ†иї›иЎЊй›†ж€ђпјЊд№џеЏЇд»ҐеџєдєЋиЇҐAPIи‡Єе·±зј–е†™Sidecarе®ћзЋ°гЂ‚

Pilotиїе®љд№‰дє†дёЂеҐ—DSLпј€Domain Specific Languageпј‰иЇ­иЁЂпјЊDSLиЇ­иЁЂжЏђдѕ›дє†йќўеђ‘дёљеЉЎзљ„й«е±‚жЉЅи±ЎпјЊеЏЇд»Ґиў«иїђз»ґдєєе‘зђ†и§Је’ЊдЅїз”ЁгЂ‚иїђз»ґдєєе‘дЅїз”ЁиЇҐDSLе®љд№‰жµЃй‡Џи§„е€™е№¶дё‹еЏ‘е€°PilotпјЊиї™дє›и§„е€™иў«Pilotзї»иЇ‘ж€ђж•°жЌ®йќўзљ„й…ЌзЅ®пјЊе†ЌйЂљиї‡ж ‡е‡†APIе€†еЏ‘е€°Envoyе®ћдѕ‹пјЊеЏЇд»ҐењЁиїђиЎЊжњџеЇ№еѕ®жњЌеЉЎзљ„жµЃй‡Џиї›иЎЊжЋ§е€¶е’Њи°ѓж•ґгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/pilot.png)

#### Mixer
ењЁеѕ®жњЌеЉЎеє”з”Ёдё­пјЊйЂљеёёйњЂи¦ЃйѓЁзЅІдёЂдє›еџєзЎЂзљ„еђЋз«Їе…¬е…±жњЌеЉЎд»Ґз”ЁдєЋж”Їж’‘дёљеЉЎеЉџиѓЅгЂ‚иї™дє›еџєзЎЂи®ѕж–ЅеЊ…ж‹¬з­–з•Ґз±»е¦‚и®їй—®жЋ§е€¶пјЊй…Ќйўќз®Ўзђ†пј›д»ҐеЏЉйЃҐжµ‹жЉҐе‘Ље¦‚APMпјЊж—Ґеї—з­‰гЂ‚еѕ®жњЌеЉЎеє”з”Ёе’Њиї™дє›еђЋз«Їж”Їж’‘зі»з»џд№‹й—ґдёЂи€¬жЇз›ґжЋҐй›†ж€ђзљ„пјЊиї™еЇји‡ґдє†еє”з”Ёе’ЊеџєзЎЂи®ѕзЅ®д№‹й—ґзљ„зґ§еЇ†иЂ¦еђ€пјЊе¦‚жћње› дёєиїђз»ґеЋџе› йњЂи¦ЃеЇ№еџєзЎЂи®ѕзЅ®иї›иЎЊеЌ‡зє§ж€–иЂ…ж”№еЉЁпјЊе€™йњЂи¦Ѓдї®ж”№еђ„дёЄеѕ®жњЌеЉЎзљ„еє”з”Ёд»Јз ЃпјЊеЏЌд№‹дє¦з„¶гЂ‚

дёєдє†и§Је†іиЇҐй—®йўпјЊMixerењЁеє”з”ЁзЁ‹еєЏд»Јз Ѓе’ЊеџєзЎЂжћ¶жћ„еђЋз«Їд№‹й—ґеј•е…Ґдє†дёЂдёЄйЂљз”Ёдё­й—ґе±‚гЂ‚иЇҐдё­й—ґе±‚и§ЈиЂ¦дє†еє”з”Ёе’ЊеђЋз«ЇеџєзЎЂи®ѕж–ЅпјЊеє”з”ЁзЁ‹еєЏд»Јз ЃдёЌе†Ќе°†еє”з”ЁзЁ‹еєЏд»Јз ЃдёЋз‰№е®љеђЋз«Їй›†ж€ђењЁдёЂиµ·пјЊиЂЊжЇдёЋMixerиї›иЎЊз›ёеЅ“з®ЂеЌ•зљ„й›†ж€ђпјЊз„¶еђЋMixerиґџиґЈдёЋеђЋз«Їзі»з»џиїћжЋҐгЂ‚

Mixerдё»и¦ЃжЏђдѕ›дє†дё‰дёЄж ёеїѓеЉџиѓЅпјљ
* е‰ЌжЏђжќЎд»¶жЈЂжџҐгЂ‚е…Ѓи®ёжњЌеЉЎењЁе“Ќеє”жќҐи‡ЄжњЌеЉЎж¶€иґ№иЂ…зљ„дј е…ҐиЇ·ж±‚д№‹е‰ЌйЄЊиЇЃдёЂдє›е‰ЌжЏђжќЎд»¶гЂ‚е‰ЌжЏђжќЎд»¶еЏЇд»ҐеЊ…ж‹¬жњЌеЉЎдЅїз”ЁиЂ…жЇеђ¦иў«ж­ЈзЎ®и®¤иЇЃпјЊжЇеђ¦ењЁжњЌеЉЎзљ„з™ЅеђЌеЌ•дёЉпјЊжЇеђ¦йЂљиї‡ACLжЈЂжџҐз­‰з­‰гЂ‚
* й…Ќйўќз®Ўзђ†гЂ‚ дЅїжњЌеЉЎиѓЅе¤џењЁе€†й…Ќе’Њй‡Љж”ѕе¤љдёЄз»ґеє¦дёЉзљ„й…ЌйўќпјЊй…Ќйўќиї™дёЂз®ЂеЌ•зљ„иµ„жєђз®Ўзђ†е·Ґе…·еЏЇд»ҐењЁжњЌеЉЎж¶€иґ№иЂ…еЇ№жњ‰й™ђиµ„жєђеЏ‘з”џдє‰з”Ёж—¶пјЊжЏђдѕ›з›ёеЇ№е…¬е№ізљ„пј€з«ћдє‰ж‰‹ж®µпј‰гЂ‚Rate Limitingе°±жЇй…Ќйўќзљ„дёЂдёЄдѕ‹е­ђгЂ‚
* йЃҐжµ‹жЉҐе‘ЉгЂ‚дЅїжњЌеЉЎиѓЅе¤џдёЉжЉҐж—Ґеї—е’Њз›‘жЋ§гЂ‚ењЁжњЄжќҐпјЊе®ѓиїе°†еђЇз”Ёй’€еЇ№жњЌеЉЎиїђиђҐе•†д»ҐеЏЉжњЌеЉЎж¶€иґ№иЂ…зљ„и·џиёЄе’Њи®Ўиґ№жµЃгЂ‚


Mixerзљ„жћ¶жћ„е¦‚е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/mixer2.png)

й¦–е…€пјЊSidecarдјљд»ЋжЇЏдёЂж¬ЎиЇ·ж±‚дё­ж”¶й›†з›ёе…ідїЎжЃЇпјЊе¦‚иЇ·ж±‚зљ„и·Їеѕ„пјЊж—¶й—ґпјЊжєђIPпјЊз›®ењ°жњЌеЉЎпјЊtracingе¤ґпјЊж—Ґеї—з­‰пјЊе№¶иЇ·иї™дє›е±ћжЂ§дёЉжЉҐз»™MixerгЂ‚Mixerе’ЊеђЋз«ЇжњЌеЉЎд№‹й—ґжЇйЂљиї‡йЂ‚й…Ќе™Ёиї›иЎЊиїћжЋҐзљ„пјЊMixerе°†SidecarдёЉжЉҐзљ„е†…е®№йЂљиї‡йЂ‚й…Ќе™ЁеЏ‘йЂЃз»™еђЋз«ЇжњЌеЉЎгЂ‚

з”±дєЋSidecarеЏЄе’ЊMixerиї›иЎЊеЇ№жЋҐпјЊе’ЊеђЋз«ЇжњЌеЉЎд№‹й—ґе№¶жІЎжњ‰иЂ¦еђ€пјЊе› ж­¤дЅїз”ЁMixerйЂ‚й…Ќе™Ёжњєе€¶еЏЇд»ҐжЋҐе…ҐдёЌеђЊзљ„еђЋз«ЇжњЌеЉЎпјЊиЂЊдёЌйњЂи¦Ѓдї®ж”№еє”з”Ёзљ„д»Јз ЃпјЊдѕ‹е¦‚йЂљиї‡дёЌеђЊзљ„MixerйЂ‚й…Ќе™ЁпјЊеЏЇд»ҐжЉЉMetricsж”¶й›†е€°Prometheusж€–иЂ…InfluxDBпјЊз”љи‡іеЏЇд»ҐењЁдёЌеЃњж­ўеє”з”ЁжњЌеЉЎзљ„жѓ…е†µдё‹еЉЁжЂЃе€‡жЌўеђЋеЏ°жњЌеЉЎгЂ‚

е…¶ж¬ЎпјЊSidecarењЁиї›иЎЊжЇЏж¬ЎиЇ·ж±‚е¤„зђ†ж—¶дјљйЂљиї‡Mixerиї›иЎЊз­–з•Ґе€¤ж–­пјЊе№¶ж №жЌ®Mixerиї”е›ћзљ„з»“жћње†іе®љжЇеђ¦з»§з»­е¤„зђ†иЇҐж¬Ўи°ѓз”ЁгЂ‚йЂљиї‡иЇҐж–№ејЏпјЊMixerе°†з­–з•Ґе†із­–з§»е‡єеє”з”Ёе±‚пјЊдЅїиїђз»ґдєєе‘еЏЇд»ҐењЁиїђиЎЊжњџеЇ№з­–з•Ґиї›иЎЊй…ЌзЅ®пјЊеЉЁжЂЃжЋ§е€¶еє”з”Ёзљ„иЎЊдёєпјЊжЏђй«дє†з­–з•ҐжЋ§е€¶зљ„зЃµжґ»жЂ§гЂ‚дѕ‹е¦‚еЏЇд»Ґй…ЌзЅ®жЇЏдёЄеѕ®жњЌеЉЎеє”з”Ёзљ„и®їй—®з™ЅеђЌеЌ•пјЊдёЌеђЊе®ўж€·з«Їзљ„Rate limitingпјЊз­‰з­‰гЂ‚

йЂ»иѕ‘дёЉеѕ®жњЌеЉЎд№‹й—ґзљ„жЇЏдёЂж¬ЎиЇ·ж±‚и°ѓз”ЁйѓЅдјљз»Џиї‡дё¤ж¬ЎMixerзљ„е¤„зђ†пјљи°ѓз”Ёе‰Ќиї›иЎЊз­–з•Ґе€¤ж–­пјЊи°ѓз”ЁеђЋиї›иЎЊйЃҐжµ‹ж•°жЌ®ж”¶й›†гЂ‚Istioй‡‡з”Ёдє†дёЂдє›жњєе€¶жќҐйЃїе…ЌMixerзљ„е¤„зђ†еЅ±е“ЌEnvoyзљ„иЅ¬еЏ‘ж•€зЋ‡гЂ‚

д»ЋдёЉе›ѕеЏЇд»Ґзњ‹е€°пјЊIstioењЁEnvoyдё­еўћеЉ дє†дёЂдёЄMixer FilterпјЊиЇҐFilterе’ЊжЋ§е€¶йќўзљ„Mixerз»„д»¶иї›иЎЊйЂљи®ЇпјЊе®Њж€ђз­–з•ҐжЋ§е€¶е’ЊйЃҐжµ‹ж•°жЌ®ж”¶й›†еЉџиѓЅгЂ‚Mixer Filterдё­дїќе­жњ‰з­–з•Ґе€¤ж–­ж‰ЂйњЂзљ„ж•°жЌ®зј“е­пјЊе› ж­¤е¤§йѓЁе€†з­–з•Ґе€¤ж–­ењЁEnvoyдё­е°±е¤„зђ†дє†пјЊдёЌйњЂи¦ЃеЏ‘йЂЃиЇ·ж±‚е€°MixerгЂ‚еЏ¦е¤–Envoyж”¶й›†е€°зљ„йЃҐжµ‹ж•°жЌ®дјље…€дїќе­ењЁEnvoyзљ„зј“е­дё­пјЊжЇЏйљ”дёЂж®µж—¶й—ґе†ЌйЂљиї‡ж‰№й‡Џзљ„ж–№ејЏдёЉжЉҐе€°MixerгЂ‚


#### Auth
Istioж”ЇжЊЃеЏЊеђ‘SSLи®¤иЇЃпј€Mutual SSL Authenticationпј‰е’ЊеџєдєЋи§’и‰Ізљ„и®їй—®жЋ§е€¶пј€RBACпј‰пјЊд»ҐжЏђдѕ›з«Їе€°з«Їзљ„е®‰е…Ёи§Је†іж–№жЎ€гЂ‚

##### и®¤иЇЃ
IstioжЏђдѕ›дє†дёЂдёЄе†…йѓЁзљ„CA(иЇЃд№¦жњєжћ„),иЇҐCAдёєжЇЏдёЄжњЌеЉЎйўЃеЏ‘иЇЃд№¦пјЊжЏђдѕ›жњЌеЉЎй—ґи®їй—®зљ„еЏЊеђ‘SSLиє«д»Ѕи®¤иЇЃпјЊе№¶иї›иЎЊйЂљдїЎеЉ еЇ†пјЊе…¶жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/auth.png)

е…¶е·ҐдЅњжњєе€¶е¦‚дё‹пјљ
йѓЁзЅІж—¶пјљ

* CAз›‘еђ¬Kubernetes API Server, дёєй›†зѕ¤дё­зљ„жЇЏдёЂдёЄService Accountе€›е»єдёЂеЇ№еЇ†й’Ґе’ЊиЇЃд№¦пјЊе№¶еЏ‘йЂЃз»™Kubernetes API ServerгЂ‚жіЁж„Џиї™й‡ЊдёЌжЇдёєжЇЏдёЄжњЌеЉЎз”џж€ђдёЂдёЄиЇЃд№¦пјЊиЂЊжЇдёєжЇЏдёЄService Accountз”џж€ђдёЂдёЄиЇЃд№¦гЂ‚Service Accountе’Њkubernetesдё­йѓЁзЅІзљ„жњЌеЉЎеЏЇд»ҐжЇдёЂеЇ№е¤љзљ„е…ізі»гЂ‚Service Accountиў«дїќе­ењЁиЇЃд№¦зљ„SAN(Subject Alternative Name)е­—ж®µдё­гЂ‚
* еЅ“Podе€›е»єж—¶пјЊKubernetesж №жЌ®иЇҐPodе…іиЃ”зљ„Service Accountе°†еЇ†й’Ґе’ЊиЇЃд№¦д»ҐKubernetes Secretsиµ„жєђзљ„ж–№ејЏеЉ иЅЅдёєPodзљ„VolumeпјЊд»Ґдѕ›EnvoyдЅїз”ЁгЂ‚
* Pilotз”џж€ђж•°жЌ®йќўзљ„й…ЌзЅ®пјЊеЊ…ж‹¬EnvoyйњЂдЅїз”Ёзљ„еЇ†й’Ґе’ЊиЇЃд№¦дїЎжЃЇпјЊд»ҐеЏЉе“ЄдёЄService AccountеЏЇд»Ґе…Ѓи®ёиїђиЎЊе“Єдє›жњЌеЉЎпјЊдё‹еЏ‘е€°EnvoyгЂ‚
>е¤‡жіЁпјље¦‚жћњжЇи™љжњєзЋЇеўѓпјЊе€™й‡‡з”ЁдёЂдёЄNode Agentз”џж€ђеЇ†й’ҐпјЊеђ‘Istio CAз”іиЇ·иЇЃд№¦пјЊз„¶еђЋе°†иЇЃд№¦дј йЂ’з»™EnvoyгЂ‚

иїђиЎЊж—¶пјљ

* жњЌеЉЎе®ўж€·з«Їзљ„е‡єз«™иЇ·ж±‚иў«EnvoyжЋҐз®ЎгЂ‚
* е®ўж€·з«Їзљ„Envoyе’ЊжњЌеЉЎз«Їзљ„EnvoyејЂе§‹еЏЊеђ‘SSLжЏЎж‰‹гЂ‚ењЁжЏЎж‰‹й¶ж®µпјЊе®ўж€·з«ЇEnvoyдјљйЄЊиЇЃжњЌеЉЎз«ЇEnvoyиЇЃд№¦дё­зљ„Service Accountжњ‰жІЎжњ‰жќѓй™ђиїђиЎЊиЇҐиЇ·ж±‚зљ„жњЌеЉЎпјЊе¦‚жІЎжњ‰жќѓй™ђпјЊе€™и®¤дёєжњЌеЉЎз«ЇдёЌеЏЇдїЎпјЊдёЌиѓЅе€›е»єй“ѕжЋҐгЂ‚
* еЅ“еЉ еЇ†TSLй“ѕжЋҐе€›е»єеҐЅеђЋпјЊиЇ·ж±‚ж•°жЌ®иў«еЏ‘йЂЃе€°жњЌеЉЎз«Їзљ„EnvoyпјЊз„¶еђЋиў«EnvoyйЂљиї‡дёЂдёЄжњ¬ењ°зљ„TCPй“ѕжЋҐеЏ‘йЂЃе€°жњЌеЉЎдё­гЂ‚

##### й‰ґжќѓ

IstioвЂњеџєдєЋи§’и‰Ізљ„и®їй—®жЋ§е€¶вЂќпј€RBACпј‰жЏђдѕ›дє†е‘ЅеђЌз©єй—ґпјЊжњЌеЉЎпјЊж–№жі•дё‰дёЄдёЌеђЊе¤§е°ЏзІ’еє¦зљ„жњЌеЉЎи®їй—®жќѓй™ђжЋ§е€¶гЂ‚е…¶жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/authorization.png)

з®Ўзђ†дєєе‘еЏЇд»Ґе®ље€¶и®їй—®жЋ§е€¶зљ„е®‰е…Ёз­–з•ҐпјЊиї™дє›е®‰е…Ёз­–з•Ґдїќе­ењЁIstio Config Storeдё­гЂ‚ Istio RBAC Engineд»ЋConfig Storeдё­иЋ·еЏ–е®‰е…Ёз­–з•ҐпјЊж №жЌ®е®‰е…Ёз­–з•ҐеЇ№е®ўж€·з«ЇеЏ‘иµ·зљ„иЇ·ж±‚иї›иЎЊе€¤ж–­пјЊе№¶иї”е›ћй‰ґжќѓз»“жћњпј€е…Ѓи®ёж€–иЂ…з¦Ѓж­ўпј‰гЂ‚

Istio RBAC Engineз›®е‰Ќиў«е®ћзЋ°дёєдёЂдёЄMixer AdapterпјЊе› ж­¤е…¶еЏЇд»Ґд»ЋMixerдј йЂ’иї‡жќҐзљ„дёЉдё‹ж–‡дё­иЋ·еЏ–е€°и®їй—®иЇ·ж±‚иЂ…зљ„иє«д»Ѕпј€Subjectпј‰е’Њж“ЌдЅњиЇ·ж±‚пј€Actionпј‰пјЊе№¶йЂљиї‡MixerеЇ№и®їй—®иЇ·ж±‚иї›иЎЊз­–з•ҐжЋ§е€¶пјЊе…Ѓи®ёж€–иЂ…з¦Ѓж­ўжџђдёЂж¬ЎиЇ·ж±‚гЂ‚

Istio Policyдё­еЊ…еђ«дё¤дёЄеџєжњ¬ж¦‚еїµпјљ

* ServiceRoleпјЊе®љд№‰дёЂдёЄи§’и‰ІпјЊе№¶дёєиЇҐи§’и‰ІжЊ‡е®љеЇ№зЅ‘ж јдё­жњЌеЉЎзљ„и®їй—®жќѓй™ђгЂ‚жЊ‡е®љи§’и‰Іи®їй—®жќѓй™ђж—¶еЏЇд»ҐењЁе‘ЅеђЌз©єй—ґпјЊжњЌеЉЎпјЊж–№жі•зљ„дёЌеђЊзІ’еє¦иї›иЎЊи®ѕзЅ®гЂ‚

* ServiceRoleBindingпјЊе°†и§’и‰Із»‘е®ље€°дёЂдёЄSubjectпјЊеЏЇд»ҐжЇдёЂдёЄз”Ёж€·пјЊдёЂз»„з”Ёж€·ж€–иЂ…дёЂдёЄжњЌеЉЎгЂ‚

### Istioж•°жЌ®йќў
Istioж•°жЌ®йќўд»ҐвЂњиѕ№иЅ¦вЂќ(sidecar)зљ„ж–№ејЏе’Њеѕ®жњЌеЉЎдёЂиµ·йѓЁзЅІпјЊдёєеѕ®жњЌеЉЎжЏђдѕ›е®‰е…ЁгЂЃеї«йЂџгЂЃеЏЇйќ зљ„жњЌеЉЎй—ґйЂљи®ЇгЂ‚з”±дєЋIstioзљ„жЋ§е€¶йќўе’Њж•°жЌ®йќўд»Ґж ‡е‡†жЋҐеЏЈиї›иЎЊдє¤дє’пјЊе› ж­¤ж•°жЌ®еЏЇд»Ґжњ‰е¤љз§Ќе®ћзЋ°пјЊIstioзјєзњЃдЅїз”Ёдє†Envoyд»Јзђ†зљ„ж‰©е±•з‰€жњ¬гЂ‚

EnvoyжЇд»ҐC ++ејЂеЏ‘зљ„й«жЂ§иѓЅд»Јзђ†пјЊз”ЁдєЋи°ѓи§ЈжњЌеЉЎзЅ‘ж јдё­ж‰Ђжњ‰жњЌеЉЎзљ„ж‰Ђжњ‰е…Ґз«™е’Ње‡єз«™жµЃй‡ЏгЂ‚Envoyзљ„и®ёе¤ље†…зЅ®еЉџиѓЅиў«IstioеЏ‘ж‰¬е…‰е¤§пјЊдѕ‹е¦‚еЉЁжЂЃжњЌеЉЎеЏ‘зЋ°пјЊиґџиЅЅеќ‡иЎЎпјЊTLSеЉ еЇ†пјЊHTTP/2 & gRPCд»Јзђ†пјЊз†”ж–­е™ЁпјЊи·Їз”±и§„е€™пјЊж•…йљњжіЁе…Ґе’ЊйЃҐжµ‹з­‰гЂ‚

Istioж•°жЌ®йќўж”ЇжЊЃзљ„з‰№жЂ§е¦‚дё‹пјљ

| Outboundз‰№жЂ§ | Inboundз‰№жЂ§ |
|--------|--------|
| Service authenticationпј€жњЌеЉЎи®¤иЇЃпј‰|Service authenticationпј€жњЌеЉЎи®¤иЇЃпј‰|
|Load Balancingпј€иґџиЅЅеќ‡иЎЎпј‰        |Authorizationпј€й‰ґжќѓпј‰|
|Retry and circuit breakerпј€й‡ЌиЇ•е’Њж–­и·Їе™Ёпј‰|Rate limitsпј€иЇ·ж±‚й™ђжµЃпј‰|
|Fine-grained routingпј€з»†зІ’еє¦зљ„и·Їз”±пј‰|Load sheddingпј€иґџиЅЅжЋ§е€¶пј‰|
|Telemetryпј€йЃҐжµ‹пј‰|Telemetryпј€йЃҐжµ‹пј‰|
|Request Tracingпј€е€†еёѓејЏиїЅиёЄпј‰|Request Tracingпј€е€†еёѓејЏиїЅиёЄпј‰|
|Fault Injectionпј€ж•…йљњжіЁе…Ґпј‰|Fault Injectionпј€ж•…йљњжіЁе…Ґпј‰|

>е¤‡жіЁпјљOutboundз‰№жЂ§жЇжЊ‡жњЌеЉЎиЇ·ж±‚дѕ§зљ„SidecarжЏђдѕ›зљ„еЉџиѓЅз‰№жЂ§пјЊиЂЊInboundз‰№жЂ§жЇжЊ‡жњЌеЉЎжЏђдѕ›дѕ§SidecarжЏђдѕ›зљ„еЉџиѓЅз‰№жЂ§гЂ‚дёЂдє›з‰№жЂ§е¦‚йЃҐжµ‹е’Ње€†еёѓејЏи·џиёЄйњЂи¦Ѓдё¤дѕ§зљ„SidecarйѓЅжЏђдѕ›ж”ЇжЊЃпј›иЂЊеЏ¦дёЂдє›з‰№жЂ§е€™еЏЄйњЂи¦ЃењЁдёЂдѕ§жЏђдѕ›пјЊдѕ‹е¦‚й‰ґжќѓеЏЄйњЂи¦ЃењЁжњЌеЉЎжЏђдѕ›дѕ§жЏђдѕ›пјЊй‡ЌиЇ•еЏЄйњЂи¦ЃењЁиЇ·ж±‚дѕ§жЏђдѕ›гЂ‚

### е…ёећ‹еє”з”Ёењєж™Ї
IstioжњЌеЉЎз®ЎжЋ§еЊ…ж‹¬дё‹е€—зљ„е…ёећ‹еє”з”Ёењєж™Їпјљ

#### е€†еёѓејЏи°ѓз”ЁиїЅиёЄ
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­пјЊдёљеЉЎзљ„и°ѓз”Ёй“ѕйќћеёёе¤Ќжќ‚пјЊдёЂдёЄжќҐи‡Єз”Ёж€·зљ„иЇ·ж±‚еЏЇиѓЅж¶‰еЏЉе€°е‡ еЌЃдёЄжњЌеЉЎзљ„еЌЏеђЊе¤„зђ†гЂ‚е› ж­¤йњЂи¦ЃдёЂдёЄи·џиёЄзі»з»џжќҐи®°еЅ•е’Ње€†жћђеђЊдёЂж¬ЎиЇ·ж±‚ењЁж•ґдёЄи°ѓз”Ёй“ѕдёЉзљ„з›ёе…ідє‹д»¶пјЊд»ЋиЂЊеё®еЉ©з ”еЏ‘е’Њиїђз»ґдєєе‘е€†жћђзі»з»џз“¶йў€пјЊеї«йЂџе®љдЅЌеј‚еёёе’ЊдјеЊ–и°ѓз”Ёй“ѕи·ЇгЂ‚

IstioйЂљиї‡ењЁEnvoyд»Јзђ†дёЉж”¶й›†и°ѓз”Ёз›ёе…іж•°жЌ®пјЊе®ћзЋ°дє†еЇ№еє”з”Ёж— дѕµе…Ґзљ„е€†еёѓејЏи°ѓз”Ёи·џиёЄе€†жћђгЂ‚ Istioе®ћзЋ°е€†еёѓејЏи°ѓз”ЁиїЅиёЄзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/distributed-tracing.png)
Envoyж”¶й›†дёЂдёЄз«Їе€°з«Їи°ѓз”Ёдё­зљ„еђ„дёЄе€†ж®µзљ„ж•°жЌ®пјЊе№¶е°†иї™дє›и°ѓз”ЁиїЅиёЄдїЎжЃЇеЏ‘йЂЃз»™MixerпјЊMixer Adapter е°†иїЅиёЄдїЎжЃЇеЏ‘йЂЃз»™з›ёеє”зљ„жњЌеЉЎеђЋз«Їиї›иЎЊе¤„зђ†гЂ‚ж•ґдёЄи°ѓз”ЁиїЅиёЄдїЎжЃЇзљ„з”џж€ђжµЃзЁ‹дёЌйњЂи¦Ѓеє”з”ЁзЁ‹еєЏд»‹е…ҐпјЊе› ж­¤дёЌйњЂи¦Ѓе°†е€†еёѓејЏи·џиёЄз›ёе…ід»Јз ЃжіЁе…Ґе€°еє”з”ЁзЁ‹еєЏдё­гЂ‚

>жіЁж„Џпјљеє”з”Ёд»ЌйњЂи¦ЃењЁиї›иЎЊе‡єеЏЈи°ѓз”Ёж—¶е°†ж”¶е€°зљ„е…ҐеЏЈиЇ·ж±‚дё­tracingз›ёе…ізљ„headerиЅ¬еЏ‘е‡єеЋ»пјЊдј йЂ’з»™и°ѓз”Ёй“ѕдё­дё‹дёЂдёЄиѕ№иЅ¦иї›иЎЊе¤„зђ†гЂ‚

#### еє¦й‡Џж”¶й›†
Istio е®ћзЋ°еє¦й‡Џж”¶й›†зљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/metrics-collecting.png)

Envoyж”¶й›†жЊ‡ж ‡з›ёе…ізљ„еЋџе§‹ж•°жЌ®пјЊе¦‚иЇ·ж±‚зљ„жњЌеЉЎпјЊHTTPзЉ¶жЂЃз ЃпјЊи°ѓз”Ёж—¶е»¶з­‰пјЊиї™дє›ж”¶й›†е€°зљ„жЊ‡ж ‡ж•°жЌ®иў«йЂЃе€°MixerпјЊйЂљиї‡Mixer Adapters е°†жЊ‡ж ‡дїЎжЃЇиЅ¬жЌўеђЋеЏ‘йЂЃе€°еђЋз«Їзљ„з›‘жЋ§зі»з»џдё­гЂ‚з”±дєЋMixerдЅїз”Ёдє†жЏ’д»¶жњєе€¶пјЊеђЋз«Їз›‘жЋ§зі»з»џеЏЇд»Ґж №жЌ®йњЂи¦ЃењЁиїђиЎЊжњџиї›иЎЊеЉЁжЂЃе€‡жЌўгЂ‚

#### зЃ°еє¦еЏ‘еёѓ
еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚ж— и®єиї›иЎЊдє†е¤љд№€е®Ње–„зљ„жµ‹иЇ•пјЊйѓЅж— жі•дїќиЇЃзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚

еЏЇд»ҐйЂљиї‡зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏе®ћзЋ°дє†зЃ°еє¦еЏ‘еёѓгЂ‚ењЁеЏ‘еёѓж–°з‰€жњ¬еђЋпјЊиїђз»ґдєєе‘еЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚е…·жњ‰жЊ‡е®љз‰№еѕЃзљ„жµ‹иЇ•з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­д»Ґиї›иЎЊжµ‹иЇ•гЂ‚йЂљиї‡жёђиї›еЏ—жЋ§ењ°еђ‘ж–°з‰€жњ¬еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚

й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ

й¦–е…€пјЊйЂљиї‡йѓЁзЅІж–°з‰€жњ¬зљ„жњЌеЉЎпјЊе№¶е°†йЂљиї‡и·Їз”±и§„е€™е°†й‡‘дёќй›Ђз”Ёж€·зљ„жµЃй‡ЏеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎдё­
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-1.png)

жµ‹иЇ•зЁіе®љеђЋпјЊдЅїз”Ёи·Їз”±и§„е€™е°†з”џдє§жµЃй‡ЏйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬зі»з»џдё­пјЊе¦‚жЊ‰5%пјЊ10%пјЊ50%пјЊ80%йЂђжёђеЇје…ҐгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-2.png)

е¦‚жћњж–°з‰€жњ¬е·ҐдЅњж­ЈеёёпјЊе€™жњЂеђЋе°†ж‰Ђжњ‰жµЃй‡ЏеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊе№¶е°†иЂЃз‰€жњ¬жњЌеЉЎдё‹зєїпј›е¦‚дё­й—ґе‡єзЋ°й—®йўпјЊе€™еЏЇд»Ґе°†жµЃй‡Џй‡Ќж–°еЇје›ћиЂЃз‰€жњ¬пјЊењЁж–°з‰€жњ¬дё­дї®е¤Ќж•…йљњеђЋй‡‡з”ЁиЇҐжµЃзЁ‹й‡Ќж–°еЏ‘еёѓгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-3.png)

#### ж–­и·Їе™Ё
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­пјЊе­ењЁзќЂи®ёи®ёе¤ље¤љзљ„жњЌеЉЎеЌ•е…ѓпјЊи‹ҐдёЂдёЄжњЌеЉЎе‡єзЋ°ж•…йљњпјЊе°±дјље› дѕќиµ–е…ізі»еЅўж€ђж•…йљњи”“е»¶пјЊжњЂз»€еЇји‡ґж•ґдёЄзі»з»џзљ„з«з—ЄпјЊиї™ж ·зљ„жћ¶жћ„з›ёиѕѓдј з»џжћ¶жћ„е°±ж›ґеЉ зљ„дёЌзЁіе®љгЂ‚дёєдє†и§Је†іиї™ж ·зљ„й—®йўпјЊе› ж­¤дє§з”џдє†ж–­и·Їе™ЁжЁЎејЏгЂ‚

ж–­и·Їе™ЁжЁЎејЏжЊ‡пјЊењЁжџђдёЄжњЌеЉЎеЏ‘з”џж•…йљњж—¶пјЊж–­и·Їе™Ёзљ„ж•…йљњз›‘жЋ§еђ‘и°ѓз”Ёж”ѕиї”е›ћдёЂдёЄеЏЉж—¶зљ„й”™иЇЇе“Ќеє”пјЊиЂЊдёЌжЇй•їж—¶й—ґзљ„з­‰еѕ…гЂ‚иї™ж ·е°±дёЌдјљдЅїеѕ—и°ѓз”ЁзєїзЁ‹е› и°ѓз”Ёж•…йљњиў«й•їж—¶й—ґеЌ з”ЁпјЊд»ЋиЂЊйЃїе…Ќдє†ж•…йљњењЁж•ґдёЄзі»з»џдё­зљ„и”“е»¶гЂ‚

Istio е®ћзЋ°ж–­и·Їе™Ёзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/circuitbreaker.png)
з®Ўзђ†е‘йЂљиї‡destination policyи®ѕзЅ®ж–­и·Їи§¦еЏ‘жќЎд»¶пјЊж–­и·Їж—¶й—ґз­‰еЏ‚ж•°гЂ‚дѕ‹е¦‚и®ѕзЅ®жњЌеЉЎBеЏ‘з”џ10ж¬Ў5XXй”™иЇЇеђЋж–­и·Ї15е€†й’џгЂ‚е€™еЅ“жњЌеЉЎBзљ„жџђдёЂе®ћдѕ‹ж»Ўи¶іж–­и·ЇжќЎд»¶еђЋпјЊе°±дјљиў«д»ЋLBж± дё­з§»й™¤15е€†й’џгЂ‚ењЁиї™ж®µж—¶й—ґе†…пјЊEnvoyе°†дёЌе†ЌжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚иЅ¬еЏ‘е€°иЇҐжњЌеЉЎе®ћдѕ‹гЂ‚

Istioзљ„ж–­и·Їе™Ёиїж”ЇжЊЃй…ЌзЅ®жњЂе¤§й“ѕжЋҐж•°пјЊжњЂе¤§еѕ…е¤„зђ†иЇ·ж±‚ж•°пјЊжњЂе¤§иЇ·ж±‚ж•°пјЊжЇЏй“ѕжЋҐжњЂе¤§иЇ·ж±‚ж•°пјЊй‡ЌиЇ•ж¬Ўж•°з­‰еЏ‚ж•°гЂ‚еЅ“иѕѕе€°и®ѕзЅ®зљ„жњЂе¤§иЇ·ж±‚ж•°еђЋпјЊж–°еЏ‘иµ·зљ„иЇ·ж±‚дјљиў«Envoyз›ґжЋҐж‹’з»ќгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/circuitbreaker-parameters.png)

#### ж•…йљњжіЁе…Ґ
еЇ№дєЋдёЂдёЄе¤§ећ‹еѕ®жњЌеЉЎеє”з”ЁиЂЊиЁЂпјЊзі»з»џзљ„еЃҐеЈ®жЂ§йќћеёёй‡Ќи¦ЃгЂ‚ењЁеѕ®жњЌеЉЎзі»з»џдё­е­ењЁе¤§й‡Џзљ„жњЌеЉЎе®ћдѕ‹пјЊеЅ“йѓЁе€†жњЌеЉЎе®ћдѕ‹е‡єзЋ°й—®йўж—¶пјЊеѕ®жњЌеЉЎеє”з”ЁйњЂи¦Ѓе…·жњ‰иѕѓй«зљ„е®№й”™жЂ§пјЊйЂљиї‡й‡ЌиЇ•пјЊж–­и·ЇпјЊи‡Єж„€з­‰ж‰‹ж®µдїќиЇЃзі»з»џиѓЅе¤џз»§з»­еЇ№е¤–ж­ЈеёёжЏђдѕ›жњЌеЉЎгЂ‚е› ж­¤ењЁеє”з”ЁеЏ‘еёѓе€°з”џдє§зі»з»џејєйњЂи¦ЃеЇ№зі»з»џиї›иЎЊе……е€†зљ„еЃҐеЈ®жЂ§жµ‹иЇ•гЂ‚

еЇ№еѕ®жњЌеЉЎеє”з”Ёиї›иЎЊеЃҐеЈ®жЂ§жµ‹иЇ•зљ„дёЂдёЄжњЂе¤§зљ„е›°йљѕжЇе¦‚дЅ•еЇ№зі»з»џж•…йљњиї›иЎЊжЁЎж‹џгЂ‚ењЁдёЂдёЄйѓЁзЅІдє†ж€ђз™ѕдёЉеЌѓеѕ®жњЌеЉЎзљ„жµ‹иЇ•зЋЇеўѓдё­пјЊе¦‚жћњжѓійЂљиї‡еЇ№еє”з”ЁпјЊдё»жњєж€–иЂ…дє¤жЌўжњєиї›иЎЊи®ѕзЅ®жќҐжЁЎж‹џеѕ®жњЌеЉЎд№‹й—ґзљ„йЂљдїЎж•…йљњжЇйќћеёёе›°йљѕзљ„гЂ‚

IstioйЂљиї‡жњЌеЉЎзЅ‘ж јж‰їиЅЅдє†еѕ®жњЌеЉЎд№‹й—ґзљ„йЂљдїЎжµЃй‡ЏпјЊе› ж­¤еЏЇд»ҐењЁзЅ‘ж јдё­йЂљиї‡и§„е€™иї›иЎЊж•…йљњжіЁе…ҐпјЊжЁЎж‹џйѓЁе€†еѕ®жњЌеЉЎе‡єзЋ°ж•…йљњзљ„жѓ…е†µпјЊеЇ№ж•ґдёЄеє”з”Ёзљ„еЃҐеЈ®жЂ§иї›иЎЊжµ‹иЇ•гЂ‚

ж•…йљњжіЁе…Ґзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/fault-injection.png)
жµ‹иЇ•дєєе‘йЂљиї‡Pilotеђ‘EnvoyжіЁе…Ґдє†дёЂдёЄи§„е€™пјЊдёєеЏ‘еђ‘жњЌеЉЎMS-Bзљ„иЇ·ж±‚еЉ е…Ґдє†жЊ‡е®љж—¶й—ґзљ„е»¶иїџгЂ‚еЅ“е®ўж€·з«ЇиЇ·ж±‚еЏ‘еђ‘MSB-Bж—¶пјЊEnvoyдјљж №жЌ®иЇҐи§„е€™дёєиЇҐиЇ·ж±‚еЉ е…Ґж—¶е»¶пјЊеј•иµ·е®ўж€·зљ„иЇ·ж±‚и¶…ж—¶гЂ‚йЂљиї‡и®ѕзЅ®и§„е€™жіЁе…Ґж•…йљњзљ„ж–№ејЏпјЊжµ‹иЇ•дєєе‘еЏЇд»Ґеѕ€ж–№дѕїењ°жЁЎж‹џеѕ®жњЌеЉЎд№‹й—ґзљ„еђ„з§ЌйЂљдїЎж•…йљњпјЊеЇ№еѕ®жњЌеЉЎеє”з”Ёзљ„еЃҐеЈ®жЂ§иї›иЎЊиѕѓдёєе®Њж•ґзљ„жЁЎж‹џжµ‹иЇ•гЂ‚

## жЂ»з»“
жњЌеЉЎзЅ‘ж јдёєеѕ®жњЌеЉЎжЏђдѕ›дє†дёЂдёЄеЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋзљ„е®‰е…ЁгЂЃеЏЇйќ зљ„йЂљдїЎеџєзЎЂи®ѕж–Ѕе±‚гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеѕ®жњЌеЉЎеє”з”ЁејЂеЏ‘дєєе‘еЏЇд»Ґдё“жіЁдєЋи§Је†ідёљеЉЎйў†еџџй—®йўпјЊе°†дёЂдє›йЂљз”Ёй—®йўдє¤з»™жњЌеЉЎзЅ‘ж је¤„зђ†гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊйЃїе…Ќдє†д»Јз Ѓеє“её¦жќҐзљ„дѕќиµ–пјЊеЏЇд»Ґе……е€†еЏ‘жЊҐеѕ®жњЌеЉЎзљ„еј‚жћ„дјеЉїпјЊејЂеЏ‘е›ўйџеЏЇд»Ґж №жЌ®дёљеЉЎйњЂж±‚е’ЊејЂеЏ‘дєєе‘иѓЅеЉ›и‡Єз”±йЂ‰ж‹©жЉЂжњЇж €гЂ‚

Istioе…·жњ‰и‰ЇеҐЅзљ„жћ¶жћ„и®ѕи®ЎпјЊжЏђдѕ›дє†ејєе¤§зљ„дєЊж¬ЎејЂеЏ‘ж‰©е±•жЂ§е’Њз”Ёж€·е®ље€¶иѓЅеЉ›гЂ‚и™Ѕз„¶Istioз›®е‰Ќиїе¤„дєЋbetaй¶ж®µпјЊдЅ†е·Із»ЏиЋ·еѕ—дј—е¤љзџҐеђЌе…¬еЏёе’Њдє§е“Ѓзљ„ж”ЇжЊЃпјЊжЇдёЂдёЄйќћеёёе…·жњ‰е‰Ќж™Їзљ„ејЂжєђжњЌеЉЎзЅ‘ж јејЂжєђйЎ№з›®гЂ‚

## еЏ‚иЂѓ

* [Istio online documentation](https://istio.io/docs/)
* [Pattern: Service Mesh](http://philcalcado.com/2017/08/03/pattern_service_mesh.html)
* [Mixer and the SPOF Myth](https://istio.io/blog/2017/mixer-spof-myth.html)


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-04-11-service-mesh-vs-api-gateway.md

---
layout:     post
title:      "Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰"
subtitle:   ""
description: "API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚"
excerpt: "API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚"
date:       2018-04-11 09:32:00
author:     "иµµеЊ–е†°"
image: "/img/2018-04-11-service-mesh-vs-api-gateway/background.jpg"
publishDate: 2018-04-11 09:32:00
tags:
    - Microservice
    - Service Mesh
    - API Gateway
URL: "/2018/04/11/service-mesh-vs-api-gateway/"
categories: [ Tech ]
---

## Service Mesh vs API Gateway

ењЁ[е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« ](https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a)дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚

дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚

## API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ


дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚

API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚

ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚

API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚

API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚

## Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ

зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚

Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚

й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚

## API Gatewayе’ЊService Meshе®ћи·µ

API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚

дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚


е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ

![](/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png)

е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚

еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway->Service Mesh->Microservicesпј‰гЂ‚

ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚

## иЇ‘иЂ…жЊ‰

API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚

ж–‡з« дё­жЏђе€°вЂњеЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎвЂќгЂ‚ењЁе’ЊеђЊдє‹и®Ёи®єж—¶пјЊе¤§е®¶жЏђе€°дёЂдёЄжЇ”иѕѓй‡Ќи¦Ѓзљ„иЂѓи™‘е› зґ жЇењЁAPI Gatewayе¤„еј•е…ҐдёЂдёЄSidecarеЏЇиѓЅеё¦жќҐзљ„йўќе¤–е»¶иїџгЂ‚

API GatewayдЅњдёєеѕ®жњЌеЉЎеј•з”Ёзљ„жµЃй‡Џе…ҐеЏЈпјЊе…¶еЇ№ж•€зЋ‡и¦Ѓж±‚иѕѓй«пјЊе¦‚жћњйљЏAPI GatewayйѓЁзЅІдёЂдёЄSidecarпјЊеЏЇиѓЅеЇ№ж•€зЋ‡жњ‰дёЂе®љеЅ±е“ЌгЂ‚

ж€‘еЇ№ж­¤жњЄиї›иЎЊжµ‹иЇ•пјЊдЅ†д»Ћзђ†и®єдёЉжќҐиЇґпјЊжњЌеЉЎеЏ‘зЋ°пјЊй‡ЌиЇ•пјЊж–­и·Їз­‰йЂ»иѕ‘ж— и®єж”ѕе€°API GatewayиїжЇService Meshдё­иЂ—ж—¶еє”иЇҐжЇе·®дёЌе¤љзљ„пјЊйѓЁзЅІSidecarеЏЄжЇеўћеЉ дє†е€›е»єдёЂдёЄжњ¬ењ°й“ѕжЋҐзљ„ж¶€иЂ—пјЊе¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-04-11-service-mesh-vs-api-gateway/api-gateway-with-service-mesh.png)

е°†API Gatewayе’ЊService Meshзљ„еЉџиѓЅиї›иЎЊжё…ж™°е€’е€†пјЊAPI GatewayиґџиґЈеє”з”ЁйЂ»иѕ‘пјЊService MeshиґџиґЈжњЌеЉЎйЂљи®ЇпјЊMetricsж”¶й›†з­‰еѕ®жњЌеЉЎеџєзЎЂи®ѕж–ЅпјЊиї™ж ·е€’е€†еђЋењЁжћ¶жћ„дёЉж›ґдёєжё…ж™°гЂ‚еЇ№дєЋж•€зЋ‡й—®йўпјЊж€‘д»¬еЏЇд»ҐиЂѓи™‘еЇ№API Gatewayиї›иЎЊж°ґе№іж‰©е±•жќҐи§Је†ігЂ‚

## еЋџж–‡

жњ¬иЇ‘ж–‡еЏ‘иЎЁе·ІеѕЃеѕ—еЋџдЅњиЂ…еђЊж„ЏпјЊеЋџж–‡еЏ‚и§Ѓ [Service Mesh vs API Gateway](https://medium.com/microservices-in-practice/service-mesh-vs-api-gateway-a6d814b9bf56)



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-04-16-using-helm-to-deploy-to-kubernetes.md

---
layout:     post
title:      "Helmд»‹з»Ќ"
subtitle:   "ејєе¤§зљ„KubernetesеЊ…з®Ўзђ†е·Ґе…·"
description: "HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚"
excerpt: "HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚"
date:       2018-04-16 15:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-04-16-using-helm-to-deploy-to-kubernetes/buffalo.jpg"
publishDate: 2018-04-16 15:00:00
tags:
    - Kubernetes
    - Helm
categories: [ Tech ]
URL: "/2018/04/16/using-helm-to-deploy-to-kubernetes/"
---

## е‰ЌиЁЂ
- - -
HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚

## Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€
- - -
и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚

kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚

з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚

д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚

е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png)


еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ
* е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ
* е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ
* е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ

Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚

## HelmжЇд»Ђд№€пјџ
- - -
еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚

ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (https://deis.com/) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚

еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚

еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚

й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚

## Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­
- - -
ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚

е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚

* Helm   

  Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚
* Tiller 

  Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚
* Chart 

  Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚
* Repoistory 
  
  Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚
* Release 
  
  дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚

>  йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚
>  
>  е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚

дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚

е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png)

## е®‰иЈ…Helm
- - -
дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚

еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm

й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm

1. дё‹иЅЅ Helm https://github.com/kubernetes/helm/releases
1. и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz
1. ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm

з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller

```bash
Helm init
```

## жћ„е»єдёЂдёЄHelm chart
- - -

и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚

```
git clone https://github.com/zhaohuabing/testapi.git; 
cd testapi
```

й¦–е…€е€›е»єдёЂдёЄchartзљ„йЄЁжћ¶
```
helm create testapi-chart
```

иЇҐе‘Ѕд»¤е€›е»єдёЂдёЄtestapi-chartз›®еЅ•пјЊиЇҐз›®еЅ•з»“жћ„е¦‚дё‹ж‰Ђз¤єпјЊж€‘д»¬дё»и¦Ѓе…іжіЁз›®еЅ•дё­зљ„иї™дё‰дёЄж–‡д»¶еЌіеЏЇ: Chart.yamlпјЊvalues.yaml е’Њ NOTES.txtгЂ‚
```Bash
testapi-chart
в”њв”Ђв”Ђ charts
в”њв”Ђв”Ђ Chart.yaml
в”њв”Ђв”Ђ templates
в”‚В В  в”њв”Ђв”Ђ deployment.yaml
в”‚В В  в”њв”Ђв”Ђ _helpers.tpl
в”‚В В  в”њв”Ђв”Ђ NOTES.txt
в”‚В В  в””в”Ђв”Ђ service.yaml
в””в”Ђв”Ђ values.yaml
```

* Chart.yaml з”ЁдєЋжЏЏиї°иї™дёЄchartпјЊеЊ…ж‹¬еђЌе­—пјЊжЏЏиї°дїЎжЃЇд»ҐеЏЉз‰€жњ¬гЂ‚
* values.yaml з”ЁдєЋе­е‚Ёtemplatesз›®еЅ•дё­жЁЎжќїж–‡д»¶дё­з”Ёе€°зљ„еЏй‡ЏгЂ‚ жЁЎжќїж–‡д»¶дёЂи€¬жЇGoжЁЎжќїгЂ‚е¦‚жћњдЅ йњЂи¦Ѓдє†и§Јж›ґе¤ље…ідєЋGoжЁЎжќїзљ„з›ёе…ідїЎжЃЇпјЊеЏЇд»ҐжџҐзњ‹Hugo (https://gohugo.io) зљ„дёЂдёЄе…ідєЋGoжЁЎжќїзљ„д»‹з»Ќ (https://gohugo.io/templates/go-templates/)гЂ‚
* NOTES.txt з”ЁдєЋеђ‘йѓЁзЅІиЇҐchartзљ„з”ЁдєЋд»‹з»ЌchartйѓЁзЅІеђЋзљ„дёЂдє›дїЎжЃЇгЂ‚дѕ‹е¦‚д»‹з»Ќе¦‚дЅ•дЅїз”Ёиї™дёЄchartпјЊе€—е‡єзјєзњЃзљ„и®ѕзЅ®з­‰гЂ‚

ж‰“ејЂChart.yaml, еЎ«е†™дЅ йѓЁзЅІзљ„еє”з”Ёзљ„иЇ¦з»†дїЎжЃЇпјЊд»Ґtestapiдёєдѕ‹пјљ
```
apiVersion: v1
description: A simple api for testing and debugging
name: testapi-chart
version: 0.0.1
```
з„¶еђЋж‰“ејЂе№¶ж №жЌ®йњЂи¦Ѓзј–иѕ‘values.yamlгЂ‚дё‹йќўжЇtestapiеє”з”Ёзљ„values.yamlж–‡д»¶е†…е®№гЂ‚

```
replicaCount: 2
image:
  repository: daemonza/testapi
  tag: latest
  pullPolicy: IfNotPresent
service:
  name: testapi
  type: ClusterIP
  externalPort: 80
  internalPort: 80
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi
```

ењЁ testapi_chart з›®еЅ•дё‹иїђиЎЊдё‹йќўе‘Ѕд»¤д»ҐеЇ№chartиї›иЎЊж ЎйЄЊгЂ‚

```
helm lint
==> Linting .
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, no failures
```

е¦‚жћњж–‡д»¶ж јејЏй”™иЇЇпјЊеЏЇд»Ґж №жЌ®жЏђз¤єиї›иЎЊдї®ж”№пј›е¦‚жћњдёЂе€‡ж­ЈеёёпјЊеЏЇд»ҐдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤еЇ№chartиї›иЎЊж‰“еЊ…пјљ

```
helm package testapi-chart --debug
```

иї™й‡Њж·»еЉ дє† --debug еЏ‚ж•°жќҐжџҐзњ‹ж‰“еЊ…зљ„иѕ“е‡єпјЊиѕ“е‡єеє”иЇҐз±»дјјдєЋпјљ

```
Saved /Users/daemonza/testapi/testapi-chart/testapi-chart-0.0.1.tgz to current directory
Saved /Users/daemonza/testapi/testapi-chart/testapi-chart-0.0.1.tgz to /Users/daemonza/.helm/repository/local
```

chartиў«ж‰“еЊ…дёєдёЂдёЄеЋ‹зј©еЊ…testapi-chart-0.0.1.tgzпјЊиЇҐеЋ‹зј©еЊ…иў«ж”ѕе€°дє†еЅ“е‰Ќз›®еЅ•дё‹пјЊе№¶еђЊж—¶иў«дїќе­е€°дє†helmзљ„жњ¬ењ°зјєзњЃд»“еє“з›®еЅ•дё­гЂ‚

## Helm Repository
- - -
и™Ѕз„¶ж€‘д»¬е·Із»Џж‰“еЊ…дє†chartе№¶еЏ‘еёѓе€°дє†helmзљ„жњ¬ењ°з›®еЅ•дё­пјЊдЅ†йЂљиї‡Helm searchе‘Ѕд»¤жџҐж‰ѕпјЊе№¶дёЌиѓЅж‰ѕдёЌе€°е€љж‰Ќз”џж€ђзљ„chartеЊ…гЂ‚
```
helm search testapi
No results found
```

иї™жЇе› дёєrepositoryз›®еЅ•дё­зљ„chartиїжІЎжњ‰иў«Helmз®Ўзђ†гЂ‚ж€‘д»¬еЏЇд»ҐењЁжњ¬ењ°еђЇеЉЁдёЂдёЄRepository ServerпјЊе№¶е°†е…¶еЉ е…Ґе€°Helm repoе€—иЎЁдё­гЂ‚

йЂљиї‡helm repo listе‘Ѕд»¤еЏЇд»Ґзњ‹е€°з›®е‰Ќhelmдё­еЏЄй…ЌзЅ®дє†дёЂдёЄеђЌдёєstableзљ„repoпјЊиЇҐrepoжЊ‡еђ‘дє†googleзљ„дёЂдёЄжњЌеЉЎе™ЁгЂ‚
```Bash
helm repo list
NAME    URL
stable  https://kubernetes-charts.storage.googleapis.com
```

дЅїз”Ёhelm serveе‘Ѕд»¤еђЇеЉЁдёЂдёЄrepo serverпјЊиЇҐserverзјєзњЃдЅїз”Ё'$HELM_HOME/repository/local'з›®еЅ•дЅњдёєchartе­е‚ЁпјЊе№¶ењЁ8879з«ЇеЏЈдёЉжЏђдѕ›жњЌеЉЎгЂ‚

```Bash
helm serve&
Now serving you on 127.0.0.1:8879
```
еђЇеЉЁжњ¬ењ°repo serverеђЋпјЊе°†е…¶еЉ е…Ґhelmзљ„repoе€—иЎЁгЂ‚
```Bash
helm repo add local http://127.0.0.1:8879
"local" has been added to your repositories
```

зЋ°ењЁе†ЌжџҐж‰ѕtestapi chartеЊ…пјЊе°±еЏЇд»Ґж‰ѕе€°дє†гЂ‚

```Bash
helm search testapi

NAME                    CHART VERSION   APP VERSION     DESCRIPTION
local/testapi-chart     0.0.1                           A Helm chart for Kubernetes
```

## ењЁkubernetesдё­йѓЁзЅІChart
- - -
chartиў«еЏ‘еёѓе€°д»“е‚ЁеђЋпјЊеЏЇд»ҐйЂљиї‡Helm instalе‘Ѕд»¤йѓЁзЅІchartпјЊйѓЁзЅІж—¶жЊ‡е®љchartеђЌеЏЉReleaseпј€йѓЁзЅІзљ„е®ћдѕ‹пј‰еђЌпјљ
```
 helm install local/testapi-chart --name testapi
```
иЇҐе‘Ѕд»¤зљ„иѕ“е‡єеє”з±»дјј:

```
NAME:   testapi
LAST DEPLOYED: Mon Apr 16 10:21:44 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME                   TYPE       CLUSTER-IP    EXTERNAL-IP  PORT(S)  AGE
testapi-testapi-chart  ClusterIP  10.43.121.84  <none>       80/TCP   0s

==> v1beta1/Deployment
NAME                   DESIRED  CURRENT  UP-TO-DATE  AVAILABLE  AGE
testapi-testapi-chart  1        1        1           0          0s

==> v1/Pod(related)
NAME                                   READY  STATUS   RESTARTS  AGE
testapi-testapi-chart-9897d9f8c-nn6wd  0/1    Pending  0         0s


NOTES:
1. Get the application URL by running these commands:
  export POD_NAME=$(kubectl get pods --namespace default -l "app=testapi-testapi-chart" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl port-forward $POD_NAME 8080:80
```

дЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е€—е‡єж‰Ђжњ‰е·ІйѓЁзЅІзљ„Releaseд»ҐеЏЉе…¶еЇ№еє”зљ„ChartгЂ‚
```
helm ls
```

иЇҐе‘Ѕд»¤зљ„иѕ“е‡єеє”з±»дјј:
```
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 1               Mon Apr 16 10:21:44 2018        DEPLOYED        testapi-chart-0.0.1     default
```

еЏЇд»Ґзњ‹е€°ењЁиѕ“е‡єдё­жњ‰дёЂдёЄRevisionпј€ж›ґж”№еЋ†еЏІпј‰е­—ж®µпјЊиЇҐе­—ж®µз”ЁдєЋиЎЁз¤єжџђдёЂReleaseиў«ж›ґж–°зљ„ж¬Ўж•°пјЊеЏЇд»Ґз”ЁиЇҐз‰№жЂ§еЇ№е·ІйѓЁзЅІзљ„Releaseиї›иЎЊе›ћж»љгЂ‚

## еЌ‡зє§е’Ње›ћйЂЂ
- - -

дї®ж”№Chart.yamlпјЊе°†з‰€жњ¬еЏ·д»Ћ0.0.1 дї®ж”№дёє 1.0.0, з„¶еђЋдЅїз”ЁHelm packageе‘Ѕд»¤ж‰“еЊ…е№¶еЏ‘еёѓе€°жњ¬ењ°д»“еє“гЂ‚

жџҐзњ‹жњ¬ењ°еє“дё­зљ„ChartдїЎжЃЇпјЊеЏЇд»Ґзњ‹е€°ењЁжњ¬ењ°д»“еє“дё­testapi-chartжњ‰дё¤дёЄз‰€жњ¬

```Bash
helm search testapi -l
NAME                    CHART VERSION   APP VERSION     DESCRIPTION
local/testapi-chart     0.0.1                           A Helm chart for Kubernetes
local/testapi-chart     1.0.0                           A Helm chart for Kubernetes
```

зЋ°ењЁз”Ёhelm upgradeе°†е·ІйѓЁзЅІзљ„testapiеЌ‡зє§е€°ж–°з‰€жњ¬гЂ‚еЏЇд»ҐйЂљиї‡еЏ‚ж•°жЊ‡е®љйњЂи¦ЃеЌ‡зє§зљ„з‰€жњ¬еЏ·пјЊе¦‚жћњжІЎжњ‰жЊ‡е®љз‰€жњ¬еЏ·пјЊе€™зјєзњЃдЅїз”ЁжњЂж–°з‰€жњ¬гЂ‚

```
helm upgrade testapi local/testapi-chart 
```

е·ІйѓЁзЅІзљ„testapi releaseиў«еЌ‡зє§е€°1.0.0з‰€жњ¬

```Bash
helm list
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 2               Mon Apr 16 10:43:10 2018        DEPLOYED        testapi-chart-1.0.0     default
```

еЏЇд»ҐйЂљиї‡Helm historyжџҐзњ‹дёЂдёЄReleaseзљ„е¤љж¬Ўж›ґж”№гЂ‚

```Bash
helm history testapi
REVISION        UPDATED                         STATUS          CHART                   DESCRIPTION
1               Mon Apr 16 10:21:44 2018        SUPERSEDED      testapi-chart-0.0.1     Install complete
2               Mon Apr 16 10:43:10 2018        DEPLOYED        testapi-chart-1.0.0     Upgrade complete
```
е¦‚жћњж›ґж–°еђЋзљ„зЁ‹еєЏз”±дєЋжџђдє›еЋџе› иїђиЎЊжњ‰й—®йўпјЊж€‘д»¬е€™йњЂи¦Ѓе›ћйЂЂе€°ж—§з‰€жњ¬зљ„еє”з”ЁпјЊеЏЇд»Ґй‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤иї›иЎЊе›ћйЂЂгЂ‚е…¶дё­зљ„еЏ‚ж•°1жЇе‰ЌйќўHelm historyдё­жџҐзњ‹е€°зљ„Releaseзљ„ж›ґж”№еЋ†еЏІгЂ‚

```Bash
helm rollback testapi 1
```

дЅїз”ЁHelm listе‘Ѕд»¤жџҐзњ‹пјЊйѓЁзЅІзљ„testapiзљ„з‰€жњ¬е·Із»Џе›ћйЂЂе€°0.0.1
```Bash
helm list
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 3               Mon Apr 16 10:48:20 2018        DEPLOYED        testapi-chart-0.0.1     default
```
## жЂ»з»“
- - -

HelmдЅњдёєkubernetesеє”з”Ёзљ„еЊ…з®Ўзђ†д»ҐеЏЉйѓЁзЅІе·Ґе…·пјЊжЏђдѕ›дє†еє”з”Ёж‰“еЊ…пјЊеЏ‘еёѓпјЊз‰€жњ¬з®Ўзђ†д»ҐеЏЉйѓЁзЅІпјЊеЌ‡зє§пјЊе›ћйЂЂз­‰еЉџиѓЅгЂ‚Helmд»ҐChartиЅЇд»¶еЊ…зљ„еЅўејЏз®ЂеЊ–Kubernetesзљ„еє”з”Ёз®Ўзђ†пјЊжЏђй«дє†еЇ№з”Ёж€·зљ„еЏ‹еҐЅжЂ§гЂ‚

## Q&A
- - -

жЁе¤©ењЁDocker.ioжЉЂжњЇеѕ®дїЎзѕ¤й‡Њйќўиї›иЎЊдє†Helmзљ„е€†дє«пјЊдё‹йќўжЇе€†дє«иї‡зЁ‹дё­еѕ—е€°зљ„дёЂдє›жњ‰ж„ЏжЂќзљ„еЏЌй¦€пјЊиї›дёЂж­ҐеђЇеЏ‘дє†ж€‘и‡Єе·±зљ„дёЂдє›жЂќиЂѓгЂ‚

**Q**: Helmз»“еђ€CDжњ‰д»Ђд№€еҐЅзљ„е»єи®®еђ—пјџ<BR>
**A**: й‡‡з”ЁHelmеЏЇд»ҐжЉЉй›¶ж•Јзљ„Kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄchartз®Ўзђ†пјЊchartжєђз ЃеЏЇд»Ґе’Њжєђд»Јз ЃдёЂиµ·ж”ѕе€°gitеє“дё­з®Ўзђ†гЂ‚Helmиїз®Ђдє†ењЁCI/CD pipelineзљ„иЅЇд»¶йѓЁзЅІжµЃзЁ‹гЂ‚йЂљиї‡жЉЉchartеЏ‚ж•°еЊ–пјЊеЏЇд»ҐењЁжµ‹иЇ•зЋЇеўѓе’Њз”џдє§зЋЇеўѓеЏЇд»Ґй‡‡з”ЁдёЌеђЊзљ„chartеЏ‚ж•°й…ЌзЅ®гЂ‚

дё‹е›ѕжЇй‡‡з”Ёдє†Helmзљ„дёЂдёЄCI/CDжµЃзЁ‹
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/ci-cd-jenkins-helm-k8s.png)

**Q**: ж„џи°ўе€†дє«пјЊиЇ·й—®дё‹е¤љзЋЇеўѓ(test,stagingпјЊproduction)зљ„дёљеЉЎй…ЌзЅ®е¦‚дЅ•з®Ўзђ†е‘ўпјџйЂљиї‡hemlж‰“еЊ…configmapеђ—пјЊжЇ”е¦‚й…ЌзЅ®ж–‡д»¶ж›ґж–°пјЊд№џи¦Ѓй‡Ќж–°ж‰“chatsеЊ…еђ—пјџи°ўи°ўпјЊиї™еќ—ж€‘жЇ”иѕѓд№±<BR>
**A**пјљChartжЇж”ЇжЊЃеЏ‚ж•°ж›їжЌўзљ„пјЊеЏЇд»ҐжЉЉдёљеЉЎй…ЌзЅ®з›ёе…ізљ„еЏ‚ж•°и®ѕзЅ®дёєжЁЎжќїеЏй‡ЏгЂ‚дЅїз”ЁHelm install Chartзљ„ж—¶еЂ™еЏЇд»ҐжЊ‡е®љдёЂдёЄеЏ‚ж•°еЂјж–‡д»¶пјЊиї™ж ·е°±еЏЇд»ҐжЉЉдёљеЉЎеЏ‚ж•°д»ЋChartдё­е‰Ґз¦»дє†гЂ‚дѕ‹е­ђпјљ helm install --values=myvals.yaml wordpress

**Q**: helmиѓЅи§Је†іжњЌеЉЎдѕќиµ–еђ—пјџ<BR>
**A**пјљеЏЇд»Ґзљ„пјЊењЁchartеЏЇд»ҐйЂљиї‡requirements.yamlеЈ°жЋеЇ№е…¶д»–chartзљ„дѕќиµ–е…ізі»гЂ‚е¦‚дё‹йќўеЈ°жЋиЎЁжЋchartдѕќиµ–apacheе’Њmysqlиї™дё¤дёЄз¬¬дё‰ж–№chartгЂ‚
```yaml
dependencies:
  - name: apache
    version: 1.2.3
    repository: http://example.com/charts
  - name: mysql
    version: 3.2.1
    repository: http://another.example.com/charts
```

**Q**: chartзљ„reversion еЏЇд»Ґи‡Єе®љд№‰еђ—пјџжЇ”е¦‚и·џgitзљ„tag<BR>
**A**: иї™дЅЌжњ‹еЏ‹еє”иЇҐжЇжЉЉchartзљ„versionе’ЊReleaseзљ„reversionжђћж··дє†пјЊе‘µе‘µгЂ‚ ChartжЇжІЎжњ‰reversionзљ„пјЊChartйѓЁзЅІзљ„дёЂдёЄе®ћдѕ‹пј€Releaseпј‰ж‰Ќжњ‰ReversionпјЊReversionжЇReleaseиў«ж›ґж–°еђЋи‡ЄеЉЁз”џж€ђзљ„гЂ‚

**Q**: жІЎжњ‰зњ‹е€°helmжЊ‡еђ‘k8sзљ„й…ЌзЅ®пјЊжЂЋд№€зЎ®и®¤ењЁе“ЄдёЄK8sй›†зѕ¤иїђиЎЊзљ„пјџ<BR>
**A**: дЅїз”Ёе’Њkubectlз›ёеђЊзљ„й…ЌзЅ®пјЊењЁ  ~/.kube/config дё­гЂ‚

**Q**: иї™дёЄз®ЂеЌ•дѕ‹е­ђе№¶жІЎжњ‰зњ‹е‡є Helm з›ёжЇ” kubectl жњ‰е“Єдє›дјеЉїпјЊеЏЇд»Ґз®Ђи¦ЃиЇґдёЂдё‹еђ—пјџ<BR>
**A**пјљ Helmе°†kubernetesеє”з”ЁдЅњдёєдёЂдёЄиЅЇд»¶еЊ…ж•ґдЅ“з®Ўзђ†пјЊдѕ‹е¦‚дёЂдёЄеє”з”ЁеЏЇиѓЅжњ‰е‰Ќз«ЇжњЌеЉЎе™ЁпјЊеђЋз«ЇжњЌеЉЎе™ЁпјЊж•°жЌ®еє“пјЊиї™ж ·дјљж¶‰еЏЉе¤љдёЄKubernetes йѓЁзЅІй…ЌзЅ®ж–‡д»¶пјЊHelmе°±ж•ґдЅ“з®Ўзђ†дє†гЂ‚еЏ¦е¤–HelmиїжЏђдѕ›дє†иЅЇд»¶еЊ…з‰€жњ¬пјЊдёЂй”®е®‰иЈ…пјЊеЌ‡зє§пјЊе›ћйЂЂгЂ‚Kubectlе’ЊHelmе°±еҐЅжЇ”дЅ ж‰‹е·Ґдё‹иЅЅе®‰иЈ…дёЂдёЄеє”з”Ё е’Њ дЅїз”Ёapt-get е®‰иЈ…дёЂдёЄеє”з”Ёзљ„еЊєе€«гЂ‚

**Q**: е¦‚дЅ•ењЁhelm install ж—¶жЊ‡е®ље‘ЅеђЌз©єй—ґпјџ<BR>
**A**: helm install local/testapi-chart --name testapi --namespace mynamespace

## еЏ‚иЂѓ
- - -

* [Using Helm to deploy to Kubernetes](https://daemonza.github.io/2017/02/20/using-helm-to-deploy-to-kubernetes/)
* [Helm documentation](https://docs.helm.sh/helm/)
* [Helm - Application deployment management for Kubernetes](https://www.slideshare.net/alexLM/helm-application-deployment-management-for-kubernetes)



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-01-may-day-jiulonghu.md

---
layout:     post
title:      "е·ќиҐїз§еўѓжЋўй™©"
subtitle:   "2018дє”дёЂз”е Ўи—ЏеЇЁпјЊд№ќйѕ™ж№–и‡Єй©ѕжёёи®°"
date:       2018-05-01
author:     "иµµеЊ–е†°"
image: "/img/2018-05-01-may-day-jiulonghu/snowmountain.jpg"
publishDate: 2018-05-01
hide-in-home: true
tags:
    - Travel
categories: [ Life ]
URL: "/2018/05/01/may-day-jiulonghu"
---

## еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡

дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚
е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚

<!--more-->
ж”ѕеЃ‡з¬¬дёЂе¤©е’Њз¬¬дєЊе¤©дёЉеЌ€иЂЃе©†еЉ зЏ­пјЊж€‘ењЁе®¶й‡Њй™ЄеҐіе„їеЃљдЅњдёљпјЊжЏђе‰ЌжЉЉиЅ¦жІ№еЉ еҐЅпјЊе‡†е¤‡и·ЇдёЉзљ„иЎЈз‰©гЂ‚з¬¬дєЊе¤©дё­еЌ€иЂЃе©†дёЉе®ЊзЏ­пјЊж€‘иї«дёЌеЏЉеѕ…ејЂзќЂе°Џз‹®е­ђе°±еђ‘йѓЅж±¶й«йЂџе‡єеЏ‘дє†гЂ‚и™Ѕз„¶еЉ зЏ­иЂЅиЇЇдє†дёЂе¤©еЌЉпјЊдЅ†ж€‘д»¬иї™ж¬Ўд№џз®—й”™еі°е‡єиЎЊдє†пјЊдёЂи·ЇдёЉз•…йЂљж— й»пјЊеїѓжѓ…и‡Єз„¶д№џжЇ”иѕѓж„‰еї«гЂ‚ ејЂиЅ¦1дёЄе¤љз‚№е°Џж—¶е°±иµ¶е€°дє†ж±¶е·ќпјЊиї™ж—¶жњ‹еЏ‹дёЂе®¶е€љењЁж±¶е·ќеЋїеџЋеђѓе®ЊеЌ€йҐ­пјЊж€‘д»¬ењЁе‡єж±¶е·ќдёЌиїњпјЊжЎѓеќЄзѕЊеЇЁй™„иї‘иѓње€©дјљеё€дє†гЂ‚

дё¤дЅЌйў†еЇјдёЂиµ·еЌЏе•†дє†дёЂдё‹пјЊе†іе®ље…€ејЂиЅ¦еЋ»йЂљеЊ–д№Ўзљ„вЂњжµ®дє‘з‰§ењєвЂќзњ‹зњ‹гЂ‚вЂњжµ®дє‘з‰§ењєвЂќжЇжњЂиї‘зљ„дёЂдёЄзЅ‘зєўй…’еє—пјЊењЁйЂљеЊ–д№Ўе±±дёЉзљ„дёЂдёЄи—ЏеЇЁж—Ѓиѕ№гЂ‚жњ‰йЃ“жЇпјљвЂњжµ®дє‘з‰§ењєвЂќпјЊдёЌж”ѕз‰›зѕЉпјЊеЏЄз‰§жµ®дє‘е’Ње§‘еЁгЂ‚

вЂњжµ®дє‘з‰§ењєвЂќиµ°зљ„жЇзЅ‘зєўи·ЇзєїпјЊй©¬ињ‚зЄќпјЊеѕ®дїЎе…¬дј—еЏ·зљ„е®Јдј еЃљеѕ—еҐЅпјЊзџҐеђЌеє¦иѕѓй«пјЊж€їй—ґжЇ”иѕѓзґ§дїЏпјЊењЁдє”дёЂжњџй—ґж›ґжЇдёЂж€їйљѕж±‚пјЊиЂЊдё”д»·ж јд№џжЇ”иѕѓж„џдєєгЂ‚дё¤дЅЌйў†еЇјйѓЅжЊЃе®¶жњ‰ж–№пјЊжЊ‡з¤єж€‘д»¬дёЉеЋ»зњ‹зњ‹йЈЋж™ЇпјЊз„¶еђЋдё‹е±±е†Ќж‰ѕдЅЏе®їгЂ‚

иї‡дє†жЎѓеќЄзѕЊеЇЁе¤§ж¦‚е‡ е…¬й‡ЊпјЊ317е›ЅйЃ“еЏіиѕ№жњ‰дёЂдёЄжЇ”иѕѓжЋжѕзљ„жЊ‡и·Їз‰ЊпјЊеѕЂеЏідёЉе±±пјЊе°±жЇе€°жµ®дє‘з‰§ењєзљ„и·ЇгЂ‚ж€‘д»¬е…ґе†Іе†Іењ°ејЂиЅ¦дёЉдє†е±±пјЊж­¤ж—¶пјЊж€‘д»¬еїѓдё­еђ‘еѕЂзљ„жµ®дє‘з‰§ењєжЇиї™ж ·е­ђзљ„пј€еЏ–е›ѕи‡ЄзЅ‘з»њпј‰пјљ
![](/img/2018-05-01-may-day-jiulonghu/fuyunmuchang.jpeg)
дёЉе±±зљ„и·Їе†µиїеЏЇд»ҐпјЊдЅ†жЇ”иѕѓзЄ„пјЊе›ће¤ґејЇиѕѓе¤љпјЊйњЂи¦ЃжіЁж„ЏеЇ№ж–№жќҐиЅ¦гЂ‚ејЂдє†е°†иї‘1е°Џж—¶еђЋпјЊжќҐе€°дє†еЌЉе±±и…°пјЊеЇ№йќўжќҐдє†еҐЅе‡ иѕ†дё‹е±±зљ„иЅ¦гЂ‚з”±дєЋдё¤ж–№з›ёйЃ‡зљ„и·ЇйќўиѕѓзЄ„пјЊејЂе§‹е µиЅ¦дє†гЂ‚иї™ж—¶д№жњєеђ‘еЇ№ж–№ж‰“еђ¬дє†е±±дёЉзљ„жѓ…е†µпјЊеѕ—зџҐй…’еє—е°Ѓи·Їдє†пјЊеЏЄжњ‰йў„е®љдє†ж€їй—ґзљ„дєєж‰ЌиѓЅиї›е…Ґжµ®дє‘з‰§ењєгЂ‚

еѕ—зџҐиї™дёЄж¶€жЃЇпјЊж­¤ж—¶ж€‘д»¬зљ„е†…еїѓжЇеґ©жєѓзљ„пјЊе·Із»ЏејЂдє†дёЂе¤§еЌЉзљ„е±±и·ЇпјЊзЋ°ењЁеЌґеѕ—зџҐдёЌиѓЅиї›еЋ»гЂ‚жІЎжњ‰еЉћжі•пјЊе¤§е®¶е•†й‡ЏеђЋиїжЇе†іе®љдё‹е±±гЂ‚дёЌиї‡вЂњеЎћзїЃе¤±й©¬пјЊз„‰зџҐйќћз¦ЏвЂќпјЊиї™ж¬ЎжІЎиї›е…Ґжµ®дє‘з‰§ењєпјЊдёєз¬¬дєЊе¤©жЋўз§дёЂдёЄж–°ж™Їз‚№еџ‹дё‹дјЏз¬”пјЊзЋ°ењЁжљ‚ж—¶дёЌиЎЁгЂ‚дєЋжЇж€‘е’Њжњ‹еЏ‹и°ѓиЅ¬иЅ¦е¤ґпјЊж‚»ж‚»дё‹е±±пјЊиґҐж„ЏиЂЊе›ћгЂ‚


## е¤ње®їз”е Ўи—ЏеЇЁ
дё‹е±±еђЋпјЊе¤§е®¶е•†й‡Џж™љдёЉзљ„дЅЏе®їгЂ‚ж€‘и§‰еѕ—жЎѓеќЄзѕЊеЇЁйќ и·Їиѕ№пјЊзЋЇеўѓд№џдёЂи€¬пјЊжЏђи®®еЋ»йќ иї‘зђ†еЋїзљ„з”е Ўи—ЏеЇЁгЂ‚жњ‹еЏ‹е› дёєењЁжЎѓеќЄзѕЊеЇЁдЅЏиї‡дє†пјЊе› ж­¤д№џжѓіеЋ»еЏ¦е¤–зљ„ењ°ж–№иЇ•иЇ•гЂ‚дєЋжЇдёЂи·Їеђ‘зђ†еЋїж–№еђ‘иї›еЏ‘пјЊз”±дєЋй™ђйЂџиѕѓдЅЋпјЊиЅ¦иѕ†д№џејЂе§‹е¤љдє†иµ·жќҐпјЊж„џи§‰жІЎе¤љиїњзљ„и·ќз¦»пјЊејЂдє†жЋҐиї‘1е°Џж—¶пјЊ6з‚№е·¦еЏіжќҐе€°дє†з”е Ўи—ЏеЇЁгЂ‚

жњЂеђЋдёЂдёЄйќ е°ЏжІіиѕ№зљ„и—Џе®¶д№ђе…ҐдЅЏпјЊдёЂдёЄж ‡й—ґ240е…ѓпјЊеЊ…3дёЄдєєдёЂйЎїж™љйҐ­пјЊдёЂйЎїж—©йҐ­гЂ‚ж€‘е’Њжњ‹еЏ‹дё¤е®¶е€†е€«ењЁдєЊжҐје’Њдё‰жҐјзљ„дё¤й—ґж€їй—ґдЅЏдё‹гЂ‚иї™й‡Њеѕ—иЎЁж‰¬дёЂдё‹йў†еЇјпјЊжЇЏж¬Ўе‡єжќҐиЂЌйЂ‰ж‹©зљ„дЅЏе®їйѓЅжЊєеҐЅпјЊжЂ§д»·жЇ”й«пјЊдЅЏзќЂд№џи€’жњЌгЂ‚

иї™жЇдёЂдёЄжІіиѕ№зљ„е°Џй™ўпјЊжњ‰дё‰е±‚жҐјпјЊй™ўе­ђй‡Њйќўз§Ќж»Ўдє†еђ„з§Ќж¤Ќз‰©е’ЊиЉ±еЌ‰пјЊиЂЃжќїжЇдёЄеѕ€е’Њж°”зљ„дё­е№ґдєєпјЊжЉЉе°Џй™ўж”¶ж‹ѕеѕ—еѕ€и€’жњЌгЂ‚ж€їй—ґй‡ЊжЊєе®Ѕж•ћпјЊеєЉдёЉеҐ—зќЂй›Єз™Ѕзљ„еєЉеЌ•пјЊйќћеёёе№Іе‡Ђж•ґжґЃгЂ‚

й™ўе­ђй‡Њзљ„жґ‹ж§ђж ‘ж ‘е† дёЉејЂж»Ўдє†з™Ѕи‰Ізљ„е°ЏиЉ±пјЊй…ЌзќЂе«©з»їзљ„ж ‘еЏ¶е’Њж”Ђзјзљ„и”·и–‡пјЊж„џи§‰йќћеёёзљ„жё…ж–°е’Њжѓ¬ж„ЏгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale1.jpg)

иЂЃжќїзљ„дё‰е±‚е°ЏжҐјпјЊиї™й‡Њзљ„дї®ж€їзљ„жќђж–™дёЌжЇз –е¤ґпјЊиЂЊжЇе°±ењ°еЏ–жќђз”Ёе±±дёЉзљ„з‰‡зЉ¶еІ©зџідї®з ЊиЂЊж€ђзљ„пјЊеѕ€жњ‰з‰№и‰ІгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale3.jpg)

зЄ—ж€·ж—Ѓиѕ№жЊ‚зќЂй‡‘й»„и‰Ізљ„зЋ‰з±ігЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale.jpg)

й™ўе­ђй‡Њз§Ќзљ„зЋ«з‘°иЉ±гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/rose.jpg)

ж€‘д»¬е’ЊиЂЃжќїй—ІиЃЉпјЊжЏђе€°д»Ље¤©жІЎеѕ—иї›е€°жµ®дє‘з‰§ењєпјЊиЂЃжќїз¬‘йЃ“пјљиї™жµ®дє‘з‰§ењєзљ„ж™Їи‰Іж€‘д»¬иї™й‡Ње€°е¤„йѓЅжњ‰пјЊеЏЄжЇжµ®дє‘з‰§ењєжњ‰иЂЃжќїжЉ•иµ„пјЊе®Јдј еЃљеѕ—еҐЅзЅўдє†гЂ‚иї™еђЋйќўе±±дёЉе°±жњ‰иЌ‰ењєпјЊиїжњ‰дёЂдёЄд№ќйѕ™ж№–пјЊе°±жЊєеҐЅиЂЌгЂ‚ж€‘д»¬еђ¬дє†пјЊиµ¶зґ§еђ‘иЂЃжќїд»”з»†ж‰“еђ¬зєїи·Їе’Њи·Їе†µпјЊи·ѓи·ѓж¬ІиЇ•пјЊж‰“з®—жЋе¤©еЋ»жЋўеЇ»иї™дёЄе°љжњЄејЂеЏ‘зљ„й‡Ћж™Їз‚№гЂ‚

дёЌдёЂдјље„їпјЊйє»е€©зљ„иЂЃжќїе’ЊиЂЃжќїеЁе°±жЉЉж™љй¤ђе‡†е¤‡еҐЅдє†гЂ‚ж€‘д»¬е’Ње…¶д»–е®ўдєєдёЂиµ·е›ґжЎЊеђѓж™љйҐ­гЂ‚ж™љй¤ђе‘ійЃ“дёЌй”™пјЊеҐЅдє›жЇеџЋй‡Ње№іж—¶еђѓдёЌе€°зљ„дёњиҐїгЂ‚дѕ‹е¦‚жњ‰иЂЃи…Љи‚‰пјЊж ёжЎѓиЉ±пјЊе’ЊдёЂдє›дёЌзџҐеђЌзљ„й‡ЋиЏњпјЊйќћеёёз€ЅеЏЈејЂиѓѓгЂ‚ж€‘её¦дє†дёЂз“¶зєўй…’пјЊе’Њжњ‹еЏ‹д»¬дёЂиµ·е°±зќЂиї™е±±й‡ЋзѕЋе‘іпјЊеҐЅдёЌз•…еї«гЂ‚

ж™љдёЉе°Џжњ‹еЏ‹й—№зќЂи¦ЃзЋ©жёёж€ЏпјЊдєЋжЇе…€дёЂиµ·зЋ©дє†дёЂдјље„їжёёж€ЏпјЊжґ—жј±д№‹еђЋпјЊдѕїеЂ’ењЁеєЉдёЉй…Јз„¶е…Ґжў¦гЂ‚жЇе¤њпјЊеЌЉжў¦еЌЉй†’д№‹й—ґпјЊзЄ—е¤–жЅєжЅєзљ„жІіж°ґеЈ°пјЊй™ўе­ђй‡Њж·Ўж·Ўзљ„ж§ђиЉ±й¦™д»їдЅ›д№џжЅње…Ґжў¦жќҐгЂ‚


## з”е Ўи—ЏеЇЁйЈЋжѓ…
жЁж™љи™Ѕз„¶зќЎеѕ—дёЌжЇеѕ€з†џпјЊдЅ†и—Џе®¶й™ўе­ђй‡Њз©єж°”жё…ж–°пјЊзІѕзҐћжЃўе¤Ќеѕ—еѕ€еї«пјЊж€‘жІЎе€°дёѓз‚№е°±й†’дє†гЂ‚иµ·еєЉе’Ње¤§е®¶дёЂиµ·еђѓдє†ж—©йҐ­пјЊж—©йҐ­жЇзѓ¤й¦ЌпјЊйёЎи›‹пјЊе’ёиЏње’ЊзЁЂйҐ­гЂ‚еђѓе®ЊйҐ­еђЋпјЊй™Єе­©е­ђд»¬еЋ»еЇЁе­ђй‡ЊйЂ›дє†дёЂдё‹гЂ‚еЇЁе­ђдёЌе¤§пјЊеЌЉдёЄе°Џж—¶е°±иѓЅиµ°е®ЊпјЊиЎ—дёЉж‘†зќЂдёЂдє›е°Џж‘ЉпјЊе”®еЌ–дёЂдє›ж°‘ж—Џз‰№и‰Ізљ„е°ЏйҐ°е“ЃгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village2.jpg)

дё¤дёЄе°Џжњ‹еЏ‹ењЁе°Џж‘ЉдёЉж‰ѕи‡Єе·±е–њж¬ўзљ„е°ЏйҐ°е“ЃпјЊж‘Љдё»жЇдёЂдёЄеЌЃе…«д№ќеІЃзљ„е°Џе§‘еЁпјЊеҐ№е№іж—¶ењЁж€ђйѓЅиЇ»д№¦пјЊж”ѕеЃ‡е›ћжќҐж‘†дёЄе°Џж‘Ље‹¤е·Ґдї­е­¦гЂ‚жњЂеђЋз…§йЎѕеҐ№з”џж„ЏпјЊз»™жЇЏдёЄе°Џжњ‹еЏ‹д№°дє†дёЂдёЄеЌЃе¤љеќ—й’±зљ„е°ЏзЋ©ж„ЏгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village3.jpg)

еЇЁе­ђеў™дёЉзљ„зџіжќїз”»пјЊз”»зљ„жЇи—Џж—Џдј иЇґдё­зљ„и‹±й›„дєєз‰©ж јиђЁе°”зЋ‹гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/geshaerwang.jpg)
## жЋўз§д№ќйѕ™ж№–
ж€‘йЂ›е®ЊеЇЁе­ђпјЊе…¶дЅ™дєєд№џж”¶ж‹ѕе¦ҐеЅ“дє†гЂ‚еђ‘иЂЃжќїе‘ЉиѕћеђЋпјЊж€‘д»¬е‡†е¤‡еђ‘д№ќйѕ™ж№–иї›еЏ‘гЂ‚з»†еїѓзљ„иЂЃжќїжЂ•ж€‘д»¬ж‰ѕдёЌе€°ењ°ж–№пјЊз‰№ж„Џз»™ж€‘д»¬з”»дє†дёЂеј ењ°е›ѕгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/map.jpg)

ејЂиЅ¦йЎєзќЂжІіиѕ№дёЂи·ЇдёЉе±±пјЊеѕ€еї«е°±дёЉдє†з›е±±е…¬и·ЇгЂ‚и·ЇйќўжЇж°ґжіҐзљ„пјЊжњ‰жЉ¤ж ЏпјЊеЏЄжЇи·ЇжЇ”иѕѓзЄ„пјЊеѕ€еЇ№ењ°ж–№еЏЄиѓЅе®№дёЂиЅ¦йЂљиї‡гЂ‚е·ќиҐїе±±еЊєзљ„и·Їеџєжњ¬йѓЅжЇиї™ж ·д№‹е­—еЅўзљ„пјЊе›ће¤ґејЇеѕ€е¤љпјЊиї™з§Ќе›ће¤ґејЇдёЂи€¬жњ‰30е€°40еє¦зљ„еќЎеє¦гЂ‚ж€‘е®¶зљ„е°Џз‹®е­ђжЇ1.6зљ„пјЊе¦‚жћњйЂџеє¦ејЂж…ўз‚№зљ„иЇќпјЊиї‡ејЇж—¶еѕ—з”ЁдёЂжЎЈгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/road1.jpg)

е±±и·Їдё¤иѕ№зљ„йЈЋж™Їеѕ€зѕЋпјЊдЅЋжµ·ж‹”ењ°еЊєжњ‰еѕ€е¤љжЁ±жЎѓж ‘пјЊж ёжЎѓж ‘д»ҐеЏЉејЂж»Ўдє†иЉ±зљ„жґ‹ж§ђж ‘гЂ‚жґ‹ж§ђиЉ±ињњиї‡дёЂж®µж—¶й—ґе°±дјљдёЉеё‚дє†пјЊеѕ€й¦™зљ„гЂ‚ж€‘д»¬ж‘дє†дёЂдє›иЉ±её¦е›ће®¶пјЊжќЁж§ђиЉ±з„Їж°ґеђЋеЏЇд»Ґз‚’и›‹пјЊд№џеЏЇд»Ґе’ЊењЁйќўй‡ЊйќўеђѓгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/yanghuaihua.jpg)

ж ‘дёЉз»“ж»Ўдє†жЁ±жЎѓпјЊе€«зњ‹жЁ±жЎѓж ‘дёЌй«пјЊдёЂжЈµж ‘еЏЇд»Ґдє§дё¤з™ѕж–¤жЁ±жЎѓгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/cherry.jpg)

е†ЌеѕЂдёЉејЂпјЊе€°дє†жµ·ж‹”й«дёЂз‚№зљ„ењ°ж–№пјЊд№”жњЁе°±жЇ”иѕѓе°‘дє†пјЊи·Їдё¤иѕ№е¤љжЇдЅЋзџ®зљ„з»їи‰ІзЃЊжњЁпјЊд»ҐеЏЉдёЌзџҐеђЌзљ„е°ЏиЉ±гЂ‚дє”жњ€й—ґзљ„ж¤Ќз‰©йѓЅжЇе«©з»їе«©з»їзљ„пјЊз…ћжЇеҐЅзњ‹гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/flower.jpg)
![](/img/2018-05-01-may-day-jiulonghu/flower1.jpg)

зњ‹е€°е‡ е¤ґз‰›ењЁи·Їиѕ№еђѓиЌ‰пјЊзњ‹иї™ж·Ўе®љзљ„зњјзҐћпјЃе±±и·Їиѕ№иїж—¶дёЌж—¶е†’е‡єдёЂзѕ¤е°Џй»‘зЊЄпјЊз›®жµ‹е°±жЇдёЂеЏЄе°±еЌЃе¤љж–¤й‡ЌпјЊжѓіз»™е®ѓд»¬ж‹Ќеј з…§з‰‡пјЊйЈћеї«ењ°й’»иї›зЃЊжњЁдё›й‡Њйќўдє†пјЊеЏЄеҐЅдЅњзЅўгЂ‚е·ќиҐїе±±й‡Ње’ЊиЌ‰еЋџдёЉиї™з§ЌзЊЄйѓЅжЇиї™ж ·еѓЏз‰›зѕЉдёЂж ·ж”ѕе…»зљ„гЂ‚ж€‘д»¬жµЃзќЂеЏЈж°ґиЇґиї™дёЄжЇиµ„ж јзљ„и·‘е±±зЊЄпјЊе‘ійЃ“и‚Їе®ље·ґйЂ‚пјЃ
![](/img/2018-05-01-may-day-jiulonghu/cattle.jpg)

еЌЉе±±дёЉзљ„е‡ ж€·и—Џе®¶гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village1.jpg)

ејЂе€°жњЂй«зљ„дёЂдёЄеЇЁе­ђеђЋпјЊеђЋйќўзљ„и·Їе°±жЇењџи·Їдє†гЂ‚еђ‘еЇЁе­ђй‡ЊдёЂдёЄе¤§е§ђж‰“еђ¬дє†дёЂдё‹пјЊе¤§е§ђдїЎиЄ“ж—¦ж—¦ењ°иЇґиї™дё¤е¤©жІЎдё‹е¤§й›ЁпјЊиЅїиЅ¦ејЂдёЉеЋ»жІЎй—®йўпјЊдєЋжЇж€‘д»¬е°±з»§з»­еѕЂдёЉејЂдє†гЂ‚

дёЉењџи·ЇеђЋдёЌд№…пјЊйЃ‡е€°дёЂдёЄжђ­иЅ¦зљ„иЂЃз€·е­ђпјЊд»–и¦ЃеЋ»е±±йЎ¶зљ„еЇєеє™зѓ§й¦™гЂ‚ж€‘д»¬зљ„иїђж°”д№џжЊєеҐЅпјЊи¦ЃдёЌжЇиЂЃдєєе®¶й™Єж€‘д»¬дёЂиµ·пјЊеђЋйќўж€‘д»¬дёЌдёЂе®љж‰ѕеѕ—е€°ењ°ж–№гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/oldman.jpg)

ејЂдє†дёЂж®µењџи·ЇеђЋпјЊеЏ‘зЋ°и·ЇжЇ”иѕѓзЄ„пјЊи·Їиѕ№е°±жЇж‚¬еґ–пјЊиЂЊдё”жІЎжњ‰жЉ¤ж ЏгЂ‚иЂЃе©†еЁѓе„їйѓЅиЇґиїжЇеЃњдё‹жќҐиµ°и·ЇдёЉеЋ»з®—дє†гЂ‚дєЋжЇе’Њжњ‹еЏ‹ж‰ѕдє†дёЂдёЄи·ЇеЏЈжЉЉиЅ¦еЃње€°и·Їиѕ№пјЊејЂе§‹иµ°и·ЇдёЉе±±гЂ‚жњ‹еЏ‹еЃњиЅ¦еђЋиЇґпјЊењЁе‰Ќйќўе‡ дёЄиЅ¬ејЇзљ„ењ°ж–№пјЊејЂиЅ¦ж—¶и„љи¶ѕж‹‡йѓЅжЉ“зґ§дє†гЂ‚

жњЂеђЋдёЂж®µе°±жЇиї™з§Ќи·ЇпјЊењ°йќўзЎ¬еЊ–зЁ‹еє¦дёЌй”™пјЊжІЎжњ‰дё‹й›Ёзљ„жѓ…е†µдё‹пјЊиѓ†е­ђе¤§з‚№зљ„иЂЃеё€е‚…еЏЇд»ҐејЂдёЉе±±гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/road.jpg)

иЂЃз€·е­ђиЇґиї™дёЄи·ЇејЂиЅ¦е®Ње…ЁжІЎеѕ—й—®йўе›пјЊд»–зњ‹е€°е€«дєєйѓЅејЂиЅ¦дёЉеЋ»зљ„гЂ‚ж€‘д»¬жЇдёЌж•ўз»§з»­еѕЂе‰ЌејЂдє†пјЊд»–д№џеЏЄеҐЅдё‹иЅ¦е’Њж€‘д»¬дёЂиµ·иµ°гЂ‚ж€‘дёЂиѕ№иµ°дёЂиѕ№е’ЊиЂЃдєєе®¶иЃЉе¤©пјЊеѕ—зџҐд»–е·Із»Џй«еЇї76дє†пјЊе®Ње…Ёзњ‹дёЌе‡єжќҐпјЊи…°жќїзЎ¬жњ—пјЊз‰™йЅїеЃҐе…ЁпјЊиµ°и·ЇжЇ”ж€‘д»¬е№ґиЅ»дєєиїеї«гЂ‚иЂЃдєєе®¶и‡Єи±Єењ°иЇґд»–еЇЁе­ђйіе…‰еҐЅпјЊењ°и‚ҐжІѓпјЊз§Ќд»Ђд№€зІ®йЈџдє§й‡ЏйѓЅй«гЂ‚

иЂЃдєєе®¶ж‰ЂењЁзљ„еЇЁе­ђпјЊењ°й‡Њйќўе·Із»Џз§ЌдёЉдє†зЋ‰з±ігЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village.jpg)

ж€‘з»§з»­е’ЊиЂЃз€·е­ђиѕ№иµ°иѕ№иЃЉпјЊиЂЃз€·е­ђе‘ЉиЇ‰ж€‘пјЊиµ°е±±и·Їи¦ЃдёЌзґ§дёЌж…ўпјЊеї«дє†е®№ж“е‘јеђёдёЌз•…пјЊеј•иµ·й«еЋџеЏЌеє”гЂ‚иїз»™ж€‘д»‹з»Ќи·Їиѕ№зљ„еђ„з§Ќж¤Ќз‰©пјЊе“Єз§ЌеЏЇд»ҐйЈџз”ЁгЂ‚д»ЋиЃЉе¤©дё­еѕ—зџҐпјЊе¤§з€·е§“дЅ•пјЊзҐ–дёЉжЇд»Ћй™•иҐїиїЃз§»е€°иї™й‡Њзљ„пјЊе€°д»–иї™й‡Ње·Із»ЏжЇз¬¬д№ќд»Јдє†гЂ‚е®¶й‡Њжњ‰е››дёЄеҐіе„їпјЊйѓЅењЁзђ†еЋїеЃљз”џж„Џж€–иЂ…ж‰“е·ҐпјЊеЇЁе­ђзљ„е®¶й‡Ње°±д»–е’ЊиЂЃдјґгЂ‚д»–иЇґд»–е–њж¬ўдЅЏењЁе±±й‡ЊпјЊдёЂе№ґд№џе‡єдёЌдє†е‡ ж¬Ўе±±гЂ‚
зњ‹еѕ—е‡єиЂЃз€·е­ђеѕ€й«е…ґжњ‰дєєиѓЅй™Єд»–иЇґиЇґиЇќпјЊдЅЏењЁе±±й‡Њи™Ѕз„¶з©єж°”еҐЅпјЊдЅ†е­ђеҐідёЌењЁиє«иѕ№пјЊиЂЃдєєе№іж—¶дј°и®Ўд№џжЇ”иѕѓеЇ‚еЇћгЂ‚

иЂЃз€·е­ђиЇґиї™з§Ќй‡ЋиЏњз…®ж±¤е–ќеѕ€й¦™гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/yecai.jpg)

иЅ¬иї‡дёЂдёЄејЇпјЊеђ¬и§Ѓи·Їиѕ№зљ„зЃЊжњЁдё›дё­вЂње™—е™—вЂќзљ„еЈ°йџіпјЊйЈће‡єдёЂеЏЄй•їе°ѕе·ґзљ„е¤§йёџжќҐпјЊиЂЃз€·е­ђиЇґй‚ЈжЇй‡ЋйёЎгЂ‚е¤Єеї«дє†жІЎиѓЅж‹Ќе€°з…§з‰‡гЂ‚

е°±иї™д№€ж…ўж…ўењ°иµ°дє†е°†иї‘1е°Џж—¶пјЊжќҐе€°дє†е±±йЎ¶дёЉгЂ‚

д»¤дєєжѓЉеҐ‡зљ„жЇпјЊи™Ѕз„¶дёЉе±±зљ„и·Їеѕ€й™ЎпјЊдЅ†е±±йЎ¶дёЉеЌґйќћеёёејЂй”пјЊжњ‰дёЂе¤§з‰‡иЌ‰еќќе­ђгЂ‚д»Ће±±йЎ¶дёЉеЏЇд»Ґйљђзє¦зњ‹е€°еЇ№йќўе·ЌеіЁзљ„й›Єе±±пјЊд»Ље¤©е¤©ж°”дёЌжЇеѕ€еҐЅпјЊиѓЅи§Ѓеє¦дёЌй«пјЊе¦‚жћњжЇењЁж™ґе¤©зљ„иЇќпјЊи‚Їе®љйќћеёёеЈ®и§‚гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/snowmountain.jpg)

е±±йЎ¶жђ­е»єдє†дёЂдёЄеЏ°е­ђе’ЊдёЂдёЄиЌ‰ж€їгЂ‚е¤§з€·иЇґиї™жЇдёѕиЎЊиЉ‚ж—Ґзљ„ж—¶еЂ™зљ„дёґж—¶еЋЁж€їгЂ‚жЇЏе№ґжњ‰дё‰дёЄж—¶й—ґе±±йЎ¶зљ„иЌ‰еќќдёЉдјљдёѕиЎЊй”…еє„и€ћдјљгЂ‚иї™дёЄжњЁжќїдёЉж ‡жіЁдє†е±±йЎ¶дёЉжњ›иї‡еЋ»зљ„е‡ еє§й›Єе±±пјЊеЏЇд»Ґзњ‹е€°жњЂй«зљ„е¤§й»„еі°жњ‰е°†иї‘6000з±ій«гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/snowmountain1.jpg)

е±±йЎ¶иїжњ‰дёЂдёЄе°Џз§‹еЌѓпјЊдё¤дёЄе°Џе­©ењЁдёЉйќўзЋ©еѕ—дёЌдє¦д№ђд№ЋгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/swing.jpg)

ж€‘еЇ№жЇ”дє†зЅ‘дёЉжµ®дє‘з‰§ењєзљ„е›ѕз‰‡пјЊж„џи§‰иї™дёЄе±±йЎ¶зљ„й›Єе±±жЇ”жµ®дє‘з‰§ењєж›ґй›„дјџгЂ‚иї™еє§е±±зљ„йЈЋж™Їд№џж›ґеҐЅпјЊж ‘жњЁпјЊзЃЊжњЁпјЊиЌ‰ењ°е±‚ж¬Ўе€†жЋпј›иЂЊжµ®дє‘з‰§ењєдёЉе±±зљ„и·ЇдёЉеѕ€е¤љењ°ж–№жЇе…‰з§ѓз§ѓзљ„гЂ‚

е€°е±±йЎ¶еђЋпјЊе†ЌеѕЂе‰Ќиµ°е¤§зє¦500з±іпјЊзї»иї‡дёЂдёЄе°Џе±±еќЎе°±е€°дє†д№ќйѕ™ж№–пјЊдЅ†жЇж№–дё­й•їж»Ўдє†иЌ‰пјЊжІЎжњ‰ж°ґгЂ‚е¤§з€·иЇґзЋ°ењЁж°ґдёЌе¤љпјЊд№ќйѕ™ж№–дёЂе…±жњ‰д№ќдёЄжµ·е­ђпјЊе‰Ќйќўзљ„жµ·е­ђиїжЇ”иѕѓиїњгЂ‚ж­¤ж—¶е¤©з©єйЈиµ·дє†е°Џй›ЁпјЊз”±дєЋж‹…еїѓдё‹й›ЁеђЋдё‹е±±зљ„и·Їж№їж»‘дёЌе®‰е…ЁпјЊж€‘д»¬е’Ње¤§з€·е°±ж­¤е‘Ље€«пјЊејЂе§‹дё‹е±±дє†гЂ‚з¦»е€«ж—¶пјЊе¤§з€·зѓ­жѓ…ењ°з»™ж€‘иЇґд»–е®¶ењЁеЇЁе­ђй‡Њйќўзљ„дЅЌзЅ®пјЊи®©ж€‘д»¬дё‹ж¬Ўиї‡жќҐиЂЌж—¶е†ЌжќҐж‰ѕд»–гЂ‚е¤§з€·й’»иї›зЃЊжњЁпјЊеѕ€еї«е°±дёЌи§Ѓдє†пјЊзњ‹зќЂд»–ж¶€е¤±зљ„иѓЊеЅ±пјЊж€‘еїѓжѓіпјЊдё‹ж¬Ўе€°иї™иѕ№жќҐиЂЌж—¶пјЊеёЊжњ›иїиѓЅйЃ‡е€°иї™дёЄејЂжњ—д№ђи§‚зљ„дЅ•е¤§з€·гЂ‚

дё‹е±±зљ„и·ЇжЇ”дёЉе±±и¦ЃиЅ»жќѕе¤љдє†пјЊе¤§е®¶жњ‰иЇґжњ‰з¬‘пјЊеѕ€еї«е°±иµ°е€°дє†еЃњиЅ¦зљ„ењ°ж–№пјЊдёЂи·ЇејЂдё‹е±±гЂ‚з„¶еђЋиµ°317,йѓЅж±¶пјЊж€ђзЃЊе›ћдє†ж€ђйѓЅгЂ‚и·ЇдёЉжњ‰дёЂз‚№е°Џе µпјЊдЅ†дёЂе€‡йѓЅеѕ€йЎєе€©пјЊе›ће€°ж€ђйѓЅж—¶д№џж‰Ќ6з‚№е·¦еЏігЂ‚


> иЇ·жіЁж„Џпјље·ќиҐїењ°еЊєе±±и·Їи·Їе†µе¤Ќжќ‚пјЊиЇ·е‹їж №жЌ®еЌље®ўе†…е®№и‡ЄиЎЊе‰ЌеѕЂпјЊеђ¦е€™дёЂе€‡еђЋжћњи‡ЄиґџгЂ‚





==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-21-algolia-integration-with-jekyll.md

---
layout:     post
title:      "дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў"
subtitle:   ""
date:       2018-05-21 11:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-05-06-cryptocurrency_week1/bitcoin_header.jpg"
publishDate: 2018-05-21 11:00:00
tags:
    - Jekyll:q 
    - Bitcoin
categories: [ Tech ]
URL: "/2018/05/21/algolia-integration-with-jekyll"

---

> This series of articles are my notes of "Bitcoin and Cryptocurrency Technologies" online course.

## Table of Content 
{:.no_toc}

* Table of Content
{:toc}

## Scrooge Coin Transaction
Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn't explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:
![Scrooge Coin](/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png)

<!--more-->
Every transaction has a set of inputs and a set of outputs. An input in a transaction must use a hash pointer to refer to its corresponding output in the previous transaction, and it must be signed with the private key of the owner because the owner needs to prove he/she agrees to spend his/her coins.  

Every output is correlated to the public key of the receiver, which is his/her ScroogeCoin address. 

In the first transaction, we assume that Scrooge has created 10 coins and assigned them to himself, we don't doubt that because the system-Scroogecoin has a building rule which says that Scrooge has right to create coins.

In the second transaction,  Scrooge transferred 3.9 coins to Alice and 5.9 coins to Bob. The sum of the two outputs is 0.2 less than the input because the transaction fee was 0.2 coin.

In the third transaction,  there were two inputs and one output, Alice and Bob transferred 9.7 coins to mike, and the transaction fee was 0.1 coin.

## Unclaimed transaction outputs pool
Another trick we need to Note when doing the programming assignment is that an UTXOPool is introduced to track the unclaimed outputs (unspent coins), so we can know whether the corresponding output of an input of the transaction is available or not.

## TxHandler Java Code
```
import java.security.PublicKey;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class TxHandler {
	private UTXOPool utxoPool;

	/**
	 * Creates a public ledger whose current UTXOPool (collection of unspent
	 * transaction outputs) is {@code utxoPool}. This should make a copy of utxoPool
	 * by using the UTXOPool(UTXOPool uPool) constructor.
	 */
	public TxHandler(UTXOPool utxoPool) {
		this.utxoPool = new UTXOPool(utxoPool);
	}

	/**
	 * @return true if: (1) all outputs claimed by {@code tx} are in the current
	 *         UTXO pool, (2) the signatures on each input of {@code tx} are valid,
	 *         (3) no UTXO is claimed multiple times by {@code tx}, (4) all of
	 *         {@code tx}s output values are non-negative, and (5) the sum of
	 *         {@code tx}s input values is greater than or equal to the sum of its
	 *         output values; and false otherwise.
	 */
	public boolean isValidTx(Transaction tx) {
		Set<UTXO> claimedUTXO = new HashSet<UTXO>();
		double inputSum = 0;
		double outputSum = 0;

		List<Transaction.Input> inputs = tx.getInputs();
		for (int i = 0; i < inputs.size(); i++) {
			Transaction.Input input = inputs.get(i);

			if (!isConsumedCoinAvailable(input)) {
				return false;
			}

			if (!verifySignatureOfConsumeCoin(tx, i, input)) {
				return false;
			}

			if (isCoinConsumedMultipleTimes(claimedUTXO, input)) {
				return false;
			}

			UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
			Transaction.Output correspondingOutput = utxoPool.getTxOutput(utxo);
			inputSum += correspondingOutput.value;

		}

		List<Transaction.Output> outputs = tx.getOutputs();
		for (int i = 0; i < outputs.size(); i++) {
			Transaction.Output output = outputs.get(i);
			if (output.value <= 0) {
				return false;
			}

			outputSum += output.value;
		}

		// Should the input value and output value be equal? Otherwise the ledger will
		// become unbalanced.
		// The difference between inputSum and outputSum is the transaction fee
		if (outputSum > inputSum) {
			return false;
		}

		return true;
	}

	private boolean isCoinConsumedMultipleTimes(Set<UTXO> claimedUTXO, Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		return !claimedUTXO.add(utxo);
	}

	private boolean verifySignatureOfConsumeCoin(Transaction tx, int index, Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		Transaction.Output correspondingOutput = utxoPool.getTxOutput(utxo);
		PublicKey pk = correspondingOutput.address;
		return Crypto.verifySignature(pk, tx.getRawDataToSign(index), input.signature);
	}

	private boolean isConsumedCoinAvailable(Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		return utxoPool.contains(utxo);
	}

	/**
	 * Handles each epoch by receiving an unordered array of proposed transactions,
	 * checking each transaction for correctness, returning a mutually valid array
	 * of accepted transactions, and updating the current UTXO pool as appropriate.
	 */
	public Transaction[] handleTxs(Transaction[] possibleTxs) {
		List<Transaction> acceptedTx = new ArrayList<Transaction>();
		for (int i = 0; i < possibleTxs.length; i++) {
			Transaction tx = possibleTxs[i];
			if (isValidTx(tx)) {
				acceptedTx.add(tx);

				removeConsumedCoinsFromPool(tx);
				addCreatedCoinsToPool(tx);
			}
		}

		Transaction[] result = new Transaction[acceptedTx.size()];
		acceptedTx.toArray(result);
		return result;
	}

	private void addCreatedCoinsToPool(Transaction tx) {
		List<Transaction.Output> outputs = tx.getOutputs();
		for (int j = 0; j < outputs.size(); j++) {
			Transaction.Output output = outputs.get(j);
			UTXO utxo = new UTXO(tx.getHash(), j);
			utxoPool.addUTXO(utxo, output);
		}
	}

	private void removeConsumedCoinsFromPool(Transaction tx) {
		List<Transaction.Input> inputs = tx.getInputs();
		for (int j = 0; j < inputs.size(); j++) {
			Transaction.Input input = inputs.get(j);
			UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
			utxoPool.removeUTXO(utxo);
		}
	}

}
```
## All the Example Codes on GitHub
I wrap the codes into a maven project, just run ```mvn test``` then the example codes will build and run all the test cases.

[Scrooge Coin example in Java](https://github.com/zhaohuabing/scroogecoin)


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-22-user_authentication_authorization.md

---
layout:     post
title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ"
subtitle:   "з”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓ"
description: "иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚"
excerpt: "иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚"
date:      2018-05-23T10:00:00
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-22-user_authentication_authorization/background.jpg"
publishDate: 2018-05-23T10:00:00
tags:
    - Microservice
    - Security 
URL: "/2018/05/22/user_authentication_authorization"
categories: [ "Tech" ]    
---

> иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚
> 
> ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚

## з›®еЅ•
{:.no_toc}

* з›®еЅ•
{:toc}


## е‰ЌиЁЂ
еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚

з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚
![еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї](//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png)
<center>еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї</center>

## з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ

### з”Ёж€·иє«д»Ѕи®¤иЇЃ
дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ
* йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚
* з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚

з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚ 

### з”Ёж€·зЉ¶жЂЃдїќжЊЃ
HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚

дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚

Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚

Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚[JWT(Json Web Token)](https://jwt.io)жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚

JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ
* Header<BR>
е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚
```
{
  "alg": "HS256",
  "typ": "JWT"
}
```
* Payload<BR>
еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚
```
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```
* Signature<BR>
TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚
з­ѕеђЌз®—жі•
```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret)
```

иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё"."е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token
![xx](https://cdn.auth0.com/content/jwt/encoded-jwt3.png)
й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ[rfc6750](https://tools.ietf.org/html/rfc6750)иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚
```
Authorization: Bearer mF_9.B5f-4.1JqM
```
й‡‡з”ЁTokenж–№ејЏиї›иЎЊз”Ёж€·и®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
1. з”Ёж€·иѕ“е…Ґз”Ёж€·еђЌ,еЇ†з Ѓз­‰йЄЊиЇЃдїЎжЃЇпјЊеђ‘жњЌеЉЎе™ЁеЏ‘иµ·з™»еЅ•иЇ·ж±‚
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃз”Ёж€·з™»еЅ•дїЎжЃЇпјЊз”џж€ђJWT token
1. жњЌеЉЎе™Ёз«Їе°†Tokenиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їдїќе­ењЁжњ¬ењ°пј€дёЂи€¬д»ҐCookieзљ„ж–№ејЏдїќе­пј‰
1. е®ўж€·з«Їеђ‘жњЌеЉЎе™Ёз«ЇеЏ‘йЂЃи®їй—®иЇ·ж±‚пјЊиЇ·ж±‚дё­жђєеё¦д№‹е‰ЌйўЃеЏ‘зљ„Token
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃTokenпјЊзЎ®и®¤з”Ёж€·зљ„иє«д»Ѕе’ЊеЇ№иµ„жєђзљ„и®їй—®жќѓй™ђпјЊе№¶иї›иЎЊз›ёеє”зљ„е¤„зђ†пј€ж‹’з»ќж€–иЂ…е…Ѓи®ёи®їй—®пј‰
![](https://cdn.auth0.com/content/jwt/jwt-diagram.png)
<center>й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃзљ„жµЃзЁ‹е›ѕ</center>

### е®ћзЋ°еЌ•з‚№з™»еЅ•
еЌ•з‚№з™»еЅ•зљ„зђ†еїµеѕ€з®ЂеЌ•пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•еє”з”ЁдёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®еє”з”Ёдё­ж‰Ђжњ‰зљ„еѕ®жњЌеЉЎгЂ‚API GatewayжЏђдѕ›дє†е®ўж€·з«Їи®їй—®еѕ®жњЌеЉЎеє”з”Ёзљ„е…ҐеЏЈпјЊTokenе®ћзЋ°дє†ж— зЉ¶жЂЃзљ„з”Ёж€·и®¤иЇЃгЂ‚з»“еђ€иї™дё¤з§ЌжЉЂжњЇпјЊеЏЇд»Ґдёєеѕ®жњЌеЉЎеє”з”Ёе®ћзЋ°дёЂдёЄеЌ•з‚№з™»еЅ•ж–№жЎ€гЂ‚

з”Ёж€·зљ„и®¤иЇЃжµЃзЁ‹е’Њй‡‡з”ЁTokenж–№ејЏи®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹з±»дјјпјЊдёЌеђЊд№‹е¤„жЇеЉ е…Ґдє†API GatewayдЅњдёєе¤–йѓЁиЇ·ж±‚зљ„е…ҐеЏЈгЂ‚

з”Ёж€·з™»еЅ•
1. е®ўж€·з«ЇеЏ‘йЂЃз™»еЅ•иЇ·ж±‚е€°API Gateway
2. API Gatewayе°†з™»еЅ•иЇ·ж±‚иЅ¬еЏ‘е€°Security Service
3. Security ServiceйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊе№¶йўЃеЏ‘Token

з”Ёж€·иЇ·ж±‚
1. е®ўж€·з«ЇиЇ·ж±‚еЏ‘йЂЃе€°API Gateway
1. API Gatewayи°ѓз”Ёзљ„Security ServiceеЇ№иЇ·ж±‚дё­зљ„Tokenиї›иЎЊйЄЊиЇЃпјЊжЈЂжџҐз”Ёж€·зљ„иє«д»Ѕ
2. е¦‚жћњиЇ·ж±‚дё­жІЎжњ‰TokenпјЊTokenиї‡жњџж€–иЂ…TokenйЄЊиЇЃйќћжі•пјЊе€™ж‹’з»ќз”Ёж€·иЇ·ж±‚гЂ‚
3. Security ServiceжЈЂжџҐз”Ёж€·жЇеђ¦е…·жњ‰иЇҐж“ЌдЅњжќѓ(еЏЇйЂ‰пјЊеЏ‚и§Ѓдё‹дёЂе°ЏиЉ‚)
4. е¦‚жћњз”Ёж€·е…·жњ‰иЇҐж“ЌдЅњжќѓй™ђпјЊе€™жЉЉиЇ·ж±‚еЏ‘йЂЃе€°еђЋз«Їзљ„Business ServiceпјЊеђ¦е€™ж‹’з»ќз”Ёж€·иЇ·ж±‚
![й‡‡з”ЁAPI Gatewayе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„SSO](/img/2018-05-22-user_authentication_authorization/api-gateway-sso.png)
<center>й‡‡з”ЁAPI Gatewayе’ЊTokenе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„еЌ•з‚№з™»еЅ•</center>

### з”Ёж€·жќѓй™ђжЋ§е€¶
з”Ёж€·жќѓй™ђжЋ§е€¶жњ‰дё¤з§ЌеЃљжі•пјЊењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†пјЊж€–иЂ…ењЁеђ„дёЄеѕ®жњЌеЉЎдё­еЌ•з‹¬е¤„зђ†гЂ‚
#### API Gatewayе¤„иї›иЎЊз»џдёЂзљ„жќѓй™ђжЋ§е€¶
е®ўж€·з«ЇеЏ‘йЂЃзљ„HTTPиЇ·ж±‚дё­еЊ…еђ«жњ‰иЇ·ж±‚зљ„ResourceеЏЉHTTP MethodгЂ‚е¦‚жћњзі»з»џйЃµеѕЄRESTи§„иЊѓпјЊд»ҐURIиµ„жєђж–№ејЏеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊе€™API GatewayеЏЇд»Ґд»ЋиЇ·ж±‚дё­з›ґжЋҐж€ЄеЏ–е€°и®їй—®зљ„иµ„жєђеЏЉйњЂи¦Ѓиї›иЎЊзљ„ж“ЌдЅњпјЊз„¶еђЋи°ѓз”ЁSecurity Serviceиї›иЎЊжќѓй™ђе€¤ж–­пјЊж №жЌ®е€¤ж–­з»“жћње†іе®љз”Ёж€·жЇеђ¦жњ‰жќѓй™ђеЇ№иЇҐиµ„жєђиї›иЎЊж“ЌдЅњпјЊе№¶иЅ¬еЏ‘е€°еђЋз«Їзљ„Business ServiceгЂ‚

еЃ‡и®ѕзі»з»џдё­жњ‰дё‰дёЄи§’и‰І:
* order_manager,еЏЇд»ҐжџҐзњ‹пјЊе€›е»єпјЊдї®ж”№пјЊе€ й™¤и®ўеЌ•
* order_editor, еЏЇд»ҐжџҐзњ‹пјЊе€›е»єпјЊдї®ж”№и®ўеЌ•
* order_inspectorпјЊеЏЄиѓЅжџҐзњ‹и®ўеЌ•

иї™дє›и§’и‰ІеЇ№иµ„жєђзљ„ж“ЌдЅњжќѓй™ђйѓЅеЏЇд»Ґж е°„е€°HTTP VerbдёЉпјЊе¦‚дё‹иЎЁж‰Ђз¤єгЂ‚

| Role            | Resource | Verbs                              |
|-----------------|----------|------------------------------------|
| order_manager   | /orders  | 'GET'   'POST'   'PUT'   'DELETE'  |
| order_editor    | /orders  | 'GET'    'POST'    'PUT'           |
| order_inspector | /orders  | 'GET'                              |

иї™з§Ќе®ћзЋ°ж–№ејЏењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†й‰ґжќѓйЂ»иѕ‘пјЊеђ„дёЄеѕ®жњЌеЉЎдёЌйњЂи¦ЃиЂѓи™‘з”Ёж€·й‰ґжќѓпјЊеЏЄйњЂи¦Ѓе¤„зђ†дёљеЉЎйЂ»иѕ‘пјЊз®ЂеЊ–дє†еђ„еѕ®жњЌеЉЎзљ„е®ћзЋ°гЂ‚
#### з”±еђ„дёЄеѕ®жњЌеЉЎеЌ•з‹¬иї›иЎЊжќѓй™ђжЋ§е€¶
е¦‚жћњеѕ®жњЌеЉЎжњЄдёҐж јйЃµеѕЄRESTи§„иЊѓеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊж€–иЂ…еє”з”ЁйњЂи¦Ѓиї›иЎЊж›ґз»†зІ’еє¦зљ„жќѓй™ђжЋ§е€¶пјЊе€™йњЂи¦ЃењЁеѕ®жњЌеЉЎдё­еЌ•з‹¬еЇ№з”Ёж€·жќѓй™ђиї›иЎЊе€¤ж–­е’Ње¤„зђ†гЂ‚иї™з§Ќжѓ…е†µдё‹еѕ®жњЌеЉЎзљ„жќѓй™ђжЋ§е€¶ж›ґдёєзЃµжґ»пјЊдЅ†еђ„дёЄеѕ®жњЌеЉЎйњЂи¦ЃеЌ•з‹¬з»ґжЉ¤з”Ёж€·зљ„жЋ€жќѓж•°жЌ®пјЊе®ћзЋ°ж›ґе¤Ќжќ‚гЂ‚

з”±дєЋеѕ®жњЌеЉЎиї›иЎЊжќѓй™ђе€¤ж–­ж—¶йњЂи¦Ѓз”Ёж€·иє«д»ЅдїЎжЃЇпјЊиЇҐж–№жЎ€йњЂи¦Ѓе¤„зђ†зљ„еЏ¦дёЂдёЄй—®йўжЇе¦‚дЅ•жЉЉз™»еЅ•з”Ёж€·зљ„дїЎжЃЇд»ЋAPI Gatewayдј йЂ’е€°еѕ®жњЌеЉЎдё­гЂ‚е¦‚жћњжЇеџєдєЋHttpпјЊеЏЇд»Ґй‡‡з”ЁHttp headerе®ћзЋ°пјЊе¦‚жћњжЇе…¶д»–еЌЏи®®пјЊе€™йњЂи¦ЃењЁж¶€жЃЇдЅ“дё­еўћеЉ з”Ёж€·иє«д»Ѕз›ёе…ізљ„е­—ж®µгЂ‚




==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-23-external_system_auth.md

---
layout:     post
title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰"
subtitle:   "е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶"
description: "дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚"
excerpt: "дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚"
date:       2018-05-23T18:00:00
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-23-external_system_auth/background.jpg"
publishDate: 2018-05-23T18:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/23/external_system_auth/"
categories: [ "Tech" ]    
---

## е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶
й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚

### дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶
еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚

й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚

### API Token
жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚

дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ[Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў](https://github.com/settings/tokens)дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚

дЅїз”ЁAPI TokenжќҐи®їй—®Github API
```
curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user

```
> дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)

дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚


з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚
### OAuth
жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚

еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚
OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
* з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚
* и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚
* з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚
* и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚

>е¤‡жіЁпјљ
>1. OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚
>
>2. жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚
>дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚
>
>```
>POST /oauth/token HTTP/1.1
>Host: authorization-server.com
>  			
>grant_type=authorization_code
>&code=xxxxxxxxxxx
>&redirect_uri=https://example-app.com/redirect
>&client_id=xxxxxxxxxx
>&client_secret=xxxxxxxxxx
>```


![OAuthи®¤иЇЃжµЃзЁ‹](/img/2018-05-23-external_system_auth/oauth_web_server_flow.png)
<center>OAuthи®¤иЇЃжµЃзЁ‹</center>


еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:
  
ењЁе®ћзЋ°еѕ®жњЌеЉЎи‡Єиє«зљ„з”Ёж€·и®¤иЇЃж—¶пјЊд№џеЏЇд»Ґй‡‡з”ЁOAuthе°†еѕ®жњЌеЉЎзљ„з”Ёж€·и®¤иЇЃе§”ж‰з»™дёЂдёЄз¬¬дё‰ж–№зљ„и®¤иЇЃжњЌеЉЎжЏђдѕ›е•†пјЊдѕ‹е¦‚еѕ€е¤љеє”з”ЁйѓЅе°†з”Ёж€·з™»еЅ•е’Њеѕ®дїЎж€–иЂ…QQзљ„OAuthжњЌеЉЎиї›иЎЊдє†й›†ж€ђгЂ‚
  
з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґе’Њеѕ®жњЌеЉЎи‡Єиє«з”Ёж€·и®¤иЇЃй‡‡з”ЁOAuthзљ„з›®зљ„жЇдёЌеђЊзљ„пјЊе‰ЌиЂ…жЇдёєдє†е°†еѕ®жњЌеЉЎдё­з”Ёж€·зљ„з§Ѓжњ‰ж•°жЌ®и®їй—®жќѓй™ђжЋ€жќѓз»™з¬¬дё‰ж–№еє”з”ЁпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇи®¤иЇЃе’Њиµ„жєђжњЌеЉЎе™Ёзљ„и§’и‰Іпј›иЂЊеђЋиЂ…зљ„з›®зљ„жЇй›†ж€ђе№¶е€©з”ЁзџҐеђЌи®¤иЇЃжЏђдѕ›жњЌеЉЎе•†жЏђдѕ›зљ„OAuthи®¤иЇЃжњЌеЉЎпјЊз®ЂеЊ–з№Ѓзђђзљ„жіЁе†Њж“ЌдЅњпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇе®ўж€·з«Їзљ„и§’и‰ІгЂ‚
  
е› ж­¤ењЁж€‘д»¬йњЂи¦ЃеЊєе€†иї™дё¤з§ЌдёЌеђЊзљ„ењєж™ЇпјЊд»Ґе…ЌйЂ ж€ђиЇЇи§ЈгЂ‚

## еђЋи®°

е‰Ќдё¤зЇ‡ж–‡з« ењЁењЁе…¬дј—еЏ·еЏ‘еёѓеђЋпјЊжњ‰жњ‹еЏ‹жЏђе€°иїи¦ЃжіЁж„Џз™»еЅ•еЇ†з ЃжЋж–‡й—®йўгЂЃйІж­ўй‡Ќж”ѕж”»е‡»гЂЃйІж­ўж—¶й—ґе·®ж”»е‡»гЂЃйІж­ўи„±иЈ¤еђЋзљ„еЅ©и™№иЎЁж”»е‡»...гЂ‚зљ„зЎ®пјЊе®‰е…ЁжЇдёЂдёЄеєће¤§зљ„иЇќйўпјЊжњ¬зі»е€—ж–‡з« еЏЄйђиї°дє†ж€‘е…ідєЋеѕ®жњЌеЉЎжћ¶жћ„еЇ№еє”з”Ёе®‰е…Ёеё¦жќҐзљ„еЅ±е“Ќзљ„дёЂз‚№е°Џе°ЏжЂќиЂѓгЂ‚ењЁдє§е“ЃејЂеЏ‘е’Њиїђз»ґдё­пјЊиїйњЂи¦ЃеЇ№е®‰е…Ёиї›иЎЊе…Ёж–№йќўзљ„иЂѓи™‘пјЊжњЂеҐЅйЃµеѕЄдёЂдє›дёљз•Њзљ„жњЂдЅіе®ћи·µпјЊе¦‚й‡‡з”Ёе®Ње–„зљ„йІзЃ«еў™еЇ№е¤–йѓЁжµЃй‡Џиї›иЎЊйљ”з¦»пјЊй‡‡з”ЁеЉ з›ђhashеЇ№з”Ёж€·еЇ†з Ѓиї›иЎЊе­е‚ЁпјЊй‡‡з”Ёtlsиї›иЎЊеЉ еЇ†дј иѕ“пјЊеЇ№з”Ёж€·иѕ“е…Ґиї›иЎЊдёҐж јжЈЂжџҐйІж­ўsqlжіЁе…ҐпјЊй‡‡з”Ёз»Џиї‡йЄЊиЇЃзљ„йЂљз”ЁеЉ еЇ†з®—жі•з­‰з­‰гЂ‚



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-23-istio-auto-injection-with-webhook.md

---
layout:     post

title:      "Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†"
subtitle:   "Kubernetes webhookж‰©е±•жњєе€¶и§Јжћђ"
description: "Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚"
excerpt: "Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚"
date:    2018-05-23
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-4-25-istio-auto-injection-with-webhook/lion.jpg"
publishDate: 2018-05-23
tags:
    - Kubernetes
    - Istio
URL: "/2018/05/23/istio-auto-injection-with-webhook/"
categories: [ Tech ]
---

## е‰ЌиЁЂ
- - -
Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚

дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚

Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚
<!--more-->
## д»Ђд№€жЇAdmission
---
AdmissionжЇKubernetsдё­зљ„дёЂдёЄжњЇиЇ­пјЊжЊ‡зљ„жЇKubernets API Serverиµ„жєђиЇ·ж±‚иї‡зЁ‹дё­зљ„дёЂдёЄй¶ж®µгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјЊењЁAPI ServerжЋҐж”¶е€°иµ„жєђе€›е»єиЇ·ж±‚ж—¶пјЊй¦–е…€дјљеЇ№иЇ·ж±‚иї›иЎЊи®¤иЇЃе’Њй‰ґжќѓпјЊз„¶еђЋз»Џиї‡Admissionе¤„зђ†пјЊжњЂеђЋе†Ќдїќе­е€°etcdгЂ‚ 
![](/img/2018-4-25-istio-auto-injection-with-webhook/admission-phase.png)
д»Ће›ѕдё­зњ‹е€°пјЊAdmissionдё­жњ‰дё¤дёЄй‡Ќи¦Ѓзљ„й¶ж®µпјЊMutationе’ЊValidationпјЊиї™дё¤дёЄй¶ж®µдё­ж‰§иЎЊзљ„йЂ»иѕ‘е¦‚дё‹пјљ
* Mutation
  
  MutationжЇи‹±ж–‡вЂњзЄЃеЏвЂќзљ„ж„ЏжЂќ,д»Ће­—йќўдёЉеЏЇд»ҐзџҐйЃ“ењЁMutationй¶ж®µеЏЇд»ҐеЇ№иЇ·ж±‚е†…е®№иї›иЎЊдї®ж”№гЂ‚
* Validation

  ењЁValidationй¶ж®µдёЌе…Ѓи®ёдї®ж”№иЇ·ж±‚е†…е®№пјЊдЅ†еЏЇд»Ґж №жЌ®иЇ·ж±‚зљ„е†…е®№е€¤ж–­жЇз»§з»­ж‰§иЎЊиЇҐиЇ·ж±‚иїжЇж‹’з»ќиЇҐиЇ·ж±‚гЂ‚

## Admission webhook
---
йЂљиї‡Admission webhook,еЏЇд»ҐеЉ е…ҐMutationе’ЊValidationдё¤з§Ќз±»ећ‹зљ„webhookжЏ’д»¶пјЊиї™дє›жЏ’д»¶е’ЊKubernetsжЏђдѕ›зљ„йў„зј–иЇ‘зљ„AdmissionжЏ’д»¶е…·жњ‰з›ёеђЊзљ„иѓЅеЉ›гЂ‚еЏЇд»Ґжѓіе€°зљ„з”ЁйЂ”еЊ…ж‹¬пјљ
* дї®ж”№иµ„жєђгЂ‚дѕ‹е¦‚Istioе°±йЂљиї‡Admin WebhookењЁPodиµ„жєђдё­еўћеЉ дє†Envoy sidecarе®№е™ЁгЂ‚
* и‡Єе®љд№‰ж ЎйЄЊйЂ»иѕ‘пјЊдѕ‹е¦‚еЇ№иµ„жєђеђЌз§°жњ‰дёЂдє›з‰№ж®Љи¦Ѓж±‚гЂ‚ж€–иЂ…еЇ№и‡Єе®љд№‰иµ„жєђзљ„еђ€жі•жЂ§иї›иЎЊж ЎйЄЊгЂ‚

## й‡‡з”ЁWebhookи‡ЄеЉЁжіЁе…ҐIstio Sidecar
---
### Kubernetsз‰€жњ¬и¦Ѓж±‚
webhookж”ЇжЊЃйњЂи¦ЃKubernets1.9ж€–иЂ…ж›ґй«зљ„з‰€жњ¬,дЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤зЎ®и®¤kube-apiserverзљ„Admin webhookеЉџиѓЅе·ІеђЇз”ЁгЂ‚

```
kubectl api-versions | grep admissionregistration

admissionregistration.k8s.io/v1beta1
```
### з”џж€ђsidecar injection webhookзљ„еЇ†й’Ґе’ЊиЇЃд№¦
WebhookдЅїз”Ёж•°е­—иЇЃд№¦еђ‘kube-apiserverиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊе› ж­¤йњЂи¦Ѓе…€дЅїз”Ёе·Ґе…·з”џж€ђеЇ†й’ҐеЇ№пјЊе№¶еђ‘Istio CAз”іиЇ·ж•°е­—иЇЃд№¦гЂ‚

```
./install/kubernetes/webhook-create-signed-cert.sh /
    --service istio-sidecar-injector /
    --namespace istio-system /
    --secret sidecar-injector-certs
```

### е°†з”џж€ђзљ„ж•°е­—иЇЃд№¦й…ЌзЅ®е€°webhookдё­

```
cat install/kubernetes/istio-sidecar-injector.yaml | /
     ./install/kubernetes/webhook-patch-ca-bundle.sh > /
     install/kubernetes/istio-sidecar-injector-with-ca-bundle.yaml
```

### е€›е»єsidecar injection configmap

```
kubectl apply -f install/kubernetes/istio-sidecar-injector-configmap-release.yaml
```

### йѓЁзЅІsidecar injection webhook

```
kubectl apply -f install/kubernetes/istio-sidecar-injector-with-ca-bundle.yaml
```

йЂљиї‡е‘Ѕд»¤жџҐзњ‹йѓЁзЅІеҐЅзљ„webhook injector

````
kubectl -n istio-system get deployment -listio=sidecar-injector
Copy
NAME                     DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
istio-sidecar-injector   1         1         1            1           1d
```

### ејЂеђЇйњЂи¦Ѓи‡ЄеЉЁжіЁе…Ґsidecarзљ„namespace 

```
kubectl label namespace default istio-injection=enabled

kubectl get namespace -L istio-injection

NAME           STATUS    AGE       ISTIO-INJECTION
default        Active    1h        enabled
istio-system   Active    1h        
kube-public    Active    1h        
kube-system    Active    1h  
```

## еЏ‚иЂѓ

* [Extensible Admission is Beta](https://kubernetes.io/blog/2018/01/extensible-admission-is-beta)
* [Installing the Istio Sidecar](https://istio.io/docs/setup/kubernetes/sidecar-injection.html)


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-23-service_2_service_auth.md

---
layout:     post

title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ"
subtitle:   "жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ"
description: "й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚"
showonlyimage: false
excerpt: "й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚"
author: В  В  "иµµеЊ–е†°"
date:     2018-05-23T15:00:00
image: "/img/2018-05-23-service_2_service_auth/background.jpg"
publishDate: 2018-05-23T15:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/23/service_2_service_auth/"
categories: [ Tech ]    
---


## жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ

й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ
* з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®<BR>
  дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚ 
* йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®<BR>
  дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚

ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚
<!--more-->
### еЇ№еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®дёЌиї›иЎЊе®‰е…ЁжЋ§е€¶
ењЁжџђдє›ењєж™Їдё‹пјЊеЏЇд»ҐеЃ‡и®ѕеђЊдёЂеє”з”Ёдё­еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®йѓЅжЇеЏЇдїЎзљ„гЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊеє”з”Ёдѕќиµ–дєЋе†…йѓЁзЅ‘з»њзљ„йІзЃ«еў™еЏЉе…¶д»–зЅ‘з»ње®‰е…ЁжЋЄж–ЅжќҐдїќиЇЃе®‰е…ЁжЂ§гЂ‚ењЁиї™з§Ќжѓ…е†µеЇ№е…ҐдѕµиЂ…ж”»е‡»иї›е…Ґе†…йѓЁзЅ‘з»њеђЋжІЎжњ‰дїќжЉ¤жЋЄж–ЅгЂ‚е…ҐдѕµиЂ…еЏЇд»ҐеЇ№еѕ®жњЌеЉЎй—ґзљ„йЂљдїЎиї›иЎЊе…ёећ‹зљ„дё­й—ґдєєж”»е‡»пјЊдѕ‹е¦‚зЄѓеђ¬йЂљдїЎе†…е®№пјЊдјЄйЂ е’Њдї®ж”№йЂљдїЎж•°жЌ®пјЊз”љи‡іеЃ‡иЈ…дёєдёЂдёЄеђ€жі•зљ„еѕ®жњЌеЉЎиї›иЎЊйЂљдїЎгЂ‚

### й‡‡з”ЁService Account(жњЌеЉЎиґ¦еЏ·)иї›иЎЊе®‰е…ЁжЋ§е€¶
вЂње†…йѓЁзЅ‘з»њдё­еѕ®жњЌеЉЎд№‹й—ґзљ„ж‰Ђжњ‰йЂљдїЎйѓЅжЇеЏЇдїЎзљ„вЂќиї™дёЄеЃ‡и®ѕењЁжџђдє›ењєж™Їдё‹жЇдёЌж€ђз«‹зљ„пјЊз‰№е€«жЇењЁеѕ®жњЌеЉЎдё­дїќе­жњ‰з”Ёж€·дїЎжЃЇиї™з§Ќйќћеёёй‡Ќи¦Ѓзљ„ж•°жЌ®зљ„жѓ…е†µдё‹гЂ‚е°†ж•Џж„џдїЎжЃЇз›ґжЋҐжљґйњІењЁе†…йѓЁж”»е‡»дё‹зљ„еЃљжі•жЇйќћеёёеЌ±й™©зљ„гЂ‚ и§Је†іиЇҐй—®йўзљ„дёЂз§Ќж–№жЎ€жЇдЅїз”ЁжњЌеЉЎиґ¦еЏ·жќҐеЇ№еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®иї›иЎЊжЋ§е€¶гЂ‚

з”Ёж€·жќѓй™ђжЋ§е€¶зљ„дёЂдёЄж™®йЃЌж–№жі•жЇдЅїз”ЁвЂќз”Ёж€·иґ¦еЏ·пј€User Accountпј‰вЂќжќҐж ‡иЇ†дёЂдёЄзі»з»џз”Ёж€·пјЊе№¶еЇ№е…¶иї›иЎЊиє«д»Ѕи®¤иЇЃе’Њж“ЌдЅњй‰ґжќѓгЂ‚з±»дјјењ°пјЊеЏЇд»Ґдёєзі»з»џдё­жЇЏдёЂдёЄжњЌеЉЎд№џе€›е»єдёЂдёЄиґ¦еЏ·пјЊз§°дёєвЂќжњЌеЉЎиґ¦еЏ·(Service Accout)вЂњгЂ‚ иЇҐжњЌеЉЎиґ¦еЏ·иЎЁз¤єдє†еѕ®жњЌеЉЎзљ„иє«д»ЅпјЊд»Ґз”ЁдєЋжЋ§е€¶иЇҐеѕ®жњЌеЉЎеЇ№зі»з»џдё­е…¶е®ѓеѕ®жњЌеЉЎзљ„и®їй—®жќѓй™ђпјЊе¦‚еЏЇд»ҐеЇ№е“Єдє›еѕ®жњЌеЉЎзљ„е“Єдє›иµ„жєђиї›иЎЊдЅ•з§Ќж“ЌдЅњгЂ‚еЅ“дёЂдёЄеѕ®жњЌеЉЎи®їй—®еЏ¦дёЂдёЄеѕ®жњЌеЉЎж—¶пјЊиў«и®їй—®зљ„еѕ®жњЌеЉЎйњЂи¦ЃйЄЊиЇЃи®їй—®иЂ…зљ„жњЌеЉЎиґ¦еЏ·пјЊд»ҐзЎ®е®ље…¶иє«д»Ѕе’Њиµ„жєђж“ЌдЅњжќѓй™ђгЂ‚

#### SPIFEEж ‡е‡†
[Secure Production Identity Framework For Everyone (SPIFFE)](https://spiffe.io/)жЇдёЂеҐ—жњЌеЉЎд№‹й—ґз›ёдє’иї›иЎЊиє«д»ЅиЇ†е€«зљ„ж ‡е‡†пјЊдё»и¦ЃеЊ…еђ«д»Ґдё‹е†…е®№пјљ
* SPIFFE IDж ‡е‡†пјЊSPIFFE IDжЇжњЌеЉЎзљ„е”ЇдёЂж ‡иЇ†пјЊе®ћзЋ°дёєз»џдёЂиµ„жєђж ‡иЇ†"Uniform Resource Identifier (URI)вЂќз¬¦гЂ‚
* SVID(SPIFFE Verifiable Identity Document)ж ‡е‡†,е°†SPIFFE IDзј–з Ѓе€°дёЂдёЄеЉ еЇ†зљ„еЏЇйЄЊиЇЃж–‡жЎЈдё­гЂ‚
* йўЃеЏ‘/ж’¤й”Ђ SVIDзљ„дёЂеҐ—APIж ‡е‡†гЂ‚

SPIFFE SVIDз›®е‰Ќж”ЇжЊЃзљ„е®ћзЋ°ж–№ејЏжЇX.509ж•°е­—иЇЃд№¦пјЊењЁx.509 SVIDдё­пјЊй‡‡з”ЁX.509ж•°е­—иЇЃд№¦зљ„SAN(Subject Alternative Name)ж‰©е±•е­—ж®µжќҐдїќе­SPIFFE IDгЂ‚

#### Istio AuthејЂжєђе®ћзЋ°
IstioжњЌеЉЎзЅ‘ж јйЎ№з›®зљ„Authз»„д»¶е®ћзЋ°дє†SPIFFEж ‡е‡†пјЊеЏЇд»ҐдёєзЅ‘ж јдё­жњЌеЉЎйўЃеЏ‘з¬¦еђ€SPIFFE SVIDж ‡е‡†зљ„иЇЃд№¦пјЊе№¶дёєжњЌеЉЎжЏђдѕ›иє«д»Ѕи®¤иЇЃпјЊз»†зІ’еє¦зљ„ж“ЌдЅњй‰ґжќѓд»ҐеЏЉйЂљдїЎеЉ еЇ†гЂ‚Istioзљ„жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-05-23-service_2_service_auth/auth.png)

Istio Authй‡‡з”Ёдє†Kubernetesзљ„service accountжќҐдЅњдёєжњЌеЉЎж ‡иЇ†пјЊе…¶SPIFFE IDзљ„ж јејЏдёєspiffe://&lt;domain&gt;/ns/&lt;namespace&gt;/sa/&lt;serviceaccount&gt;пјЊе…¶дё­еђ„з»„ж€ђйѓЁе€†е¦‚дё‹пјљ
* domain еџџеђЌ
* namespace kubernetes service accountж‰ЂењЁзљ„Namespace
* serviceaccount kubernetesдё­е®љд№‰зљ„service accountеђЌ

Istio AuthжЏђдѕ›дє†дёЂдёЄз”ЁдєЋйўЃеЏ‘иЇЃд№¦зљ„CAгЂ‚ењЁжњЌеЉЎйѓЁзЅІж—¶пјЊCAз›‘еђ¬Kubernetes API Server, дёєй›†зѕ¤дё­зљ„жЇЏдёЂдёЄService Accountе€›е»єдёЂеЇ№еЇ†й’Ґе’ЊиЇЃд№¦гЂ‚еЅ“Podе€›е»єж—¶пјЊKubernetesж №жЌ®иЇҐPodе…іиЃ”зљ„Service Accountе°†еЇ†й’Ґе’ЊиЇЃд№¦д»ҐKubernetes Secretsиµ„жєђзљ„ж–№ејЏеЉ иЅЅдёєPodзљ„VolumeпјЊд»Ґдѕ›EnvoyдЅїз”ЁгЂ‚

ењЁжњЌеЉЎиїђиЎЊж—¶пјЊжњЌеЉЎй—ґзљ„йЂљдїЎиў«EnvoyжЋҐз®ЎпјЊEnvoyдЅїз”ЁиЇЃд№¦ењЁжњЌеЉЎй—ґиї›иЎЊеЏЊеђ‘SSLжЏЎж‰‹йЄЊиЇЃйЂљдїЎеЏЊж–№жњЌеЉЎзљ„иє«д»ЅпјЊе№¶жЏђдѕ›еЉ еЇ†зљ„йЂљдїЎйЂљйЃ“гЂ‚

### й‡‡з”Ёз”Ёж€·иє«д»Ѕиї›иЎЊе®‰е…ЁжЋ§е€¶
й‡‡з”ЁжњЌеЉЎиґ¦еЏ·иї›иЎЊжњЌеЉЎй—ґдє¤дє’зљ„й‰ґжќѓдёЌиѓЅжЋ§е€¶е€°з”Ёж€·зІ’еє¦зљ„и®їй—®жќѓй™ђпјЊиї™ењЁжџђдє›ењєж™Їдё‹еЏЇиѓЅе‡єзЋ°ж•°жЌ®жі„йњІй—®йўгЂ‚

дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎйњЂи¦Ѓи®їй—®еЏ¦дёЂдёЄеѕ®жњЌеЉЎдё­зљ„з”Ёж€·еЋ†еЏІиґ­з‰©ж•°жЌ®гЂ‚е¦‚жћњеЏЄй‡‡з”ЁжњЌеЉЎиґ¦еЏ·еЇ№иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊе®‰е…ЁжЋ§е€¶пјЊе­ењЁз”Ёж€·AйЂљиї‡иґ­з‰©иЅ¦еѕ®жњЌеЉЎеђ‘еђЋз«Їеѕ®жњЌеЉЎеЏ‘иµ·дёЂдёЄиЋ·еЏ–з”Ёж€·BеЋ†еЏІиґ­з‰©ж•°жЌ®иЇ·ж±‚зљ„йЈЋй™©гЂ‚е› дёєеђЋз«Їзљ„еѕ®жњЌеЉЎе№¶дёЌиѓЅеѕ—зџҐеЏ‘иµ·иЇ·ж±‚зљ„жЇе“ЄдёЂдёЄз”Ёж€·пјЊе› ж­¤дјљдёЌеЉ е€¤ж–­ењ°иї”е›ћиґ­з‰©иЅ¦еѕ®жњЌеЉЎиЇ·ж±‚зљ„з”Ёж€·еЋ†еЏІиґ­з‰©ж•°жЌ®гЂ‚

и§Је†іж–№жЎ€жЇе°†з”Ёж€·дїЎжЃЇд»Ћз”Ёж€·з›ґжЋҐи®їй—®зљ„з¬¬дёЂдёЄеѕ®жњЌеЉЎеђ‘еђЋдј йЂ’е€°и°ѓз”Ёй“ѕдёЉзљ„жЇЏдёЂдёЄеѕ®жњЌеЉЎпјЊи°ѓз”Ёй“ѕдёЉзљ„жЇЏдёЂдёЄеѕ®жњЌеЉЎйѓЅдЅїз”ЁиЇҐз”Ёж€·дїЎжЃЇеЇ№з”Ёж€·иѓЅи®їй—®зљ„иµ„жєђиї›иЎЊе€¤ж–­гЂ‚ењЁдёЂдёЄе¤§ећ‹зљ„еѕ®жњЌеЉЎзі»з»џдё­пјЊдёЂдёЄи°ѓз”Ёй“ѕеЏЇиѓЅдјљйќћеёёй•їпјЊеЇји‡ґиЇҐж–№жЎ€зљ„е®ћзЋ°жЇ”иѕѓе¤Ќжќ‚гЂ‚

ж€‘д»¬йњЂи¦Ѓж №жЌ®еє”з”Ёзљ„дЅїз”Ёењєж™ЇпјЊжЇЏдёЄеѕ®жњЌеЉЎдё­ж•°жЌ®зљ„ж•Џж„џзЁ‹еє¦жќҐе†іе®љйЂ‰ж‹©е“ЄдёЂз§ЌжњЌеЉЎй—ґе®‰е…Ёзљ„е®ћж–Ѕж–№ејЏгЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-05-24-set_up_my_ubuntu_desktop.md

---
layout:     post
title:      "Everything about Setting Up My Ubuntu Desktop"
description: "Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later"
excerpt: "Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later"
date:    2018-05-24
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-23-service_2_service_auth/background.jpg"
publishDate: 2018-05-24
tags:
    - ubuntu 
URL: "/2018/05/24/set_up_my_ubuntu_desktop/"
categories: [ "Tips" ]    
---

## Generate SSH Key Pair

```
ssh-keygen -C "zhaohuabing@gmail.com"
```

## Shadowsocks

Install shadowsokcs    

```
sudo apt-get install python3-pip

sudo pip3 install shadowsocks
```

Create config at ```config/shadowsocks.json```, with the following content:    

```
{
	"server":"remote-shadowsocks-server-ip-addr",
	"server_port":443,
	"local_address":"127.0.0.1",
	"local_port":1080,
	"password":"your-passwd",
	"timeout":300,
	"method":"aes-256-cfb",
	"fast_open":false,
	"workers":1
}
```

Start a local socks proxy 

```
sudo sslocal -c config/shadowsocks.json -d start
```

In case there is an openssl error, modify shadowsocks source file.

```
sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py 

:%s/cleanup/reset/gc
```

Convert shadowsocks socks proxy to http proxy

```
sudo apt-get install polipo

echo "socksParentProxy = localhost:1080" | sudo tee -a /etc/polipo/config 
sudo service polipo restart
```

Http proxy now is available at port 8123

# Set bing wallpaper as desktop background

```
sudo add-apt-repository ppa:whizzzkid/bingwallpaper
sudo apt-get update
sudo apt-get install bingwallpaper
```

# Use vim mode in bash

```
echo 'set -o vi'>> ~/.bashrc
```


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-06-02-istio08.md

---
layout:     post

title:      "Istio 0.8 ReleaseеЏ‘еёѓ"
subtitle:   "жќҐи‡ЄIstioзљ„е„їз«ҐиЉ‚з¤јз‰©"
excerpt: "Istio 0.8 Releaseж–°з‰№жЂ§"
author: В  В  "иµµеЊ–е†°"
date:       2018-06-02
description: "ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ"
image: "/img/2018-06-02-istio08/background.jpg"
publishDate: 2018-06-02
tags:
    - Istio 

categories: [ Tech ]
URL: "/2018/06/02/istio08/"
---

> ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ
<!--more-->
## Networking

### ж”№иї›зљ„жµЃй‡Џз®Ўзђ†жЁЎећ‹
0.8з‰€жњ¬й‡‡з”Ёдє†ж–°зљ„жµЃй‡Џз®Ўзђ†й…ЌзЅ®жЁЎећ‹[v1alpha3 Route API](https://istio.io/blog/2018/v1alpha3-routing/)гЂ‚ж–°з‰€жњ¬зљ„жЁЎећ‹ж·»еЉ дє†дёЂдє›ж–°зљ„з‰№жЂ§пјЊе№¶ж”№е–„дє†д№‹е‰Ќз‰€жњ¬жЁЎећ‹дё­зљ„еЏЇз”ЁжЂ§й—®йўгЂ‚дё»и¦Ѓзљ„ж”№еЉЁеЊ…ж‹¬пјљ

#### Gateway
ж–°з‰€жњ¬дё­дёЌе†ЌдЅїз”ЁK8sдё­зљ„IngressпјЊиЅ¬иЂЊй‡‡з”ЁGatewayжќҐз»џдёЂй…ЌзЅ®Service Meshдё­зљ„еђ„дёЄHTTP/TCPиґџиЅЅеќ‡иЎЎе™ЁгЂ‚GatewayеЏЇд»ҐжЇе¤„зђ†е…ҐеЏЈжµЃй‡Џзљ„Ingress GatewayпјЊиґџиґЈService Meshе†…йѓЁеђ„дёЄжњЌеЉЎй—ґйЂљдїЎзљ„Sidecar ProxyпјЊд№џеЏЇд»ҐжЇиґџиґЈе‡єеЏЈжµЃй‡Џзљ„Egress GatewayгЂ‚

Meshдё­ж¶‰еЏЉе€°зљ„дё‰з±»Gateway:    
![Gateway](/img/2018-06-02-istio08/gateways.svg)    

иЇҐеЏеЊ–зљ„еЋџе› жЇK8sдё­зљ„IngressеЇ№и±ЎеЉџиѓЅиї‡дєЋз®ЂеЌ•пјЊдёЌиѓЅж»Ўи¶іIstioзЃµжґ»зљ„и·Їз”±и§„е€™йњЂж±‚гЂ‚ењЁ0.8з‰€жњ¬дё­пјЊL4-L6зљ„й…ЌзЅ®е’ЊL7зљ„й…ЌзЅ®иў«е€†е€«е¤„зђ†пјЊGatewayдё­еЏЄй…ЌзЅ®L4-L6зљ„еЉџиѓЅпјЊдѕ‹е¦‚жљґйњІзљ„з«ЇеЏЈпјЊTLSи®ѕзЅ®гЂ‚з„¶еђЋз”Ёж€·еЏЇд»Ґй‡‡з”ЁVirtualServiceжќҐй…ЌзЅ®ж ‡е‡†зљ„Istioи§„е€™пјЊе№¶е’ЊGatewayиї›иЎЊз»‘е®љгЂ‚


#### VirtualService

й‡‡з”ЁVirtualServiceд»Јж›їдє†alpha2жЁЎећ‹дё­зљ„RouteRuleгЂ‚й‡‡з”ЁVirtualServiceжњ‰дё¤дёЄдјеЉїпјљ

**еЏЇд»ҐжЉЉдёЂдёЄжњЌеЉЎз›ёе…ізљ„и§„е€™ж”ѕењЁдёЂиµ·з®Ўзђ†**

дѕ‹е¦‚дё‹йќўзљ„и·Їз”±и§„е€™пјЊеЏ‘еђ‘reviewsзљ„иЇ·ж±‚жµЃй‡ЏзјєзњЃdestinationдёєv1пјЊе¦‚жћњuserдёєjasonе€™и·Їз”±е€°v2гЂ‚ењЁv1жЁЎећ‹дё­йњЂи¦Ѓй‡‡з”Ёдё¤жќЎи§„е€™жќҐе®ћзЋ°пјЊй‡‡з”ЁVirtualServiceеђЋж”ѕе€°дёЂдёЄи§„е€™дё‹е°±еЏЇд»Ґе®ћзЋ°гЂ‚
```
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: reviews
spec:
  hosts:
    - reviews
  http:
  - match:
    - headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
    route:
    - destination:
        host: reviews
        subset: v2
  - route:
    - destination:
        host: reviews
        subset: v1
```

**еЏЇд»ҐеЇ№е¤–жљґйњІдёЂдёЄе№¶дёЌе­ењЁзљ„вЂњи™љж‹џжњЌеЉЎвЂќпјЊз„¶еђЋе°†иЇҐвЂњи™љж‹џжњЌеЉЎвЂќж е°„е€°Istioдё­зљ„ServiceдёЉ**

дё‹йќўи§„е€™дё­зљ„bookinfo.comжЇеЇ№е¤–жљґйњІзљ„вЂњи™љж‹џжњЌеЉЎвЂќпјЊbookinfo.com/reviewsиў«ж е°„е€°дє†reviewsжњЌеЉЎпјЊbookinfo.com/ratingsиў«ж е°„е€°дє†ratingsжњЌеЉЎгЂ‚йЂљиї‡й‡‡з”ЁVirtualServiceпјЊжћЃе¤§ењ°еўћејєдє†Istioи·Їз”±и§„е€™зљ„зЃµжґ»жЂ§пјЊжњ‰е€©дєЋLegacyзі»з»џе’ЊIstioзљ„й›†ж€ђгЂ‚
```
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    - destination:
        host: reviews
  - match:
    - uri:
        prefix: /ratings
    route:
    - destination:
        host: ratings
  ...
```

### Envoy V2
жЋ§е€¶йќўе’Њж•°жЌ®йќўж ‡е‡†жЋҐеЏЈж”ЇжЊЃEnvoy 

### з”ЁGatewayд»Јж›ї Ingress/Engress
е‰Ќйќўе·Із»Џд»‹з»Ќе€°пјЊж–°зљ„з‰€жњ¬дё­дёЌе†Ќж”ЇжЊЃе°†Kubernetesзљ„Ingressе’ЊIstioи·Їз”±и§„е€™дёЂиµ·дЅїз”ЁгЂ‚Istio 0.8ж”ЇжЊЃе№іеЏ°ж— е…ізљ„ Ingress/Egress Gateway,еЏЇд»ҐењЁKubernetesпјЊCloud Foundryдё­е’ЊIstioи·Їз”±и§„е€™ж— зјќй›†ж€ђгЂ‚

### еЇ№е…Ґз«™з«ЇеЏЈиї›иЎЊй™ђе€¶
0.8з‰€жњ¬еЏЄе…Ѓи®ёи®їй—®Podе†…е·ІеЈ°жЋз«ЇеЏЈзљ„е…Ґз«™жµЃй‡ЏгЂ‚

## Security
### е®‰е…Ёз»„д»¶Citadel
е°†Istioзљ„е®‰е…Ёз»„д»¶Istio-Auth/Istio-CAж­ЈејЏе‘ЅеђЌдёєCitadelпј€е Ўећ’пј‰гЂ‚

### и·Ёй›†зѕ¤ж”ЇжЊЃ
йѓЁзЅІењЁе¤љдёЄClusterдё­зљ„CitadelеЏЇд»Ґе…±дє«еђЊдёЂRoot CertificateпјЊд»Ґж”ЇжЊЃдёЌеђЊClusterе†…зљ„жњЌеЉЎеЏЇд»Ґи·ЁClusterиї›иЎЊи®¤иЇЃгЂ‚

### и®¤иЇЃз­–з•Ґ 
и®¤иЇЃз­–з•Ґж—ўж”ЇжЊЃService-to-Serviceи®¤иЇЃпјЊд№џж”ЇжЊЃеЇ№з»€з«Їз”Ёж€·иї›иЎЊи®¤иЇЃгЂ‚

## йЃҐжµ‹
Mixerе’ЊPilotе°†дёЉжЉҐи‡Єиє«зљ„йЃҐжµ‹ж•°жЌ®пјЊе…¶дёЉжЉҐзљ„жµЃзЁ‹е’ЊMeshдё­зљ„ж™®йЂљжњЌеЉЎз›ёеђЊгЂ‚

## е®‰иЈ…
жЊ‰йњЂе®‰иЈ…йѓЁе€†з»„д»¶пјљж”ЇжЊЃеЏЄе®‰иЈ…ж‰ЂйњЂзљ„з»„д»¶пјЊе¦‚жћњеЏЄйњЂи¦ЃдЅїз”ЁIstioзљ„и·Їз”±и§„е€™пјЊеЏЇд»ҐйЂ‰ж‹©еЏЄе®‰иЈ…PilotпјЊиЂЊдёЌе®‰иЈ…Mixerе’ЊCitadelгЂ‚

## Mixer
CloudWatchпјљеўћеЉ дє†дёЂдёЄCloudWatchжЏ’д»¶пјЊеЏЇд»Ґеђ‘AWS CloudWatchдёЉжЉҐеє¦й‡Џж•°жЌ®гЂ‚

## е·ІзџҐж•…йљњпјљ
* е¦‚жћњGatewayз»‘е®љзљ„VirtualServiceжЊ‡еђ‘зљ„жЇheadless serviceпјЊе€™иЇҐи§„е€™дёЌиѓЅж­Јеёёе·ҐдЅњгЂ‚
* 0.8з‰€жњ¬е’ЊKubernetes1.10.2е­ењЁе…је®№й—®йўпјЊз›®е‰Ќе»єи®®й‡‡з”Ё1.9з‰€жњ¬гЂ‚
* convert-networking-configе·Ґе…·е­ењЁж•…йљњпјЊдёЂдёЄе…¶е®ѓзљ„namespaceеЏЇиѓЅдјљиў«дї®ж”№дёєistio-system namespaceгЂ‚еЏЇд»ҐењЁе…Ѓи®ёиЅ¬жЌўе·Ґе…·еђЋж‰‹еЉЁдї®ж”№ж–‡д»¶жќҐйЃїе…ЌгЂ‚

## жЂ»з»“
0.8з‰€жњ¬её¦жќҐзљ„жњЂе¤§еЏеЊ–жЇжµЃй‡Џй…ЌзЅ®жЁЎећ‹зљ„й‡Ќжћ„пјЊй‡Ќжћ„еђЋзљ„жЁЎећ‹ж•ґеђ€дє†е¤–йѓЁGatewayе’Ње†…йѓЁSidecar Proxyзљ„и·Їз”±й…ЌзЅ®гЂ‚еђЊж—¶VirtualServiceзљ„еј•е…ҐдЅїи·Їз”±и§„е€™зљ„й…ЌзЅ®ж›ґдёєй›†дё­е’ЊзЃµжґ»гЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\2018-06-04-introducing-the-istio-v1alpha3-routing-api.md

---
showonlyimage: true
title:      "Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰"
subtitle:   ""
excerpt: "д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™"
description: "д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™"
date:       2018-06-04
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/background.jpg"
publishDate: 2018-06-04
tags:
    - Istio 

categories: [ Tech ]
URL: "/2018/06/04/introducing-the-istio-v1alpha3-routing-api/"
---

е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚

<!--more-->
и™Ѕз„¶з›®е‰ЌAPIзљ„еЉџиѓЅе·Іиў«иЇЃжЋжЇIstioйќћеёёеј•дєєжіЁз›®зљ„дёЂйѓЁе€†пјЊдЅ†з”Ёж€·зљ„еЏЌй¦€д№џиЎЁжЋпјЊиї™дёЄAPIзЎ®е®ћжњ‰дёЂдє›зјєз‚№пјЊе°¤е…¶жЇењЁдЅїз”Ёе®ѓжќҐз®Ўзђ†еЊ…еђ«ж•°еЌѓдёЄжњЌеЉЎзљ„йќћеёёе¤§зљ„еє”з”ЁзЁ‹еєЏпјЊд»ҐеЏЉдЅїз”ЁHTTPд»Ґе¤–зљ„еЌЏи®®ж—¶гЂ‚ ж­¤е¤–пјЊдЅїз”ЁKubernetes Ingressиµ„жєђжќҐй…ЌзЅ®е¤–йѓЁжµЃй‡Џзљ„ж–№ејЏе·Іиў«иЇЃжЋдёЌиѓЅж»Ўи¶ійњЂж±‚гЂ‚

дёєдє†и§Је†ідёЉиї°зјєй™·е’Ње…¶д»–зљ„дёЂдє›й—®йўпјЊIstioеј•е…Ґдє†ж–°зљ„жµЃй‡Џз®Ўзђ†API v1alpha3пјЊж–°з‰€жњ¬зљ„APIе°†е®Ње…ЁеЏ–д»Јд№‹е‰Ќзљ„APIгЂ‚ е°Ѕз®Ўv1alpha3е’Њд№‹е‰Ќзљ„жЁЎећ‹ењЁжњ¬иґЁдёЉжЇеџєжњ¬з›ёеђЊзљ„пјЊдЅ†е®ѓе№¶дёЌеђ‘еђЋе…је®№зљ„пјЊеџєдєЋж—§APIзљ„жЁЎећ‹йњЂи¦Ѓиї›иЎЊж‰‹еЉЁиЅ¬жЌўгЂ‚ IstioжЋҐдё‹жќҐзљ„е‡ дёЄз‰€жњ¬дё­дјљжЏђдѕ›дёЂдёЄж–°ж—§жЁЎећ‹зљ„иЅ¬жЌўе·Ґе…·гЂ‚


дёєдє†иЇЃжЋиЇҐйќће…је®№еЌ‡зє§зљ„еї…и¦ЃжЂ§пјЊv1alpha3 APIз»ЏеЋ†дє†жј«й•їиЂЊи‰°и‹¦зљ„з¤ѕеЊєиЇ„дј°иї‡зЁ‹пјЊд»ҐеёЊжњ›ж–°зљ„APIиѓЅе¤џе¤§е№…ж”№иї›пјЊе№¶з»Џеѕ—иµ·ж—¶й—ґиЂѓйЄЊгЂ‚ ењЁжњ¬ж–‡дё­пјЊж€‘д»¬е°†д»‹з»Ќж–°зљ„й…ЌзЅ®жЁЎећ‹пјЊе№¶иЇ•е›ѕи§Јй‡Ље…¶еђЋйќўзљ„дёЂдє›еЉЁжњєе’Њи®ѕи®ЎеЋџе€™гЂ‚

## и®ѕи®ЎеЋџе€™
и·Їз”±жЁЎећ‹зљ„й‡Ќжћ„иї‡зЁ‹дё­йЃµеѕЄдє†дёЂдє›е…ій”®зљ„и®ѕи®ЎеЋџе€™пјљ

* й™¤ж”ЇжЊЃеЈ°жЋејЏпј€ж„Џе›ѕпј‰й…ЌзЅ®е¤–пјЊд№џж”ЇжЊЃжѕејЏжЊ‡е®љжЁЎећ‹дѕќиµ–зљ„еџєзЎЂи®ѕж–ЅгЂ‚дѕ‹е¦‚пјЊй™¤дє†й…ЌзЅ®е…ҐеЏЈзЅ‘е…іпј€зљ„еЉџиѓЅз‰№жЂ§пј‰д№‹е¤–пјЊиґџиґЈе®ћзЋ° е…ҐеЏЈзЅ‘е…іеЉџиѓЅзљ„з»„д»¶пј€Controllerпј‰д№џеЏЇд»ҐењЁжЁЎећ‹жЊ‡е®љгЂ‚
* зј–е†™жЁЎећ‹ж—¶еє”иЇҐвЂњз”џдє§иЂ…еЇјеђ‘вЂќе’ЊвЂњд»ҐHostдёєдё­еїѓвЂќпјЊиЂЊдёЌжЇйЂљиї‡з»„еђ€е¤љдёЄи§„е€™жќҐзј–е†™жЁЎећ‹гЂ‚ дѕ‹е¦‚пјЊж‰Ђжњ‰дёЋз‰№е®љHostе…іиЃ”зљ„и§„е€™иў«й…ЌзЅ®ењЁдёЂиµ·пјЊиЂЊдёЌжЇеЌ•з‹¬й…ЌзЅ®гЂ‚
* е°†и·Їз”±дёЋи·Їз”±еђЋиЎЊдёєжё…ж™°е€†ејЂгЂ‚

## v1alpha3дё­зљ„й…ЌзЅ®иµ„жєђ

ењЁдёЂдёЄе…ёећ‹зљ„зЅ‘ж јдё­пјЊйЂљеёёжњ‰дёЂдёЄж€–е¤љдёЄз”ЁдєЋз»€з»“е¤–йѓЁTLSй“ѕжЋҐпјЊе°†жµЃй‡Џеј•е…ҐзЅ‘ж јзљ„иґџиЅЅеќ‡иЎЎе™Ёпј€ж€‘д»¬з§°д№‹дёєgatewayпј‰гЂ‚ з„¶еђЋжµЃй‡ЏйЂљиї‡иѕ№иЅ¦зЅ‘е…іпј€sidecar gatewayпј‰жµЃз»Џе†…йѓЁжњЌеЉЎгЂ‚ еє”з”ЁзЁ‹еєЏдЅїз”Ёе¤–йѓЁжњЌеЉЎзљ„жѓ…е†µд№џеѕ€еёёи§Ѓпј€дѕ‹е¦‚и®їй—®Google Maps APIпј‰пјЊдёЂдє›жѓ…е†µдё‹пјЊиї™дє›е¤–йѓЁжњЌеЉЎеЏЇиѓЅиў«з›ґжЋҐи°ѓз”Ёпј›дЅ†ењЁжџђдє›йѓЁзЅІдё­пјЊзЅ‘ж јдё­ж‰Ђжњ‰и®їй—®е¤–йѓЁжњЌеЉЎзљ„жµЃй‡ЏеЏЇиѓЅиў«и¦Ѓж±‚ејєе€¶йЂљиї‡дё“з”Ёзљ„е‡єеЏЈзЅ‘е…іпј€Egress gatewayпј‰гЂ‚ дё‹е›ѕжЏЏз»дє†зЅ‘е…іењЁзЅ‘ж јдё­зљ„дЅїз”Ёжѓ…е†µгЂ‚

![Gateway](/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/gateways.svg)

иЂѓи™‘е€°дёЉиї°е› зґ пјЊ`v1alpha3`еј•е…Ґдє†д»Ґдё‹иї™дє›ж–°зљ„й…ЌзЅ®иµ„жєђжќҐжЋ§е€¶иї›е…ҐзЅ‘ж јпјЊзЅ‘ж је†…йѓЁе’Њз¦»ејЂзЅ‘ж јзљ„жµЃй‡Џи·Їз”±гЂ‚

1. `Gateway`
1. `VirtualService`
1. `DestinationRule`
1. `ServiceEntry`

`VirtualService`пјЊ`DestinationRule`е’Њ`ServiceEntry`е€†е€«ж›їжЌўдє†еЋџAPIдё­зљ„`RouteRule`пјЊ`DestinationPolicy`е’Њ`EgressRule`гЂ‚ `Gateway`жЇдёЂдёЄз‹¬з«‹дєЋе№іеЏ°зљ„жЉЅи±ЎпјЊз”ЁдєЋеЇ№жµЃе…Ґдё“з”Ёдё­й—ґи®ѕе¤‡зљ„жµЃй‡Џиї›иЎЊе»єжЁЎгЂ‚

дё‹е›ѕжЏЏиї°дє†и·Ёе¤љдёЄй…ЌзЅ®иµ„жєђзљ„жЋ§е€¶жµЃзЁ‹гЂ‚
![дёЌеђЊй…ЌзЅ®иµ„жєђд№‹й—ґзљ„е…ізі»](/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/virtualservices-destrules.svg)

### Gateway
[Gateway](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#Gateway)з”ЁдєЋдёєHTTP / TCPжµЃй‡Џй…ЌзЅ®иґџиЅЅеќ‡иЎЎе™ЁпјЊе№¶дёЌз®ЎиЇҐиґџиЅЅеќ‡иЎЎе™Ёе°†ењЁе“Єй‡ЊиїђиЎЊгЂ‚ зЅ‘ж јдё­еЏЇд»Ґе­ењЁд»»ж„Џж•°й‡Џзљ„GatewayпјЊе№¶дё”е¤љдёЄдёЌеђЊзљ„Gatewayе®ћзЋ°еЏЇд»Ґе…±е­гЂ‚ е®ћй™…дёЉпјЊйЂљиї‡ењЁй…ЌзЅ®дё­жЊ‡е®љдёЂз»„е·ҐдЅњиґџиЅЅпј€Podпј‰ж ‡з­ѕпјЊеЏЇд»Ґе°†Gatewayй…ЌзЅ®з»‘е®ље€°з‰№е®љзљ„е·ҐдЅњиґџиЅЅпјЊд»ЋиЂЊе…Ѓи®ёз”Ёж€·йЂљиї‡зј–е†™з®ЂеЌ•зљ„Gateway ControllerжќҐй‡Ќз”ЁзЋ°ж€ђзљ„зЅ‘з»њи®ѕе¤‡гЂ‚

еЇ№дєЋе…ҐеЏЈжµЃй‡Џз®Ўзђ†пјЊж‚ЁеЏЇиѓЅдјљй—®пјљ дёєд»Ђд№€дёЌз›ґжЋҐдЅїз”ЁKubernetes Ingress API пјџ еЋџе› жЇIngress APIж— жі•иЎЁиѕѕIstioзљ„и·Їз”±йњЂж±‚гЂ‚ IngressиЇ•е›ѕењЁдёЌеђЊзљ„HTTPд»Јзђ†д№‹й—ґеЏ–дёЂдёЄе…¬е…±зљ„дє¤й›†пјЊе› ж­¤еЏЄиѓЅж”ЇжЊЃжњЂеџєжњ¬зљ„HTTPи·Їз”±пјЊжњЂз»€еЇји‡ґйњЂи¦Ѓе°†д»Јзђ†зљ„е…¶д»–й«зє§еЉџиѓЅж”ѕе…Ґе€°жіЁи§Јпј€annotationпј‰дё­пјЊиЂЊжіЁи§Јзљ„ж–№ејЏењЁе¤љдёЄд»Јзђ†д№‹й—ґжЇдёЌе…је®№зљ„пјЊж— жі•з§»ж¤ЌгЂ‚

Istio `Gateway` йЂљиї‡е°†L4-L6й…ЌзЅ®дёЋL7й…ЌзЅ®е€†з¦»зљ„ж–№ејЏе…‹жњЌдє†`Ingress`зљ„иї™дє›зјєз‚№гЂ‚ `Gateway`еЏЄз”ЁдєЋй…ЌзЅ®L4-L6еЉџиѓЅпј€дѕ‹е¦‚пјЊеЇ№е¤–е…¬ејЂзљ„з«ЇеЏЈпјЊTLSй…ЌзЅ®пј‰пјЊж‰Ђжњ‰дё»жµЃзљ„L7д»Јзђ†еќ‡д»Ґз»џдёЂзљ„ж–№ејЏе®ћзЋ°дє†иї™дє›еЉџиѓЅгЂ‚ з„¶еђЋпјЊйЂљиї‡ењЁ`Gateway`дёЉз»‘е®љ`VirtualService`зљ„ж–№ејЏпјЊеЏЇд»ҐдЅїз”Ёж ‡е‡†зљ„Istioи§„е€™жќҐжЋ§е€¶иї›е…Ґ`Gateway`зљ„HTTPе’ЊTCPжµЃй‡ЏгЂ‚

дѕ‹е¦‚пјЊдё‹йќўиї™дёЄз®ЂеЌ•зљ„`Gateway`й…ЌзЅ®дє†дёЂдёЄLoad BalancerпјЊд»Ґе…Ѓи®ёи®їй—®host bookinfo.comзљ„httpsе¤–йѓЁжµЃй‡Џе…Ґmeshдё­пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: bookinfo-gateway
spec:
  servers:
  - port:
      number: 443
      name: https
      protocol: HTTPS
    hosts:
    - bookinfo.com
    tls:
      mode: SIMPLE
      serverCertificate: /tmp/tls.crt
      privateKey: /tmp/tls.key
```

и¦Ѓдёєиї›е…ҐдёЉйќўзљ„Gatewayзљ„жµЃй‡Џй…ЌзЅ®з›ёеє”зљ„и·Їз”±пјЊеї…йЎ»дёєеђЊдёЂдёЄhostе®љд№‰дёЂдёЄ`VirtualService`пј€ењЁдё‹дёЂиЉ‚дё­жЏЏиї°пј‰пјЊе№¶дЅїз”Ёй…ЌзЅ®дё­зљ„`gateways`е­—ж®µз»‘е®ље€°е‰Ќйќўе®љд№‰зљ„`Gateway` дёЉпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  gateways:
  - bookinfo-gateway # <---- bind to gateway
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    ...
```
GatewayеЏЇд»Ґз”ЁдєЋе»єжЁЎиѕ№зјд»Јзђ†ж€–зєЇзІ№зљ„е†…йѓЁд»Јзђ†пјЊе¦‚з¬¬дёЂеј е›ѕж‰Ђз¤єгЂ‚ ж— и®єењЁе“ЄдёЄдЅЌзЅ®пјЊж‰Ђжњ‰зЅ‘е…ійѓЅеЏЇд»Ґз”Ёз›ёеђЊзљ„ж–№ејЏиї›иЎЊй…ЌзЅ®е’ЊжЋ§е€¶гЂ‚

### VirtualService
з”ЁдёЂз§ЌеЏ«еЃљвЂњVirtual servicesвЂќзљ„дёњиҐїд»Јж›їи·Їз”±и§„е€™еЏЇиѓЅзњ‹иµ·жќҐжњ‰з‚№еҐ‡жЂЄпјЊдЅ†еЇ№дєЋе®ѓй…ЌзЅ®зљ„е†…е®№иЂЊиЁЂпјЊиї™дє‹е®ћдёЉжЇдёЂдёЄж›ґеҐЅзљ„еђЌз§°пјЊз‰№е€«жЇењЁй‡Ќж–°и®ѕи®ЎAPIд»Ґи§Је†іе…€е‰ЌжЁЎећ‹зљ„еЏЇж‰©е±•жЂ§й—®йўд№‹еђЋгЂ‚

е®ћй™…дёЉпјЊеЏ‘з”џзљ„еЏеЊ–жЇпјљењЁд№‹е‰Ќзљ„жЁЎећ‹дё­пјЊйњЂи¦Ѓз”ЁдёЂз»„з›ёдє’з‹¬з«‹зљ„й…ЌзЅ®и§„е€™жќҐдёєз‰№е®љзљ„з›®зљ„жњЌеЉЎи®ѕзЅ®и·Їз”±и§„е€™пјЊе№¶йЂљиї‡precedenceе­—ж®µжќҐжЋ§е€¶иї™дє›и§„е€™зљ„йЎєеєЏпј›ењЁж–°зљ„APIдё­пјЊе€™з›ґжЋҐеЇ№пј€и™љж‹џпј‰жњЌеЉЎиї›иЎЊй…ЌзЅ®пјЊиЇҐи™љж‹џжњЌеЉЎзљ„ж‰Ђжњ‰и§„е€™д»ҐдёЂдёЄжњ‰еєЏе€—иЎЁзљ„ж–№ејЏй…ЌзЅ®ењЁеЇ№еє”зљ„[VirtualService](/docs/reference/config/istio.networking.v1alpha3/#VirtualService) иµ„жєђдё­гЂ‚

дѕ‹е¦‚пјЊд№‹е‰ЌењЁ[Bookinfo](/docs/guides/bookinfo/) еє”з”ЁзЁ‹еєЏзљ„reviewsжњЌеЉЎдё­жњ‰дё¤дёЄRouteRuleиµ„жєђпјЊе¦‚дё‹ж‰Ђз¤єпјљ

```yaml
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
---
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-test-v2
spec:
  destination:
    name: reviews
  precedence: 2
  match:
    request:
      headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
  route:
  - labels:
      version: v2
```

ењЁ`v1alph3`пјЊеЏЇд»ҐењЁеЌ•дёЄ`VirtualService`иµ„жєђдё­жЏђдѕ›з›ёеђЊзљ„й…ЌзЅ®пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: reviews
spec:
  hosts:
    - reviews
  http:
  - match:
    - headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
    route:
    - destination:
        host: reviews
        subset: v2
  - route:
    - destination:
        host: reviews
        subset: v1
```
ж­Је¦‚дЅ ж‰Ђзњ‹е€°зљ„пјЊ е’ЊreviewsжњЌеЉЎз›ёе…ізљ„дё¤дёЄи§„е€™й›†дё­е†™ењЁдє†дёЂдёЄењ°ж–№гЂ‚иї™дёЄж”№еЏд№ЌдёЂзњ‹еЏЇиѓЅи§‰еѕ—е№¶жІЎжњ‰д»Ђд№€з‰№е€«зљ„дјеЉїпјЊ з„¶иЂЊпјЊе¦‚жћњд»”з»†и§‚еЇџиї™дёЄж–°жЁЎећ‹пјЊдјљеЏ‘зЋ°е®ѓе’Њд№‹е‰Ќзљ„APIд№‹й—ґе­ењЁзќЂж №жњ¬зљ„е·®еј‚пјЊиї™дЅїеѕ—v1alpha3еЉџиѓЅж›ґеЉ ејєе¤§гЂ‚

й¦–е…€пјЊиЇ·жіЁж„Џ`VirtualService`зљ„з›®ж ‡жњЌеЉЎжЇдЅїз”Ё`hosts`е­—ж®µпј€е®ћй™…дёЉжЇй‡Ќе¤Ќе­—ж®µпј‰жЊ‡е®љзљ„пјЊз„¶еђЋе†ЌењЁжЇЏдёЄи·Їз”±зљ„`destination`е­—ж®µдё­жЊ‡е®љгЂ‚ иї™жЇдёЋд»Ґе‰ЌжЁЎећ‹зљ„й‡Ќи¦ЃеЊєе€«гЂ‚

`VirtualService`жЏЏиї°дє†дёЂдёЄж€–е¤љдёЄз”Ёж€·еЏЇеЇ»еќЂз›®ж ‡е€°зЅ‘ж је†…е®ћй™…е·ҐдЅњиґџиЅЅд№‹й—ґзљ„ж е°„гЂ‚ењЁдёЉйќўзљ„з¤єдѕ‹дё­пјЊиї™дё¤дёЄењ°еќЂжЇз›ёеђЊзљ„пјЊдЅ†е®ћй™…дёЉз”Ёж€·еЏЇеЇ»еќЂз›®ж ‡еЏЇд»ҐжЇд»»дЅ•з”ЁдєЋе®љдЅЌжњЌеЉЎзљ„пјЊе…·жњ‰еЏЇйЂ‰йЂљй…Ќз¬¦е‰ЌзјЂж€–CIDRе‰ЌзјЂзљ„DNSеђЌз§°гЂ‚
иї™еЇ№дєЋеє”з”Ёд»ЋеЌ•дЅ“жћ¶жћ„е€°еѕ®жњЌеЉЎжћ¶жћ„зљ„иїЃз§»иї‡зЁ‹з‰№е€«жњ‰з”ЁпјЊеЌ•дЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄз‹¬з«‹зљ„еѕ®жњЌеЉЎеђЋпјЊй‡‡з”ЁVirtaulServiceеЏЇд»Ґз»§з»­жЉЉе¤љдёЄеѕ®жњЌеЉЎеЇ№е¤–жљґйњІдёєеђЊдёЂдёЄз›®ж ‡ењ°еќЂпјЊиЂЊдёЌйњЂи¦ЃжњЌеЉЎж¶€иґ№иЂ…иї›иЎЊдї®ж”№д»ҐйЂ‚еє”иЇҐеЏеЊ–гЂ‚ 
 
дѕ‹е¦‚пјЊд»Ґдё‹и§„е€™е…Ѓи®ёжњЌеЉЎж¶€иґ№иЂ…и®їй—®Bookinfoеє”з”ЁзЁ‹еєЏзљ„reviewsе’ЊratingsжњЌеЉЎпјЊе°±еҐЅеѓЏе®ѓд»¬жЇ`http://bookinfo.com/`пј€и™љж‹џпј‰жњЌеЉЎзљ„дёЂйѓЁе€†пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    - destination:
        host: reviews
  - match:
    - uri:
        prefix: /ratings
    route:
    - destination:
        host: ratings
  ...
```
е®ћй™…дёЉењЁпЅЂVirtualServiceпЅЂдё­hostsйѓЁе€†и®ѕзЅ®еЏЄжЇи™љж‹џзљ„з›®зљ„ењ°,е› ж­¤дёЌдёЂе®љжЇе·ІењЁзЅ‘ж јдё­жіЁе†Њзљ„жњЌеЉЎгЂ‚иї™е…Ѓи®ёз”Ёж€·дёєењЁзЅ‘ж је†…жІЎжњ‰еЏЇи·Їз”±жќЎз›®зљ„и™љж‹џдё»жњєзљ„жµЃй‡Џиї›иЎЊе»єжЁЎгЂ‚ йЂљиї‡е°†`VirtualService`з»‘е®ље€°еђЊдёЂHostзљ„`Gateway`й…ЌзЅ®пј€е¦‚е‰ЌдёЂиЉ‚ж‰Ђиї° пј‰пјЊеЏЇеђ‘зЅ‘ж је¤–йѓЁжљґйњІиї™дє›HostгЂ‚

й™¤дє†иї™дёЄй‡Ќе¤§зљ„й‡Ќжћ„д№‹е¤–пјЊ `VirtualService`иїеЊ…ж‹¬е…¶д»–дёЂдє›й‡Ќи¦Ѓзљ„ж”№еЏпјљ

1. еЏЇд»ҐењЁ`VirtualService`й…ЌзЅ®дё­иЎЁз¤єе¤љдёЄеЊ№й…ЌжќЎд»¶пјЊд»ЋиЂЊе‡Џе°‘еЇ№е†—дЅ™зљ„и§„е€™и®ѕзЅ®гЂ‚

1. жЇЏдёЄжњЌеЉЎз‰€жњ¬йѓЅжњ‰дёЂдёЄеђЌз§°пј€з§°дёєжњЌеЉЎе­ђй›†пј‰гЂ‚ е±ћдєЋжџђдёЄе­ђй›†зљ„дёЂз»„Pod/VMењЁ`DestinationRule`е®љд№‰пјЊе…·дЅ“е®љд№‰еЏ‚и§Ѓдё‹иЉ‚гЂ‚

1. йЂљиї‡дЅїз”Ёеё¦йЂљй…Ќз¬¦е‰ЌзјЂзљ„DNSжќҐжЊ‡е®љ`VirtualService`зљ„hostпјЊеЏЇд»Ґе€›е»єеЌ•дёЄи§„е€™д»ҐдЅњз”ЁдєЋж‰Ђжњ‰еЊ№й…Ќзљ„жњЌеЉЎгЂ‚ дѕ‹е¦‚пјЊењЁKubernetesдё­пјЊењЁ'VirtualService'дё­дЅїз”Ё*.foo.svc.cluster.localдЅњдёєhost,еЏЇд»ҐеЇ№`foo`е‘ЅеђЌз©єй—ґдё­зљ„ж‰Ђжњ‰жњЌеЉЎеє”з”Ёз›ёеђЊзљ„й‡Ќе†™и§„е€™гЂ‚

### DestinationRule

[DestinationRule](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#DestinationRule)й…ЌзЅ®е°†жµЃй‡ЏиЅ¬еЏ‘е€°жњЌеЉЎж—¶еє”з”Ёзљ„з­–з•Ґй›†гЂ‚ иї™дє›з­–з•Ґеє”з”±з”±жњЌеЉЎжЏђдѕ›иЂ…ж’°е†™пјЊз”ЁдєЋжЏЏиї°ж–­и·Їе™ЁпјЊиґџиЅЅеќ‡иЎЎи®ѕзЅ®пјЊTLSи®ѕзЅ®з­‰гЂ‚
й™¤дє†дё‹иї°ж”№еЏе¤–пјЊ`DestinationRule`дёЋе…¶е‰Ќиє«`DestinationPolicy`е¤§и‡ґз›ёеђЊгЂ‚

1. [DestinationRule](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#DestinationRule)зљ„`host`еЏЇд»ҐеЊ…еђ«йЂљй…Ќз¬¦е‰ЌзјЂпјЊд»Ґе…Ѓи®ёеЌ•дёЄи§„е€™еє”з”ЁдєЋе¤љдёЄжњЌеЉЎгЂ‚
1. `DestinationRule`е®љд№‰дє†з›®зљ„hostзљ„е­ђй›†`subsets` пј€дѕ‹е¦‚пјље‘ЅеђЌз‰€жњ¬пј‰гЂ‚ иї™дє›subsetз”ЁдєЋпЅЂVirtualServiceпЅЂзљ„и·Їз”±и§„е€™и®ѕзЅ®дё­пјЊеЏЇд»Ґе°†жµЃй‡ЏеЇјеђ‘жњЌеЉЎзљ„жџђдє›з‰№е®љз‰€жњ¬гЂ‚ йЂљиї‡иї™з§Ќж–№ејЏдёєз‰€жњ¬е‘ЅеђЌеђЋпјЊеЏЇд»ҐењЁдёЌеђЊзљ„virtual serviceдё­жЋзЎ®ењ°еј•з”Ёиї™дє›е‘ЅеђЌз‰€жњ¬зљ„ubsetпјЊз®ЂеЊ–Istioд»Јзђ†еЏ‘е‡єзљ„з»џи®Ўж•°жЌ®пјЊе№¶еЏЇд»Ґе°†subsetsзј–з Ѓе€°SNIе¤ґдё­гЂ‚
дёєreviewsжњЌеЉЎй…ЌзЅ®з­–з•Ґе’Њsubsetsзљ„`DestinationRule`еЏЇиѓЅе¦‚дё‹ж‰Ђз¤єпјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: reviews
spec:
  host: reviews
  trafficPolicy:
    loadBalancer:
      simple: RANDOM
  subsets:
  - name: v1
    labels:
      version: v1
  - name: v2
    labels:
      version: v2
    trafficPolicy:
      loadBalancer:
        simple: ROUND_ROBIN
  - name: v3
    labels:
      version: v3
```

жіЁж„ЏпјЊдёЋ`DestinationPolicy`дёЌеђЊзљ„жЇпјЊеЏЇењЁеЌ•дёЄ`DestinationRule`дё­жЊ‡е®ље¤љдёЄз­–з•Ґпј€дѕ‹е¦‚дёЉйќўе®ћдѕ‹дё­зљ„зјєзњЃз­–з•Ґе’Њv2з‰€жњ¬з‰№е®љзљ„з­–з•Ґпј‰гЂ‚
### ServiceEntry

[ServiceEntry](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#ServiceEntry)з”ЁдєЋе°†й™„еЉ жќЎз›®ж·»еЉ е€°Istioе†…йѓЁз»ґжЉ¤зљ„жњЌеЉЎжіЁе†ЊиЎЁдё­гЂ‚
е®ѓжњЂеёёз”ЁдєЋеЇ№и®їй—®зЅ‘ж је¤–йѓЁдѕќиµ–зљ„жµЃй‡Џиї›иЎЊе»єжЁЎпјЊдѕ‹е¦‚и®їй—®WebдёЉзљ„APIж€–йЃ—з•™еџєзЎЂи®ѕж–Ѕдё­зљ„жњЌеЉЎгЂ‚

ж‰Ђжњ‰д»Ґе‰ЌдЅїз”Ё`EgressRule`иї›иЎЊй…ЌзЅ®зљ„е†…е®№йѓЅеЏЇд»ҐйЂљиї‡`ServiceEntry`иЅ»жќѕе®Њж€ђгЂ‚ дѕ‹е¦‚пјЊеЏЇд»ҐдЅїз”Ёз±»дјјиї™ж ·зљ„й…ЌзЅ®жќҐе…Ѓи®ёд»ЋзЅ‘ж је†…йѓЁи®їй—®дёЂдёЄз®ЂеЌ•зљ„е¤–йѓЁжњЌеЉЎпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: ServiceEntry
metadata:
  name: foo-ext
spec:
  hosts:
  - foo.com
  ports:
  - number: 80
    name: http
    protocol: HTTP
```
д№џе°±жЇиЇґпјЊ`ServiceEntry`жЇ”е®ѓзљ„е‰Ќиє«е…·жњ‰ж›ґе¤љзљ„еЉџиѓЅгЂ‚й¦–е…€пјЊ`ServiceEntry`дёЌй™ђдєЋе¤–йѓЁжњЌеЉЎй…ЌзЅ®пјЊе®ѓеЏЇд»Ґжњ‰дё¤з§Ќз±»ећ‹пјљзЅ‘ж је†…йѓЁж€–зЅ‘ж је¤–йѓЁгЂ‚зЅ‘ж је†…йѓЁжќЎз›®еЏЄжЇз”ЁдєЋеђ‘зЅ‘ж јжѕејЏж·»еЉ жњЌеЉЎпјЊж·»еЉ зљ„жњЌеЉЎдёЋе…¶д»–е†…йѓЁжњЌеЉЎдёЂж ·гЂ‚й‡‡з”ЁзЅ‘ж је†…йѓЁжќЎз›®пјЊеЏЇд»ҐжЉЉеЋџжњ¬жњЄиў«зЅ‘ж јз®Ўзђ†зљ„еџєзЎЂи®ѕж–Ѕд№џзєіе…Ґе€°зЅ‘ж јдё­пј€дѕ‹е¦‚пјЊжЉЉи™љжњєдё­зљ„жњЌеЉЎж·»еЉ е€°еџєдєЋKubernetesзљ„жњЌеЉЎзЅ‘ж јдё­пј‰гЂ‚зЅ‘ж је¤–йѓЁжќЎз›®е€™д»ЈиЎЁдє†зЅ‘ж је¤–йѓЁзљ„жњЌеЉЎгЂ‚еЇ№дєЋиї™дє›е¤–йѓЁжњЌеЉЎжќҐиЇґпјЊmTLSиє«д»ЅйЄЊиЇЃжЇз¦Ѓз”Ёзљ„пјЊе№¶дё”з­–з•ҐжЇењЁе®ўж€·з«Їж‰§иЎЊзљ„пјЊиЂЊдёЌжЇењЁеѓЏе†…йѓЁжњЌеЉЎиЇ·ж±‚дёЂж ·ењЁжњЌеЉЎе™Ёз«Їж‰§иЎЊз­–з•ҐгЂ‚

з”±дєЋ`ServiceEntry`й…ЌзЅ®еЏЄжЇе°†жњЌеЉЎж·»еЉ е€°зЅ‘ж је†…йѓЁзљ„жњЌеЉЎжіЁе†ЊиЎЁдё­пјЊе› ж­¤е®ѓеЏЇд»ҐеѓЏжіЁе†ЊиЎЁдё­зљ„д»»дЅ•е…¶д»–жњЌеЉЎдёЂж ·,дёЋ`VirtualService`е’Њ/ж€–`DestinationRule`дёЂиµ·дЅїз”ЁгЂ‚дѕ‹е¦‚пјЊд»Ґдё‹`DestinationRule`еЏЇз”ЁдєЋеђЇеЉЁе¤–йѓЁжњЌеЉЎзљ„mTLSиїћжЋҐпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: foo-ext
spec:
  name: foo.com
  trafficPolicy:
    tls:
      mode: MUTUAL
      clientCertificate: /etc/certs/myclientcert.pem
      privateKey: /etc/certs/client_private_key.pem
      caCertificates: /etc/certs/rootcacerts.pem
```
й™¤дє†ж‰©е±•йЂљз”ЁжЂ§д»Ґе¤–пјЊ`ServiceEntry`иїжЏђдѕ›дє†е…¶д»–дёЂдє›жњ‰е…і`EgressRule`ж”№иї›пјЊе…¶дё­еЊ…ж‹¬пјљ

1. дёЂдёЄ`ServiceEntry`еЏЇд»Ґй…ЌзЅ®е¤љдёЄжњЌеЉЎз«Їз‚№пјЊиї™ењЁд№‹е‰ЌйњЂи¦Ѓй‡‡з”Ёе¤љдёЄ`EgressRules`жќҐе®ћзЋ°гЂ‚
1. зЋ°ењЁеЏЇд»Ґй…ЌзЅ®жњЌеЉЎз«Їз‚№зљ„и§ЈжћђжЁЎејЏпј€`NONE`пјЊ`STATIC`ж€–`DNS`пј‰гЂ‚
1. ж­¤е¤–пјЊж€‘д»¬ж­ЈењЁеЉЄеЉ›и§Је†іеЏ¦дёЂдёЄйљѕйўпјљз›®е‰ЌйњЂи¦ЃйЂљиї‡зєЇж–‡жњ¬з«ЇеЏЈи®їй—®е®‰е…Ёзљ„е¤–йѓЁжњЌеЉЎпј€дѕ‹е¦‚`http://google.com:443`пј‰гЂ‚иЇҐй—®йўе°†дјљењЁжњЄжќҐе‡ е‘Ёе†…еѕ—е€°и§Је†іпјЊе±Љж—¶е°†е…Ѓи®ёд»Ћеє”з”ЁзЁ‹еєЏз›ґжЋҐи®їй—®`https://google.com`гЂ‚иЇ·з»§з»­е…іжіЁи§Је†іж­¤й™ђе€¶зљ„IstioиЎҐдёЃз‰€жњ¬пј€0.8.xпј‰гЂ‚

## е€›е»єе’Ње€ й™¤v1alpha3и·Їз”±и§„е€™
з”±дєЋдёЂдёЄз‰№е®љз›®зљ„ењ°зљ„ж‰Ђжњ‰и·Їз”±и§„е€™зЋ°ењЁйѓЅе­е‚ЁењЁеЌ•дёЄ`VirtualService`иµ„жєђзљ„дёЂдёЄжњ‰еєЏе€—иЎЁдё­пјЊе› ж­¤дёєиЇҐз›®зљ„ењ°ж·»еЉ ж–°зљ„и§„е€™дёЌйњЂи¦Ѓе†Ќе€›е»єж–°зљ„`RouteRule`пјЊиЂЊжЇйЂљиї‡ж›ґж–°иЇҐз›®зљ„ењ°зљ„`VirtualService`иµ„жєђжќҐе®ћзЋ°гЂ‚

ж—§зљ„и·Їз”±и§„е€™пјљ
```command
$ istioctl create -f my-second-rule-for-destination-abc.yaml
```
`v1alpha3`и·Їз”±и§„е€™пјљ
```command
$ istioctl replace -f my-updated-rules-for-destination-abc.yaml
```

е€ й™¤и·Їз”±и§„е€™д№џдЅїз”Ёistioctl replaceе®Њж€ђпјЊеЅ“з„¶е€ й™¤жњЂеђЋдёЂдёЄи·Їз”±и§„е€™й™¤е¤–пј€е€ й™¤жњЂеђЋдёЂдёЄи·Їз”±и§„е€™йњЂи¦Ѓе€ й™¤`VirtualService`пј‰гЂ‚

ењЁж·»еЉ ж€–е€ й™¤еј•з”ЁжњЌеЉЎз‰€жњ¬зљ„и·Їз”±ж—¶пјЊйњЂи¦ЃењЁиЇҐжњЌеЉЎз›ёеє”зљ„`DestinationRule`ж›ґж–°subsets гЂ‚ ж­Је¦‚дЅ еЏЇиѓЅзЊње€°зљ„пјЊиї™д№џжЇдЅїз”Ё`istioctl replace`е®Њж€ђзљ„гЂ‚

## жЂ»з»“
Istio `v1alpha3`и·Їз”±APIе…·жњ‰жЇ”е…¶е‰Ќиє«ж›ґе¤љзљ„еЉџиѓЅпјЊдЅ†дёЌе№ёзљ„жЇж–°зљ„APIе№¶дёЌеђ‘еђЋе…је®№пјЊж—§зљ„жЁЎећ‹еЌ‡зє§йњЂи¦ЃдёЂж¬Ўж‰‹еЉЁиЅ¬жЌўгЂ‚ Istio 0.9д»ҐеђЋе°†дёЌе†Ќж”ЇжЊЃ`RouteRule`пјЊ`DesintationPolicy`е’Њ`EgressRule`иї™дє›д»Ґе‰Ќзљ„й…ЌзЅ®иµ„жєђ гЂ‚Kubernetesз”Ёж€·еЏЇд»Ґз»§з»­дЅїз”Ё`Ingress`й…ЌзЅ®иѕ№зјиґџиЅЅеќ‡иЎЎе™ЁжќҐе®ћзЋ°еџєжњ¬зљ„и·Їз”±гЂ‚ дЅ†жЇпјЊй«зє§и·Їз”±еЉџиѓЅпј€дѕ‹е¦‚пјЊи·Ёдё¤дёЄз‰€жњ¬зљ„жµЃй‡Џе€†е‰Іпј‰е€™йњЂи¦ЃдЅї`з”ЁGateway` пјЊиї™жЇдёЂз§ЌеЉџиѓЅж›ґејєе¤§пјЊIstioжЋЁиЌђзљ„`Ingress`ж›їд»Је“ЃгЂ‚

## и‡ґи°ў
ж„џи°ўд»Ґдё‹дєєе‘дёєж–°з‰€жњ¬зљ„и·Їз”±жЁЎећ‹й‡Ќжћ„е’Ње®ћзЋ°е·ҐдЅњеЃље‡єзљ„иґЎзЊ®пј€жЊ‰е­—жЇЌйЎєеєЏпј‰

* Frank Budinsky (IBM)
* Zack Butcher (Google)
* Greg Hanson (IBM)
* Costin Manolache (Google)
* Martin Ostrowski (Google)
* Shriram Rajagopalan (VMware)
* Louis Ryan (Google)
* Isaiah Snell-Feikema (IBM)
* Kuat Yessenov (Google)

## еЋџж–‡ 

* [Introducing the Istio v1alpha3 routing API](https://kubernetes.io/blog/2018/01/extensible-admission-is-beta)


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\post\readme.md

---
layout:     post
title:      "Clean White Theme for Hugo"
subtitle:   "How to set up this theme"
date:       2019-01-09
author:     "иµµеЊ–е†°"
image:      "https://img.zhaohuabing.com/post-bg-2015.jpg"
---

# Clean White Theme for Hugo

CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live [demo site](https://zhaohuabing.com) using this theme.  

It is based on [huxblog Jekyll Theme](https://github.com/Huxpro/huxpro.github.io)
and [Clean Blog Jekyll Theme](https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll).

These two upstream projects have done awesome jobs to create a blog theme, what I'm doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I'd like to make it as simple as possible and only focus on blog purpose, at least for now.
While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.

## Screenshots

**Home**
![screenshot](/img/fullscreenshot.png)

**Post**
![screenshot](/img/post.png)

**Search**
![screenshot](/img/sitesearch.png)

**Disqus**
![screenshot](/img/disqus.png)

**Wechat Pay & Alipay**
![screenshot](/img/rewards.png)

## Quick Start
Go to the directory where you have your Hugo site and run:

```
$ mkdir themes
$ cd themes
$ git clone https://github.com/zhaohuabing/hugo-theme-cleanwhite.git
```

If your site is already a git project, you may want to choose to add the cleanwhite theme as a submodule to avoid messing up your existing git repository.

```
$ mkdir themes
$ git submodule add https://github.com/zhaohuabing/hugo-theme-cleanwhite.git themes/hugo-theme-cleanwhite
```
Run  Hugo Built-in Server Locally

```
$ hugo serve -t  hugo-theme-cleanwhite
```
Now enter [`localhost:1313`](http://localhost:1313) in the address bar of your browser.

If you start from scratch, there is a working Hugo site configured with the CleanWhite theme in the [exampleSite](https://github.com/zhaohuabing/hugo-theme-cleanwhite/tree/master/exampleSite) directory.  You can use it as a starting point for your site.

For more information read the official [setup guide](https://gohugo.io/overview/installing/) of Hugo 

## Configuration
First, let's take a look at the [hugo.toml](https://github.com/zhaohuabing/hugo-cleanwhite-theme/tree/master/exampleSite/hugo.toml). It will be useful to learn how to customize your site. Feel free to play around with the settings.

### Comments
The optional comments system is powered by [Disqus](https://disqus.com). If you want to enable comments, create an account in Disqus and write down your shortname.

```toml
[services]
  [services.disqus]
    shortname = "your-disqus-short-name"
```
You can disable the comments system by leaving the `shortname` empty.

### Disqus in China
Disqus is inaccessible in China. To get it to work, we can set up a proxy with [disqus-php-api](https://github.com/zhaohuabing/disqus-php-api) in a host which sets between the client browser and the Disqus server. The idea is that if Disqus can be reached in the guest network, the blog page will show the original Disqus comments UI, otherwise, it will downgrade and use the proxy to access the Disqus, the UI will be a little different, but the visitors can still write their comments on the page.

The client side java script has already been integrated to CleanWhite them, but you need to set up a proxy server yourself.

The proxy is written in php, which can be found here: https://github.com/zhaohuabing/disqus-php-api/tree/master/api

You need to specify  your Disqus account information in the config.php.
```
define('PUBLIC_KEY', '');
define('SECRET_KEY', '');
define('DISQUS_USERNAME', '');
define('DISQUS_EMAIL', '');
define('DISQUS_PASSWORD', '');
define('DISQUS_WEBSITE', '');
define('DISQUS_SHORTNAME', '');
```
Set the proxy server address in the site config file of your Hugo project.
```toml
disqus_proxy = "http://yourdisqusproxy.com"
```
### Site Search with Algolia
Follow this [tutorial](https://forestry.io/blog/search-with-algolia-in-hugo/#3-create-your-index-in-algolia) to create your index in Algolia. The index is just the storage of the indexing data of your site in the the cloud . The search page of CleanWhite theme will utilize this indexing data to do the search.

Go to the directory where you have your Hugo site and run the following commands:
```bash
$ npm init
$ npm install atomic-algolia --save
```
Next, open up the newly created package.json, where weвЂ™ll add an NPM script to update your index at Algolia. Find "scripts", and add the following:
```josn
"algolia": "atomic-algolia"
```
Algolia index output format has already been supported by the CleanWhite theme, so you can just build your site, then youвЂ™ll find a file called algolia.json in the root, which we can use to update your index in Algolia.
Generate index file:
```bash
$ hugo
```
Create a new file in the root of your Hugo project called .env, and add the following contents:
```bash
ALGOLIA_APP_ID={{ YOUR_APP_ID }}
ALGOLIA_ADMIN_KEY={{ YOUR_ADMIN_KEY }}
ALGOLIA_INDEX_NAME={{ YOUR_INDEX_NAME }}
ALGOLIA_INDEX_FILE={{ PATH/TO/algolia.json }}
```
Now you can push your index to Algolia by simply running:
```bash
$ npm run algolia
```
Add the following variables to your hugo site config so the search page can get access to algolia index data in the cloud:
 ```
algolia_search = true
algolia_appId = {{ YOUR_APP_ID }}
algolia_indexName = {{ YOUR_INDEX_NAME }}
algolia_apiKey = {{ YOUR_SEARCH_ONLY_KEY }}
```
Open search page in your browser: http://localhost:1313/search

### Analytics

You can optionally enable Google or Baidu Analytics. Type your tracking code in the 

```toml
[services]
  [services.googleAnalytics]
    id = "G-XXXXX"
```
Leave the `id` key empty to disable it.

### Baidu Analytics

You can optionally enable Baidu Analytics. Type your tracking code in the

```toml
ba_track_id  = "XXXXXXXXXXXXXXXX"
```
Leave the 'ba_track_id ' key empty to disable it.

### Wechat Pay & Alipay Rewards

You can enable Wechat Pay & Alipay to allow readers send you money. So if they like your articles, you may even get rewards from your writing. Now you must be motivated to write more.

* Enable Wechat Pay & Alipay in the site config
```toml
reward = true
```
* Replace the QR codes of Wechat Pay & Alipay by overriding the photos in folder /static/img/reward/, otherwise the money will be sent to my accounts!


## Thank
Thanks for the great jobs of [huxblog Jekyll Theme](https://github.com/Huxpro/huxpro.github.io) and [Clean Blog Jekyll Theme](https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll) which are the the two upstream projects CleanWhite Hugo theme is based on.

## Feedback
If you find any problems, please feel free to [raise an issue](https://github.com/zhaohuabing/hugo-theme-cleanwhite/issues/new) or create a pull request to fix it. 

If it's helpful for you, I would appreciate it if you could star this repository, thanks!



==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\posts\my-post.md

+++
date = '2025-07-24T23:32:25+03:00'
draft = true
title = 'My Post'
+++


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\search\placeholder.md


==============================

File: D:\github\bynet\site\content_backup_2025-07-27_033047\content\services\index.md

---
title: "Наши услуги"
layout: page
---

## Комплексные решения для защиты ваших инвестиций

Мы предлагаем полный спектр услуг для инвесторов, девелоперов и заказчиков строительства, обеспечивая контроль на всех этапах жизненного цикла проекта.

### 1. Финансово-технический аудит
Проводим комплексную проверку проектной и сметной документации. Наша цель — исключить завышение объемов работ, цен на материалы и выявить скрытые риски до начала строительства.
> **Результат:** Экономия до 25% от первоначального бюджета.

### 2. Строительный контроль (Технический надзор)
Наши инженеры осуществляют постоянный контроль качества строительно-монтажных работ на площадке. Мы гарантируем, что каждый этап выполняется в строгом соответствии с проектом и нормативными требованиями.
> **Результат:** Предотвращение критических дефектов и соблюдение технологий.

### 3. Управление проектами и стоимостью
Берем на себя функции службы заказчика, управляя бюджетом, сроками и взаимодействием с подрядчиками. Наша система отчетности обеспечивает полную прозрачность для инвестора.
> **Результат:** Проект сдан в срок и в рамках утвержденного бюджета.

### 4. Экспертиза и разрешение споров
Готовим экспертные заключения для досудебного урегулирования и представляем ваши интересы в суде. Помогаем доказать правоту в спорах о качестве, объемах и стоимости выполненных работ.
> **Результат:** Сильная юридическая позиция и защита ваших активов.



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\about\index-zh.md

## е…ідєЋж€‘
HiпјЊж€‘жЇиµµеЊ–е†°пјЊжњЌеЉЎзЅ‘ж јжЉЂжњЇеёѓйЃ“иЂ…еЏЉе®ћи·µиЂ…пјЊ[и…ѕи®Їдє‘](https://cloud.tencent.com/product/tcm)е·ҐзЁ‹её€пјЊж›ѕж‹…д»»[дё­е…ґйЂљи®Ї](https://www.zte.com.cn/)жЉЂжњЇдё“е®¶пјЊLinux еџєй‡‘дјљејЂжєђйЎ№з›® [ONAP](https://www.onap.org/) йЎ№з›® leaderпјЊз”ІйЄЁж–‡дё­й—ґд»¶й«зє§йЎѕй—®з­‰гЂ‚ж€‘е€›е»єдє†жњЌеЉЎзЅ‘ж јејЂжєђйЎ№з›® [Aeraki Mesh](https://aeraki.net)пј€CNCF Sandbox йЎ№з›®пј‰пјЊеЏЇд»ҐењЁ Istio дё­з®Ўзђ† DubboгЂЃThriftгЂЃRedis д»ҐеЏЉд»»ж„Џз§Ѓжњ‰еЌЏи®®зљ„жµЃй‡ЏгЂ‚

е·ҐдЅњиЃ”зі»пјљ zhaohuabing@gmail.com

## е‡єз‰€з‰©
| ж ‡йў       |з±»ећ‹        |е‡єз‰€з¤ѕ   |й“ѕжЋҐ        |
| ----------- |----------- |----------- |----------- |
|[ж·±е…Ґзђ†и§Ј Istio вЂ” дє‘еЋџз”џжњЌеЉЎзЅ‘ж јиї›й¶е®ћж€](https://www.zhaohuabing.com/post/2021-08-26-istio-handbook/)|е®ћдЅ“д№¦з±Ќ|з”µе­ђе·Ґдёље‡єз‰€з¤ѕ|[иґ­д№°й“ѕжЋҐ](https://item.jd.com/13200745.html)|
|[Distributed Tracing with Jaeger, Kubernetes, and Istio](https://www.zhaohuabing.com/post/2021-09-08-distributed-tracing-with-jaeger-kubernetes-and-istio/)|ењЁзєїж•™зЁ‹|[ж›је®Ѓе‡єз‰€з¤ѕпј€зѕЋпј‰](https://www.manning.com/)|[30% жЉж‰Ј](https://www.manning.com/liveprojectseries/distributed-tracing-ser)|
|[дє‘еЋџз”џж•°жЌ®дё­еїѓзЅ‘з»њ](https://zhaohuabing.com/post/2021-08-27-cloud-native-data-center)|зї»иЇ‘д№¦з±Ќ|дё­е›Ѕз”µеЉ›е‡єз‰€з¤ѕ|[иґ­д№°й“ѕжЋҐ](https://item.jd.com/12929975.html)|
|[Istio иїђз»ґе®ћж€](https://istio-operation-bible.aeraki.net)|з”µе­ђд№¦з±Ќ||[ењЁзєїй…иЇ»](https://istio-operation-bible.aeraki.net)|


## жј”и®Іе€†дє« (йѓЁе€†)
|е№ґд»Ѕ          |еџЋеё‚        |дјљи®®         | е€†дє«дё»йў    |и®ІзЁї         |и§†йў‘       |
| ----------- |----------- |----------- |----------- |----------- |----------- |
|2022|зєїдёЉ|[IstioCon](https://events.istio.io/istiocon-2022)|[Istio + Aeraki ењЁи…ѕи®Їйџід№ђзљ„жњЌеЉЎзЅ‘ж јиђЅењ°](https://events.istio.io/istiocon-2022/sessions/tencent-music-aeraki/)|[дё‹иЅЅ](/slides/tencent-music-service-mesh-practice-with-istio-and-aeraki.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=6t_yPsq4Pi4)|
|2022|зєїдёЉ|[A2M](https://a2m.msup.com.cn/course?aid=2699&cid=15382)|[е…Ёж €жњЌеЉЎзЅ‘ж ј - Aeraki Mesh еЉ©дЅ ењЁ Istio жњЌеЉЎзЅ‘ж јдё­з®Ўзђ†д»»дЅ•дёѓе±‚жµЃй‡Џ](https://a2m.msup.com.cn/course?aid=2699&cid=15382)|[дё‹иЅЅ](/slides/full-stack-service-mesh-a2m-20220422.pdf)||
|2022|зєїдёЉ|[дє‘еЋџз”џж­ЈеЏ‘еЈ°](https://cloud.tencent.com/developer/salon/live-1403)| [Areaki Mesh ењЁ 2022 е†¬еҐҐдјљи§†йў‘з›ґж’­еє”з”Ёдё­зљ„жњЌеЉЎзЅ‘ж је®ћи·µ](https://mp.weixin.qq.com/s/zp9q99mGyH2VD9Dij2owWg) | [дё‹иЅЅ](http://localhost:1313/img/2022-03-30-aeraki-mesh-winter-olympics-practice/slides.pdf)|[и§‚зњ‹](https://youtu.be/uXxatQTKzW8)|
|2021|зєїдёЉ|[IstioCon](https://events.istio.io/istiocon-2021/)| [How to manage any layer-7 traffic in an Istio service mesh?](https://events.istio.io/istiocon-2021/sessions/how-to-manage-any-layer-7-traffic-in-an-istio-service-mesh/) | [дё‹иЅЅ](/slides/how-to-manage-any-layer-7-traffic-in-istio.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=sBS4utF68d8)|
|2020|зєїдёЉ|[CNBPS](https://www.cnbpa.org/)|[Istio жµЃй‡Џз®Ўзђ†еЋџзђ†дёЋеЌЏи®®ж‰©е±•](https://cloud.tencent.com/developer/article/1723804)|[дё‹иЅЅ](/slides/cnbps2020-istio-aeraki.pdf)|[и§‚зњ‹](https://www.youtube.com/watch?v=lB5d4qbZqzU)|
|2019|ж€ђйѓЅ|[Service Mesher Meetup](https://cloudnative.to/blog/service-mesh-meetup-chengdu-20191028/)|[Service MeshжЇдё‹дёЂд»ЈSDNеђ—пјџ](https://cloudnative.to/blog/service-mesh-meetup-chengdu-20191028/)|[дё‹иЅЅ](/slides/what-can-service-mesh-learn-from-sdn-servicemesher-meetup-20191026.pdf)|[и§‚зњ‹](https://youtu.be/nGkxp-2OsKg)|
|2019|иҐїе®‰|ONAP Workshop|еџєдєЋ 5G зЅ‘з»њз®Ўзђ†зі»з»џзљ„жњЌеЉЎзЅ‘ж је®ћи·µ|[дё‹иЅЅ](/slides/service-mesh-practice-with-5g-management-system-lfn.pdf)|
|2018|еЌ—дє¬|[GNTC](https://www.bagevent.com/event/1624048?aId=)|[ONAP жњЌеЉЎзЅ‘ж је®ћи·µ](https://www.sdnlab.com/22596.html)|
|2017|ењЈе…‹ж‹‰ж‹‰|[NAP Developer Forum](https://wiki.onap.org/display/DW/ONAP+Beijing+Release+Developer+Forum%2C+Dec.+11-13%2C+2017%2C+Santa+Clara%2C+CA+US)|[MSB to Support Carrier Grade ONAP Microservice Architecture with Service Mesh](https://onapbeijing2017.sched.com/event/D5q2)|[дё‹иЅЅ](https://wiki.onap.org/display/DW/MSB+Service+Mesh+Planning?preview=%2F20873876%2F20873874%2FMSB+to+Support+Carrier+Grade+ONAP+Microservice+Architecture+with+Service+Mesh.pdf)|
|2017|ењЈе…‹ж‹‰ж‹‰|[ONS](https://wiki.onap.org/display/DW/ONAP@ONS2017)|Microservice Powered Orchestration|[дё‹иЅЅ](https://wiki.onap.org/display/DW/ONAP@ONS2017?preview=%2F3245268%2F3245309%2FMicroservice+Powered+Orchestration+Architecture.pdf)|
|2017|ж–°жіЅиҐї|[ONAP Developer Event](https://wiki.onap.org/display/DW/ONAP+Project+Developer+Event%3A+May+2+-+5%2C+2017%2C+Middletown%2C+NJ%2C+USA)|MSB Technical Deep Dive and ONAP Use Cases|[дё‹иЅЅ](https://www.slideshare.net/HuabingZhao/msb-depp-dive/)|
|2017|е·ґй»Ћ|[ONAP Developer Event](https://wiki.onap.org/display/DW/ONAP+Developer+Event+September+25-28%2C+2017%2C+Paris-Saclay%2C+France)|[Microservice Bus Tutorial](https://wiki.onap.org/display/DW/September+26-28+Topics#September2628Topics-M2)|[дё‹иЅЅ](https://www.slideshare.net/HuabingZhao/microservice-bus-tutorial)|

## ејЂжєђйЎ№з›®
|йЎ№з›®         |и§’и‰І        |  зЅ‘з«™   | GitHub     |
| ----------- |----------- |----------- |----------- |
| Aeraki Mesh | е€›е»єиЂ…    | https://aeraki.net  | http://github.com/aeraki-mesh |
| Istio       | Contributor| https://istio.io    | https://github.com/istio/istio|
| Envoy       | Contributor| https://www.envoyproxy.io |https://github.com/envoyproxy/envoy|
| ONAP        | йЎ№з›® Leader        | https://www.onap.org||
| hugo-theme-cleanwhite | е€›е»єиЂ…    | https://themes.gohugo.io/themes/hugo-theme-cleanwhite  | https://github.com/zhaohuabing/hugo-theme-cleanwhite |


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\about\index.md

---
title: "О нашей компании"
layout: page
---

## Ваш независимый партнер в строительстве

**«Аудит строительных проектов»** — это команда экспертов в области инжиниринга, финансов и управления, призванная защищать интересы инвесторов, девелоперов и собственников на каждом этапе реализации строительного проекта.

Наша миссия — обеспечить полную прозрачность, контроль над затратами и соблюдение сроков. Мы превращаем риски в управляемые процессы, а инвестиции — в гарантированный результат. С нами вы строите уверенность.

### Наша экспертиза:

*   **Финансово-технический аудит:** Проверка смет, договоров и проектной документации для предотвращения необоснованных расходов.
*   **Строительный контроль (Технадзор):** Гарантия того, что работы на площадке соответствуют проекту, СНиПам и стандартам качества.
*   **Управление проектами:** Полное сопровождение проекта от идеи до ввода в эксплуатацию, действуя как ваша внутренняя служба заказчика.
*   **Судебная и досудебная экспертиза:** Защита ваших интересов в спорах с подрядчиками и государственными органами.

За 12 лет работы мы успешно сопроводили более 150 проектов, сэкономив нашим клиентам миллиарды рублей.



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\archive\index.md

---
title: "Posts Archive"
layout: archive
type: archive
description: Archive of historical posts.
---

==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\cases\case-premier.md

---
title: "Кейс: Снижение затрат на 18% при строительстве ЖК"
date: 2025-06-15
---

# Кейс: Экономия 250 млн рублей на проекте жилого комплекса "Премьер"

**Клиент:** Крупный инвестиционный фонд.

**Задача:** Провести независимый аудит проектной документации и сметных расчетов на этапе подготовки к строительству жилого комплекса бизнес-класса.

**Что мы сделали:**
1.  **Анализ смет:** Проверили более 2000 позиций в сметной документации. Выявили необоснованное завышение стоимости логистики и материалов на 12% по сравнению с рыночными ценами.
2.  **Оптимизация проекта:** Предложили заменить некоторые дорогостоящие импортные инженерные системы на качественные отечественные аналоги, что позволило сократить расходы без потери в надежности.
3.  **Проверка объемов:** Обнаружили "задвоенные" объемы работ по благоустройству территории на сумму 45 млн рублей.

**Результат:**

> Общая стоимость проекта была снижена на **18%**. Прямая экономия для инвестора составила **более 250 млн рублей**, что повысило рентабельность проекта на 7%.



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\cases\_index.md

---
title: "Наши кейсы"
layout: list
---

Здесь собраны примеры нашей работы, демонстрирующие, как наш подход помогает клиентам достигать поставленных целей, экономить бюджет и избегать дорогостоящих ошибок.



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\notes\index.md

---
layout: page
---

## [Go иЇ­иЁЂе­¦д№ з¬”и®°](https://zhaohuabing.com/learning-golang)

## [Envoy е­¦д№ з¬”и®°](https://zhaohuabing.com/learning-envoy) 



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2017-11-03-hello-world.md

---
layout:     post 
title:      "Welcome to Zhaohuabing Blog"
subtitle:   "Hello World, Hello Blog"
date:       2017-11-04
author:     "иµµеЊ–е†°"
URL: "/2017/11/03/hello-world/"
image:      "https://img.zhaohuabing.com/post-bg-2015.jpg"
---

> вЂњYeah It's on. вЂќ


## Hello World!


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2017-11-04-istio-install_and_example.md

---
layout:     post
title:      "IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°"
subtitle:   "ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ"
description: "IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚"
excerpt: "IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚"
date:    2017-11-04T12:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-install_and_example/post-bg.jpg"
tags:
    - Istio
URL: "/2017/11/04/istio-install_and_example/"
categories: [ Tech ]
---

## жњЌеЉЎзЅ‘ж јз®Ђд»‹

**жњЌеЉЎзЅ‘ж ј**пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ**жћ¶жћ„жЁЎејЏ**гЂ‚

жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚

<!--more-->
и®©ж€‘д»¬жќҐе›ћйЎѕдёЂдё‹еѕ®жњЌеЉЎжћ¶жћ„зљ„еЏ‘е±•иї‡зЁ‹гЂ‚ењЁе‡єзЋ°жњЌеЉЎзЅ‘ж јд№‹е‰ЌпјЊж€‘д»¬ењЁеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏиї›зЁ‹е†…е¤„зђ†жњЌеЉЎйЂљи®ЇйЂ»иѕ‘пјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊз†”ж–­пјЊй‡ЌиЇ•пјЊи¶…ж—¶з­‰йЂ»иѕ‘пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/5-a.png)  
йЂљиї‡еЇ№иї™йѓЁе€†иґџиґЈжњЌеЉЎйЂљи®Їзљ„йЂ»иѕ‘иї›иЎЊжЉЅи±Ўе’ЊеЅ’зєіпјЊеЏЇд»ҐеЅўж€ђдёЂдёЄд»Јз Ѓеє“дѕ›еє”з”ЁзЁ‹еєЏи°ѓз”ЁгЂ‚дЅ†еє”з”ЁзЁ‹еєЏиїжЇйњЂи¦Ѓе¤„зђ†е’Њеђ„з§ЌиЇ­иЁЂд»Јз Ѓеє“зљ„и°ѓз”Ёз»†иЉ‚пјЊе№¶дё”еђ„з§Ќд»Јз Ѓеє“дє’дёЌе…је®№пјЊеЇји‡ґеЇ№еє”з”ЁзЁ‹еєЏдЅїз”Ёзљ„иЇ­иЁЂе’Њд»Јз ЃжЎ†жћ¶жњ‰иѕѓе¤§й™ђе€¶гЂ‚

е¦‚жћњж€‘д»¬ж›ґиї›дёЂж­ҐпјЊе°†иї™йѓЁе€†йЂ»иѕ‘д»Ћеє”з”ЁзЁ‹еєЏиї›зЁ‹дё­жЉЅеЏ–е‡єжќҐпјЊдЅњдёєдёЂдёЄеЌ•з‹¬зљ„иї›зЁ‹иї›иЎЊйѓЁзЅІпјЊе№¶е°†е…¶дЅњдёєжњЌеЉЎй—ґзљ„йЂљдїЎд»Јзђ†пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/6-a.png)  
е› дёєйЂљи®Їд»Јзђ†иї›зЁ‹е’Њеє”з”Ёиї›зЁ‹дёЂиµ·йѓЁзЅІпјЊе› ж­¤еЅўи±Ўењ°жЉЉиї™з§ЌйѓЁзЅІж–№ејЏз§°дёєвЂњsidecarвЂќпј€дё‰иЅ®ж‘©ж‰зљ„жЊЋж–—пј‰гЂ‚
![](/img/istio-install_and_example/sidecar.jpg)
еє”з”Ёй—ґзљ„ж‰Ђжњ‰жµЃй‡ЏйѓЅйњЂи¦Ѓз»Џиї‡д»Јзђ†пјЊз”±дєЋд»Јзђ†д»Ґsidecarж–№ејЏе’Њеє”з”ЁйѓЁзЅІењЁеђЊдёЂеЏ°дё»жњєдёЉпјЊеє”з”Ёе’Њд»Јзђ†д№‹й—ґзљ„йЂљи®Їиў«и®¤дёєжЇеЏЇйќ зљ„гЂ‚з„¶еђЋз”±д»Јзђ†жќҐиґџиґЈж‰ѕе€°з›®зљ„жњЌеЉЎе№¶иґџиґЈйЂљи®Їзљ„еЏЇйќ жЂ§е’Ње®‰е…Ёз­‰й—®йўгЂ‚

еЅ“жњЌеЉЎе¤§й‡ЏйѓЁзЅІж—¶пјЊйљЏзќЂжњЌеЉЎйѓЁзЅІзљ„sidecarд»Јзђ†д№‹й—ґзљ„иїћжЋҐеЅўж€ђдє†дёЂдёЄе¦‚дё‹е›ѕж‰Ђз¤єзљ„зЅ‘ж јпјЊиў«з§°д№‹дёєService Meshпј€жњЌеЉЎзЅ‘ж јпј‰пјЊд»ЋиЂЊеѕ—е‡єе¦‚дё‹зљ„жњЌеЉЎзЅ‘ж је®љд№‰гЂ‚

_жњЌеЉЎзЅ‘ж јжЇдёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊз”ЁдєЋе¤„зђ†жњЌеЉЎй—ґйЂљдїЎгЂ‚дє‘еЋџз”џеє”з”Ёжњ‰зќЂе¤Ќжќ‚зљ„жњЌеЉЎж‹“ж‰‘пјЊжњЌеЉЎзЅ‘ж јдїќиЇЃиЇ·ж±‚еЏЇд»ҐењЁиї™дє›ж‹“ж‰‘дё­еЏЇйќ ењ°з©їжў­гЂ‚ењЁе®ћй™…еє”з”ЁеЅ“дё­пјЊжњЌеЉЎзЅ‘ж јйЂљеёёжЇз”±дёЂзі»е€—иЅ»й‡Џзє§зљ„зЅ‘з»њд»Јзђ†з»„ж€ђзљ„пјЊе®ѓд»¬дёЋеє”з”ЁзЁ‹еєЏйѓЁзЅІењЁдёЂиµ·пјЊдЅ†еє”з”ЁзЁ‹еєЏдёЌйњЂи¦ЃзџҐйЃ“е®ѓд»¬зљ„е­ењЁгЂ‚_

_William Morgan _[_WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?_](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)_                                               _

![](/img/istio-install_and_example/mesh1.png)

дє†и§Јдє†жњЌеЉЎзЅ‘ж јзљ„еџєжњ¬ж¦‚еїµпјЊдё‹дёЂж­Ґд»‹з»ЌдёЂдё‹[Istio](https://istio.io/)гЂ‚IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњпјЊIstioжћ¶жћ„е…€иї›пјЊи®ѕи®Ўеђ€зђ†пјЊе€љдёЂе®Јеёѓе°±иЋ·еѕ—дє†LinkerdпјЊnginmeshз­‰е…¶д»–Service MeshйЎ№з›®зљ„еђ€дЅњд»ҐеЏЉRed hat/Pivotal/Weaveworks/Tigera/Datawireз­‰зљ„з§ЇжћЃе“Ќеє”гЂ‚  
![](/img/istio-install_and_example/Istio-Architecture.PNG)  
еЏЇд»Ґи®ѕжѓіпјЊењЁдёЌд№…зљ„е°†жќҐпјЊеѕ®жњЌеЉЎзљ„ж ‡е‡†еџєзЎЂи®ѕж–Ѕе°†жЇй‡‡з”Ёkubernetesиї›иЎЊжњЌеЉЎйѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊй‡‡з”ЁIstioе¤„зђ†жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†пјЊдё¤иЂ…з›ёиѕ…з›ёж€ђпјЊзјєдёЂдёЌеЏЇгЂ‚

## е®‰иЈ…Kubernetes

IstioжЇеѕ®жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†зљ„еџєзЎЂи®ѕж–Ѕе±‚пјЊжњ¬иє«е№¶дёЌиґџиґЈжњЌеЉЎзљ„йѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊе› ж­¤йњЂи¦Ѓе’ЊKubernetesз­‰жњЌеЉЎзј–жЋ’е·Ґе…·еЌЏеђЊе·ҐдЅњгЂ‚

IstioењЁжћ¶жћ„и®ѕи®ЎдёЉж”ЇжЊЃеђ„з§ЌжњЌеЉЎйѓЁзЅІе№іеЏ°пјЊеЊ…ж‹¬kubernetesпјЊcloud foundryпјЊMesosз­‰пјЊдЅ†IstioдЅњдёєGoogleдєІе„їе­ђпјЊеЇ№и‡Єе®¶е…„ејџKubernetesзљ„ж”ЇжЊЃи‚Їе®љжЇй¦–е…€иЂѓи™‘зљ„гЂ‚з›®е‰Ќз‰€жњ¬зљ„0.2з‰€жњ¬зљ„ж‰‹е†Њдё­д№џеЏЄжњ‰Kubernetesй›†ж€ђзљ„е®‰иЈ…иЇґжЋпјЊе…¶е®ѓйѓЁзЅІе№іеЏ°е’ЊIstioзљ„й›†ж€ђе°†ењЁеђЋз»­з‰€жњ¬дё­ж”ЇжЊЃгЂ‚

д»ЋIstioжЋ§е€¶йќўPilotзљ„жћ¶жћ„е›ѕеЏЇд»Ґзњ‹е€°еђ„з§ЌйѓЁзЅІе№іеЏ°еЏЇд»ҐйЂљиї‡жЏ’д»¶ж–№ејЏй›†ж€ђе€°Istioдё­пјЊдёєIstioжЏђдѕ›жњЌеЉЎжіЁе†Ње’ЊеЏ‘зЋ°еЉџиѓЅгЂ‚

![](/img/istio-install_and_example/PilotAdapters.PNG)

kubernetesй›†зѕ¤зљ„йѓЁзЅІиѕѓдёєе¤Ќжќ‚пјЊ[Rancher](http://rancher.com)жЏђдѕ›дє†kubernetesйѓЁзЅІжЁЎжќїпјЊйЂљиї‡дёЂй”®ејЏе®‰иЈ…пјЊеЏЇд»Ґе¤§е¤§з®ЂеЊ–kubernetesй›†зѕ¤зљ„е®‰иЈ…йѓЁзЅІиї‡зЁ‹гЂ‚

жњ¬ж–‡зљ„жµ‹иЇ•зЋЇеўѓдёєдё¤еЏ°и™љжњєз»„ж€ђзљ„й›†зѕ¤пјЊж“ЌдЅњзі»з»џжЇUbuntu 16.04.3 LTSгЂ‚дё¤еЏ°и™љжњєзљ„ењ°еќЂе€†е€«дёєпјљ  
Rancher Server: 10.12.25.60  
е·ҐдЅњиЉ‚з‚№: 10.12.25.116

йЂљиї‡Rancherе®‰иЈ…Kubernetesй›†зѕ¤зљ„з®Ђи¦Ѓж­ҐйЄ¤е¦‚дё‹пјљ

### ењЁserverе’Ње·ҐдЅњиЉ‚з‚№дёЉе®‰иЈ…docker

е› дёєk8sе№¶дёЌж”ЇжЊЃжњЂж–°з‰€жњ¬зљ„dockerпјЊе› ж­¤йњЂж №жЌ®иЇҐйЎµйќўе®‰иЈ…жЊ‡е®љз‰€жњ¬зљ„docker  
[http://rancher.com/docs/rancher/v1.6/en/hosts/](http://rancher.com/docs/rancher/v1.6/en/hosts/) ,з›®е‰ЌжЇ1.12з‰€жњ¬гЂ‚

```
curl https://releases.rancher.com/install-docker/1.12.sh | sh
```

е¦‚жћњйњЂи¦Ѓд»Ґйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤пјЊеЏ‚иЂѓ[е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤](http://zhaohuabing.com/2018/02/09/docker-without-sudo/)гЂ‚


### еђЇеЉЁRancher server

```
sudo docker run -d --restart=always -p 8080:8080 rancher/server
```

### з™»еЅ•Rancherз®Ўзђ†з•ЊйќўпјЊе€›е»єk8sй›†зѕ¤

Rancher з®Ўзђ†з•Њйќўзљ„зјєзњЃз«ЇеЏЈдёє8080пјЊењЁжµЏи§€е™Ёдё­ж‰“ејЂиЇҐз•ЊйќўпјЊйЂљиї‡иЏњеЌ•Default-&gt;Manage Environment-&gt;Add Environmentж·»еЉ дёЂдёЄkubernetesй›†зѕ¤гЂ‚иї™й‡ЊйњЂи¦Ѓиѕ“е…ҐеђЌз§°kubernetesпјЊжЏЏиї°пјЊз„¶еђЋйЂ‰ж‹©kubernetes templateпјЊз‚№е‡»createпјЊе€›е»єKubernetesзЋЇеўѓгЂ‚![](/img/istio-install_and_example/Rancher.PNG)

з‚№е‡»иЏњеЌ•е€‡жЌўе€°kubernetes EnvironmentпјЊз„¶еђЋз‚№е‡»еЏідёЉж–№зљ„Add a hostпјЊж·»еЉ дёЂеЏ°hostе€°kubernetesй›†зѕ¤дё­гЂ‚жіЁж„Џж·»еЉ е€°й›†зѕ¤дё­зљ„hostдёЉеї…йЎ»е…€е®‰иЈ…еҐЅз¬¦еђ€и¦Ѓж±‚зљ„dockerз‰€жњ¬гЂ‚

з„¶еђЋж №жЌ®RancherйЎµйќўдёЉзљ„жЏђз¤єењЁhostдёЉж‰§иЎЊи„љжњ¬еђЇеЉЁRancher agentпјЊд»Ґе°†hostеЉ е…Ґranch clusterгЂ‚жіЁж„Џи„љжњ¬дё­еЊ…еђ«дє†rancher serverзљ„ењ°еќЂпјЊењЁhostдёЉеї…йЎ»еЏЇд»ҐpingйЂљиЇҐењ°еќЂгЂ‚![](/img/istio-install_and_example/Rancher-add-host.PNG)

hostеЉ е…ҐclusterеђЋRancherдјљењЁhostдёЉpull kubernetesзљ„imagesе№¶еђЇеЉЁkubernetesз›ёе…іжњЌеЉЎпјЊж №жЌ®е®‰иЈ…зЋЇеўѓж‰ЂењЁзЅ‘з»њжѓ…е†µдёЌеђЊйњЂи¦Ѓз­‰еѕ…е‡ е€†й’џе€°е‡ еЌЃе€†й’џдёЌз­‰гЂ‚

### е®‰иЈ…е№¶й…ЌзЅ®kubectl

еѕ…Rancherз•ЊйќўжЏђз¤єkubernetesе€›е»єж€ђеЉџеђЋпјЊе®‰иЈ…kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectl

```
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.7.4/bin/linux/amd64/kubectl

chmod +x ./kubectl

sudo mv ./kubectl /usr/local/bin/kubectl
```

з™»еЅ•Rancherз®Ўзђ†з•Њйќў, е°† All Environments-&gt;kubernetes-&gt;KUBERNETES-&gt;CLI create config зљ„е†…е®№ж‹·иґќе€°~/.kube/config дё­пјЊд»Ґй…ЌзЅ®Kubectlе’Њkubernetes serverзљ„иїћжЋҐдїЎжЃЇгЂ‚![](/img/istio-install_and_example/Rancher-kubectl.PNG)

## е®‰иЈ…Istio

IstioжЏђдѕ›дє†е®‰иЈ…и„љжњ¬пјЊиЇҐи„љжњ¬дјљж №жЌ®ж“ЌдЅњзі»з»џдё‹иЅЅз›ёеє”зљ„Istioе®‰иЈ…еЊ…е№¶и§ЈеЋ‹е€°еЅ“е‰Ќз›®еЅ•гЂ‚

```
 curl -L https://git.io/getLatestIstio | sh -
```

ж №жЌ®и„љжњ¬зљ„жЏђз¤єе°†Istioе‘Ѕд»¤иЎЊж‰ЂењЁи·Їеѕ„еЉ е…Ґе€°зі»з»џPATHзЋЇеўѓеЏй‡Џдё­

```
export PATH="$PATH:/home/ubuntu/istio-0.2.10/bin"
```

ењЁkubernetesй›†зѕ¤дё­йѓЁзЅІIstioжЋ§е€¶йќўжњЌеЉЎ

```
kubectl apply -f istio-0.2.10/install/kubernetes/istio.yaml
```

зЎ®и®¤IstioжЋ§е€¶йќўжњЌеЉЎе·Іж€ђеЉџйѓЁзЅІгЂ‚Kubernetesдјље€›е»єдёЂдёЄistio-system namespaceпјЊе°†Istioз›ёе…іжњЌеЉЎйѓЁзЅІењЁиЇҐnamespaceдё­гЂ‚

зЎ®и®¤Istioз›ёе…іServiceзљ„йѓЁзЅІзЉ¶жЂЃ

```
kubectl get svc -n istio-system
```

```
NAME            CLUSTER-IP      EXTERNAL-IP        PORT(S)                                                  AGE
istio-egress    10.43.192.74    <none>             80/TCP                                                   25s
istio-ingress   10.43.16.24     10.12.25.116,...   80:30984/TCP,443:30254/TCP                               25s
istio-mixer     10.43.215.250   <none>             9091/TCP,9093/TCP,9094/TCP,9102/TCP,9125/UDP,42422/TCP   26s
istio-pilot     10.43.211.140   <none>             8080/TCP,443/TCP                                         25s
```

зЎ®и®¤Istioз›ёе…іPodзљ„йѓЁзЅІзЉ¶жЂЃ

```
kubectl get pods -n istio-system
```

```
NAME                             READY     STATUS    RESTARTS   AGE
istio-ca-367485603-qvbfl         1/1       Running   0          2m
istio-egress-3571786535-gwbgk    1/1       Running   0          2m
istio-ingress-2270755287-phwvq   1/1       Running   0          2m
istio-mixer-1505455116-9hmcw     2/2       Running   0          2m
istio-pilot-2278433625-68l34     1/1       Running   0          2m
```

д»ЋдёЉйќўзљ„иѕ“е‡єеЏЇд»Ґзњ‹е€°пјЊиї™й‡ЊйѓЁзЅІзљ„дё»и¦ЃжЇIstioжЋ§е€¶йќўзљ„жњЌеЉЎпјЊиЂЊж•°жЌ®йќўзљ„зЅ‘з»њд»Јзђ†и¦Ѓе¦‚дЅ•йѓЁзЅІе‘ўпјџ  
ж №жЌ®е‰ЌйќўжњЌеЉЎзЅ‘ж јзљ„жћ¶жћ„д»‹з»ЌеЏЇд»Ґеѕ—зџҐпјЊзЅ‘з»њд»Јзђ†жЇйљЏзќЂеє”з”ЁзЁ‹еєЏд»Ґsidecarзљ„ж–№ејЏйѓЁзЅІзљ„пјЊењЁдё‹йќўйѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏж—¶дјљжј”з¤єе¦‚дЅ•йѓЁзЅІзЅ‘з»њд»Јзђ†гЂ‚

## йѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏ

ењЁдё‹иЅЅзљ„Istioе®‰иЈ…еЊ…зљ„samplesз›®еЅ•дё­еЊ…еђ«дє†з¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚

йЂљиї‡дё‹йќўзљ„е‘Ѕд»¤йѓЁзЅІBookinfoеє”з”Ё

```
kubectl apply -f <(istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml)
```

зЎ®и®¤BookinfoжњЌеЉЎе·Із»ЏеђЇеЉЁ

```
kubectl get services
```

```
NAME          CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
details       10.43.175.204   <none>        9080/TCP   6m
kubernetes    10.43.0.1       <none>        443/TCP    5d
productpage   10.43.19.154    <none>        9080/TCP   6m
ratings       10.43.50.160    <none>        9080/TCP   6m
reviews       10.43.219.248   <none>        9080/TCP   6m
```

ењЁжµЏи§€е™Ёдё­ж‰“ејЂеє”з”ЁзЁ‹еєЏйЎµйќўпјЊењ°еќЂдёєistio-ingressзљ„External IP

`http://10.12.25.116/productpage`  
![](/img/istio-install_and_example/Bookinfo.PNG)

## зђ†и§ЈIstio Proxyе®ћзЋ°еЋџзђ†

жњЌеЉЎзЅ‘ж јз›ёеЇ№дєЋsprint cloudз­‰еѕ®жњЌеЉЎд»Јз Ѓеє“зљ„дёЂе¤§дјеЉїжЇе…¶еЇ№еє”з”ЁзЁ‹еєЏж— дѕµе…ҐпјЊењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏд»Јз Ѓзљ„е‰ЌжЏђдё‹еЇ№еє”з”ЁжњЌеЉЎд№‹й—ґзљ„йЂљдїЎиї›иЎЊжЋҐз®ЎпјЊIstioжЇе¦‚дЅ•еЃље€°иї™з‚№зљ„е‘ўпјџдё‹йќўйЂљиї‡з¤єдѕ‹зЁ‹еєЏзљ„йѓЁзЅІе‰–жћђе…¶дё­зљ„еЋџзђ†гЂ‚

е¦‚жћњз†џж‚‰kubernetesзљ„еє”з”ЁйѓЁзЅІиї‡зЁ‹пјЊж€‘д»¬зџҐйЃ“Bookinfoеє”з”ЁзЁ‹еєЏзљ„ж ‡е‡†йѓЁзЅІж–№ејЏжЇиї™ж ·зљ„пјљ

```
kubectl apply -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml
```

дЅ†д»ЋдёЉйќўзљ„йѓЁзЅІиї‡зЁ‹еЏЇд»Ґзњ‹е€°пјЊkubectl applyе‘Ѕд»¤зљ„иѕ“е…Ґе№¶дёЌжЇдёЂдёЄkubernetes yamlж–‡д»¶пјЊиЂЊжЇ`istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml`е‘Ѕд»¤зљ„иѕ“е‡єгЂ‚

иї™ж®µе‘Ѕд»¤ењЁиї™й‡Њиµ·е€°дє†д»Ђд№€дЅњз”Ёе‘ўпјџйЂљиї‡еЌ•з‹¬иїђиЎЊиЇҐе‘Ѕд»¤е№¶е°†иѕ“е‡єдїќе­е€°ж–‡д»¶дё­пјЊж€‘д»¬еЏЇд»ҐжџҐзњ‹istioctl kube-injectе‘Ѕд»¤е€°еє•ењЁиѓЊеђЋжђћдє†д»Ђд№€е°ЏеЉЁдЅњгЂ‚

```
istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml >> bookinfo_with_sidecar.yaml
```

еЇ№жЇ”bookinfo/_with/_sidecar.yamlж–‡д»¶е’Њbookinfo.yamlпјЊеЏЇд»Ґзњ‹е€°иЇҐе‘Ѕд»¤ењЁbookinfo.yamlзљ„еџєзЎЂдёЉеЃљдє†е¦‚дё‹ж”№еЉЁпјљ

* дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄд»Јзђ†containerпјЊиЇҐcontainerз”ЁдєЋе¤„зђ†еє”з”Ёcontainerд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊи·Їз”±и§„е€™е¤„зђ†з­‰гЂ‚д»Ћдё‹йќўзљ„й…ЌзЅ®ж–‡д»¶дё­еЏЇд»Ґзњ‹е€°proxy containerйЂљиї‡15001з«ЇеЏЈиї›иЎЊз›‘еђ¬пјЊжЋҐж”¶еє”з”Ёcontainerзљ„жµЃй‡ЏгЂ‚

* дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄinit-containerпјЊиЇҐcontainerз”ЁдєЋй…ЌзЅ®iptableпјЊе°†еє”з”Ёcontainerзљ„жµЃй‡ЏеЇје…Ґе€°д»Јзђ†containerдё­гЂ‚

```
  #жіЁе…Ґistio зЅ‘з»њд»Јзђ†
  image: docker.io/istio/proxy_debug:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-proxy
        resources: {}
        securityContext:
          privileged: true
          readOnlyRootFilesystem: false
          runAsUser: 1337
        volumeMounts:
        - mountPath: /etc/istio/proxy
          name: istio-envoy
        - mountPath: /etc/certs/
          name: istio-certs
          readOnly: true
      #дЅїз”Ёinit containerдї®ж”№iptable
      initContainers:
      - args:
        - -p
        - "15001"
        - -u
        - "1337"
        image: docker.io/istio/proxy_init:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-init
```

д»ЋдёЉйќўзљ„е€†жћђпјЊж€‘д»¬еЏЇд»Ґзњ‹е‡єIstioзљ„kube-injectе·Ґе…·зљ„з”ЁйЂ”еЌіжЇе°†д»Јзђ†sidecarжіЁе…Ґдє†Bookinfoзљ„kubernetes yamlйѓЁзЅІж–‡д»¶дё­гЂ‚йЂљиї‡иЇҐж–№ејЏпјЊдёЌйњЂи¦Ѓз”Ёж€·ж‰‹еЉЁдї®ж”№kubernetesзљ„йѓЁзЅІж–‡д»¶пјЊеЌіеЏЇењЁйѓЁзЅІжњЌеЉЎж—¶е°†sidecarе’Њеє”з”ЁдёЂиµ·йѓЁзЅІгЂ‚

йЂљиї‡е‘Ѕд»¤жџҐзњ‹podдё­йѓЁзЅІзљ„docker containerпјЊзЎ®и®¤жЇеђ¦йѓЁзЅІдє†Istioд»Јзђ†

```
kubectl get pods

NAME                              READY     STATUS    RESTARTS   AGE
details-v1-3688945616-8hv8x       2/2       Running   0          1d
productpage-v1-2055622944-cslw1   2/2       Running   0          1d
ratings-v1-233971408-8dcnp        2/2       Running   0          1d
reviews-v1-1360980140-474x6       2/2       Running   0          1d
reviews-v2-1193607610-cfhb5       2/2       Running   0          1d
reviews-v3-3340858212-b5c8k       2/2       Running   0          1d
```

жџҐзњ‹reviews podзљ„дё­зљ„containerпјЊеЏЇд»Ґзњ‹е€°podдё­й™¤reviews containerе¤–иїйѓЁзЅІдє†дёЂдёЄistio-proxy container

```
kubectl get pod reviews-v3-3340858212-b5c8k -o jsonpath='{.spec.containers[*].name}'

reviews istio-proxy
```

иЂЊеє”з”Ёcontainerзљ„жµЃй‡ЏжЇе¦‚дЅ•иў«еЇје…Ґе€°istio-proxyдё­зљ„е‘ўпјџ

еЋџзђ†жЇIstio proxyењЁз«ЇеЏЈ15001иї›иЎЊз›‘еђ¬пјЊpodдё­еє”з”Ёcontainerзљ„жµЃй‡ЏйЂљиї‡iptablesи§„е€™иў«й‡Ќе®љеђ‘е€°15001з«ЇеЏЈдё­гЂ‚дё‹йќўж€‘д»¬иї›е…Ґpodе†…йѓЁпјЊйЂљиї‡з›ёе…іе‘Ѕд»¤жќҐйЄЊиЇЃиї™дёЂз‚№гЂ‚

е…€йЂљиї‡е‘Ѕд»¤иЎЊж‰ѕе€°ratings-v1-233971408-8dcnp podзљ„PIDпјЊд»Ґз”ЁдєЋжџҐзњ‹е…¶network namespaceе…§зљ„iptablesи§„е€™гЂ‚

```
CONTAINER_ID=$(kubectl get po ratings-v1-233971408-8dcnp -o jsonpath='{.status.containerStatuses[0].containerID}' | cut -c 10-21)

PID=$(sudo docker inspect --format '{{ .State.Pid }}' $CONTAINER_ID)
```

еЏЇд»ҐдЅїз”Ёnsenterе‘Ѕд»¤жќҐиї›е…Ґpodзљ„network namespaceж‰§иЎЊе‘Ѕд»¤гЂ‚  
дЅїз”Ёnetstatе‘Ѕд»¤еЏЇд»Ґзњ‹е€°istio proxyд»Јзђ†зљ„з›‘еђ¬з«ЇеЏЈ15001

```
sudo nsenter -t ${PID} -n netstat -all | grep 15001

tcp        0      0 *:15001                 *:*                     LISTEN
```

дЅїз”Ёiptablesе‘Ѕд»¤еЏЇд»ҐжџҐзњ‹е€°дё‹йќўзљ„и§„е€™

```
sudo nsenter -t ${PID} -n iptables -t nat -L -n -v

Chain PREROUTING (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination
   16   960 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-prerouting */

Chain INPUT (policy ACCEPT 16 packets, 960 bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination
 1969  118K ISTIO_OUTPUT  tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-output */

Chain POSTROUTING (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain ISTIO_OUTPUT (1 references)
 pkts bytes target     prot opt in     out     source               destination
    0     0 ISTIO_REDIRECT  all  --  *      lo      0.0.0.0/0           !127.0.0.1            /* istio/redirect-implicit-loopback */
 1969  118K RETURN     all  --  *      *       0.0.0.0/0            0.0.0.0/0            owner UID match 1337 /* istio/bypass-envoy */
    0     0 RETURN     all  --  *      *       0.0.0.0/0            127.0.0.1            /* istio/bypass-explicit-loopback */
    0     0 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-default-outbound */

Chain ISTIO_REDIRECT (3 references)
 pkts bytes target     prot opt in     out     source               destination
   16   960 REDIRECT   tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-to-envoy-port */ redir ports 15001
```

д»Ћpodж‰ЂењЁnetwork namespaceзљ„iptablesи§„е€™дё­еЏЇд»Ґзњ‹е€°пјЊpodзљ„е…ҐеЏЈе’Ње‡єеЏЈжµЃй‡Џе€†е€«йЂљиї‡PREROUTINGе’ЊOUTPUT chainжЊ‡еђ‘дє†и‡Єе®љд№‰зљ„ISTIO/_REDIRECT chainпјЊиЂЊISTIO/_REDIRECT chainдё­зљ„и§„е€™е°†ж‰Ђжњ‰жµЃй‡ЏйѓЅй‡Ќе®љеђ‘е€°дє†istio proxyж­ЈењЁз›‘еђ¬зљ„15001з«ЇеЏЈдё­гЂ‚д»ЋиЂЊе®ћзЋ°дє†еЇ№еє”з”ЁйЂЏжЋзљ„йЂљдїЎд»Јзђ†гЂ‚

## жµ‹иЇ•и·Їз”±и§„е€™

е¤љж¬Ўе€·ж–°Bookinfoеє”з”Ёзљ„productpageйЎµйќўпјЊж€‘д»¬дјљеЏ‘зЋ°иЇҐйЎµйќўдё­жѕз¤єзљ„Book Reviewsжњ‰ж—¶еЂ™жњ‰её¦зєўжџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶жњ‰её¦й»‘жџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶еЏЄжњ‰ж–‡е­—иЇ„д»·дїЎжЃЇгЂ‚  
иї™жЇе› дёєBookinfoеє”з”ЁзЁ‹еєЏйѓЁзЅІдє†3дёЄз‰€жњ¬зљ„ReviewsжњЌеЉЎпјЊжЇЏдёЄз‰€жњ¬зљ„иї”е›ћз»“жћњдёЌеђЊпјЊењЁжІЎжњ‰и®ѕзЅ®и·Їз”±и§„е€™ж—¶пјЊзјєзњЃзљ„и·Їз”±дјље°†иЇ·ж±‚йљЏжњєи·Їз”±е€°жЇЏдёЄз‰€жњ¬зљ„жњЌеЉЎдёЉпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ

![](/img/istio-install_and_example/withistio.svg)

йЂљиї‡е€›е»єдёЂжќЎи·Їз”±и§„е€™route-rule.yamlпјЊе°†иЇ·ж±‚жµЃй‡ЏйѓЅеј•еЇје€°Reviews-v1жњЌеЉЎдёЉ

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
```

еђЇз”ЁиЇҐи·Їз”±и§„е€™

```
istioctl create -f route-rule.yaml -n default
```

е†Ќж¬Ўж‰“ејЂproductpageйЎµйќў, ж— и®єе€·ж–°е¤ље°‘ж¬ЎпјЊжѕз¤єзљ„йЎµйќўе°†е§‹з»€жЇv1з‰€жњ¬зљ„иѕ“е‡єпјЊеЌідёЌеё¦жџзљ„иЇ„д»·е†…е®№гЂ‚  
![](/img/istio-install_and_example/Bookinfo-no-star.PNG)  
е€ й™¤иЇҐи·Їз”±и§„е€™

```
istioctl delete -f route_rule.yaml -n default
```

з»§з»­е€·ж–°productpageйЎµйќў,е°†й‡Ќж–°йљЏжњєе‡єзЋ°дё‰дёЄз‰€жњ¬зљ„иЇ„д»·е†…е®№йЎµйќўгЂ‚

## е€†еёѓејЏи°ѓз”ЁиїЅиёЄ

й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ `istio-0.2.10/install/kubernetes/addons/zipkin.yaml` йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®zipkinз•ЊйќўгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: zipkin
  namespace: istio-system
spec:
  ports:
  - name: http
    port: 9411
    nodePort: 30001
  selector:
    app: zipkin
  type: NodePort
```

йѓЁзЅІzipkinжњЌеЉЎгЂ‚

```
kubectl apply -f istio-0.2.10/install/kubernetes/addons/zipkin.yaml
```

ењЁжµЏи§€е™Ёдё­ж‰“ејЂzipkinйЎµйќўпјЊеЏЇд»ҐиїЅиёЄдёЂдёЄз«Їе€°з«Їи°ѓз”Ёз»Џиї‡дє†е“Єдє›жњЌеЉЎпјЊд»ҐеЏЉеђ„дёЄжњЌеЉЎиЉ±иґ№зљ„ж—¶й—ґз­‰иЇ¦з»†дїЎжЃЇпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
`http://10.12.25.116:30001`  
![](/img/istio-install_and_example/zipkin.PNG)

## жЂ§иѓЅжЊ‡ж ‡з›‘жЋ§

й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ `istio-0.2.10/install/kubernetes/addons/grafana.yaml` йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®grafanaз•ЊйќўгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: istio-system
spec:
  ports:
  - port: 3000
    protocol: TCP
    name: http
    nodePort: 30002
  selector:
    app: grafana
  type: NodePort
```

prometheusз”ЁдєЋж”¶й›†е’Ње­е‚ЁдїЎжЃЇжЊ‡ж ‡пјЊgrafanaз”ЁдєЋе°†жЂ§иѓЅжЊ‡ж ‡дїЎжЃЇиї›иЎЊеЏЇи§†еЊ–е‘€зЋ°пјЊйњЂи¦ЃеђЊж—¶йѓЁзЅІprometheusе’ЊgrafanaжњЌеЉЎгЂ‚

```
kubectl apply -f istio-0.2.10/install/kubernetes/addons/prometheus.yaml

kubectl apply -f istio-0.2.10/install/kubernetes/addons/grafana.yaml
```

й¦–е…€ењЁжµЏи§€е™Ёдё­ж‰“ејЂBookinfoзљ„йЎµйќў`http://10.12.25.116/productpage`пјЊе€·ж–°е‡ ж¬ЎпјЊд»Ґе€¶йЂ дёЂдє›жЂ§иѓЅжЊ‡ж ‡ж•°жЌ®гЂ‚

з„¶еђЋж‰“ејЂgrafanaйЎµйќўжџҐзњ‹жЂ§иѓЅжЊ‡ж ‡`http://10.12.25.116:30002/dashboard/db/istio-dashboard`пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ  
![](/img/istio-install_and_example/grafana.PNG)

## еЏ‚иЂѓ

* [Istioе®ж–№ж–‡жЎЈ](https://istio.io/docs/)
* [Pattern: Service Mesh](http://philcalcado.com/2017/08/03/pattern_service_mesh.html)
* [WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)
* [A HackerвЂ™s Guide to Kubernetes Networking](https://thenewstack.io/hackers-guide-kubernetes-networking/)





==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2017-11-07-istio-traffic-shifting.md

---
layout:     post
title:      "дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»"
subtitle: В  "жњ¬ж–‡зї»иЇ‘и‡Єistioе®ж–№ж–‡жЎЈ"
description: "жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚"
excerpt: "жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚"
date:     2017-11-07
author: В  В  "иµµеЊ–е†°"
image: "/img/istio-traffic-shifting/crossroads.png"
categories: [ "Tech"]
tags:
    - Istio
URL: "/2017/11/07/istio-traffic-shifting/"
---

е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ[istioдё­ж–‡ж–‡жЎЈ](http://istio.doczh.cn/)гЂ‚

еЋџж–‡еЏ‚и§Ѓ[Traffic Shifting](https://istio.io/docs/tasks/traffic-management/traffic-shifting.html)гЂ‚

жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚
<!--more-->
дёєз®ЂеЌ•иµ·и§ЃпјЊжњ¬д»»еЉЎе°†й‡‡з”Ёдё¤ж­Ґе°†жµЃй‡Џд»Ћ`reviews:v1` иїЃз§»е€° `reviews:v3`пјЊжќѓй‡Ќе€†е€«дёє50%пјЊ100%гЂ‚


# ејЂе§‹д№‹е‰Ќ

* еЏ‚з…§ж–‡жЎЈ[е®‰иЈ…жЊ‡еЌ—](http://istio.doczh.cn/docs/setup/kubernetes/index.html)дё­зљ„ж­ҐйЄ¤е®‰иЈ…IstioгЂ‚

* йѓЁзЅІ[BookInfo](http://istio.doczh.cn/docs/guides/bookinfo.html) з¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚

>  иЇ·жіЁж„Џпјљжњ¬ж–‡жЎЈеЃ‡и®ѕз¤єй‡‡з”ЁkubernetesйѓЁзЅІз¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚ж‰Ђжњ‰зљ„з¤єдѕ‹е‘Ѕд»¤иЎЊйѓЅй‡‡з”Ёи§„е€™yamlж–‡д»¶пј€дѕ‹е¦‚`samples/bookinfo/kube/route-rule-all-v1.yaml`пј‰жЊ‡е®љзљ„kubernetesз‰€жњ¬гЂ‚е¦‚жћњењЁдёЌеђЊзљ„зЋЇеўѓдё‹иїђиЎЊжњ¬д»»еЉЎпјЊиЇ·е°†`kube`дї®ж”№дёєиїђиЎЊзЋЇеўѓдё­з›ёеє”зљ„з›®еЅ•пј€дѕ‹е¦‚пјЊеЇ№еџєдєЋConsulзљ„иїђиЎЊзЋЇеўѓпјЊз›®еЅ•е°±жЇ`samples/bookinfo/consul/route-rule-all-v1.yaml`пј‰гЂ‚


# еџєдєЋжќѓй‡Ќзљ„з‰€жњ¬и·Їз”±

1. е°†ж‰Ђжњ‰еѕ®жњЌеЉЎзљ„зјєзњЃз‰€жњ¬и®ѕзЅ®дёєv1.

   ```bash
   istioctl create -f samples/bookinfo/kube/route-rule-all-v1.yaml
   ```

1. ењЁжµЏи§€е™Ёдё­ж‰“ејЂhttp://$GATEWAY_URL/productpage,  зЎ®и®¤`reviews` жњЌеЉЎз›®е‰Ќзљ„жґ»еЉЁз‰€жњ¬жЇv1гЂ‚

   еЏЇд»Ґзњ‹е€°жµЏи§€е™Ёдё­е‡єзЋ°BooInfoеє”з”Ёзљ„productpageйЎµйќўгЂ‚
   жіЁж„Џ`productpage`жѕз¤єзљ„иЇ„д»·е†…е®№дёЌеё¦жџзє§гЂ‚иї™жЇз”±дєЋ`reviews:v1`дёЌдјљи®їй—®`ratings`жњЌеЉЎгЂ‚

   > иЇ·жіЁж„Џпјље¦‚жћњд№‹е‰Ќж‰§иЎЊиї‡ [й…ЌзЅ®иЇ·ж±‚и·Їз”±](http://istio.doczh.cn/docs/tasks/traffic-management/request-routing.html)д»»еЉЎпјЊе€™йњЂи¦Ѓе…€жіЁй”Ђжµ‹иЇ•з”Ёж€·вЂњjasonвЂќж€–иЂ…е€ й™¤д№‹е‰ЌеЌ•з‹¬дёєиЇҐз”Ёж€·е€›е»єзљ„жµ‹иЇ•и§„е€™пјљ

     ```bash
     istioctl delete routerule reviews-test-v2
     ```

1. й¦–е…€пјЊдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤жЉЉ50%зљ„жµЃй‡Џд»Ћ`reviews:v1`иЅ¬з§»е€°`reviews:v3`:

   ```bash
   istioctl replace -f samples/bookinfo/kube/route-rule-reviews-50-v3.yaml
   ```

   жіЁж„Џиї™й‡ЊдЅїз”Ёдє†`istioctl replace`иЂЊдёЌжЇ`create`гЂ‚

1. ењЁжµЏи§€е™Ёдё­е¤љж¬Ўе€·ж–°`productpage`йЎµйќўпјЊе¤§зє¦жњ‰50%зљ„е‡ зЋ‡дјљзњ‹е€°йЎµйќўдё­е‡єзЋ°её¦зєўжџзљ„иЇ„д»·е†…е®№гЂ‚

   > иЇ·жіЁж„ЏпјљењЁз›®е‰Ќзљ„Envoy sidecarе®ћзЋ°дё­пјЊеЏЇиѓЅйњЂи¦Ѓе€·ж–°`productpage`еѕ€е¤љж¬Ўж‰ЌиѓЅзњ‹е€°жµЃй‡Џе€†еЏ‘зљ„ж•€жћњгЂ‚ењЁзњ‹е€°йЎµйќўе‡єзЋ°еЏеЊ–е‰ЌпјЊжњ‰еЏЇиѓЅйњЂи¦Ѓе€·ж–°15ж¬Ўж€–иЂ…ж›ґе¤љгЂ‚е¦‚жћњдї®ж”№и§„е€™пјЊе°†90%зљ„жµЃй‡Џи·Їз”±е€°v3пјЊеЏЇд»Ґзњ‹е€°ж›ґжЋжѕзљ„ж•€жћњгЂ‚

1. еЅ“v3з‰€жњ¬зљ„`reviews`жњЌеЉЎе·Із»ЏзЁіе®љиїђиЎЊеђЋпјЊеЏЇд»Ґе°†100%зљ„жµЃй‡Џи·Їз”±е€°`reviews:v3`пјљ

   ```bash
   istioctl replace -f samples/bookinfo/kube/route-rule-reviews-v3.yaml
   ```

   ж­¤ж—¶пјЊд»Ґд»»дЅ•з”Ёж€·з™»еЅ•е€°`productpage`йЎµйќўпјЊйѓЅеЏЇд»Ґзњ‹е€°её¦зєўжџзљ„иЇ„д»·дїЎжЃЇгЂ‚

# зђ†и§ЈеЋџзђ†

ењЁиї™дёЄд»»еЉЎдё­пјЊж€‘д»¬дЅїз”Ёдє†Istioзљ„её¦жќѓй‡Ќи·Їз”±зљ„з‰№жЂ§е°†жµЃй‡Џд»ЋиЂЃз‰€жњ¬зљ„`reviews`жњЌеЉЎйЂђжёђиїЃз§»е€°дє†ж–°з‰€жњ¬жњЌеЉЎдё­гЂ‚

жіЁж„ЏиЇҐж–№ејЏе’ЊдЅїз”Ёе®№е™Ёзј–жЋ’е№іеЏ°зљ„йѓЁзЅІз‰№жЂ§жќҐиї›иЎЊз‰€жњ¬иїЃз§»жЇе®Ње…ЁдёЌеђЊзљ„гЂ‚е®№е™Ёзј–жЋ’е№іеЏ°дЅїз”Ёдє†е®ћдѕ‹scalingжќҐеЇ№жµЃй‡Џиї›иЎЊз®Ўзђ†гЂ‚иЂЊйЂљиї‡IstioпјЊдё¤дёЄз‰€жњ¬зљ„`reviews`жњЌеЉЎеЏЇд»Ґз‹¬з«‹ењ°иї›иЎЊscale upе’Њscale downпјЊе№¶дёЌдјљеЅ±е“Ќиї™дё¤дёЄз‰€жњ¬жњЌеЉЎд№‹й—ґзљ„жµЃй‡Џе€†еЏ‘гЂ‚

жѓідє†и§Јж›ґе¤љж”ЇжЊЃscalingзљ„жЊ‰з‰€жњ¬и·Їз”±еЉџиѓЅпјЊиЇ·жџҐзњ‹[Canary Deployments using Istio](https://istio.io/blog/canary-deployments-using-istio.html)гЂ‚

# жё…зђ†

* е€ й™¤и·Їз”±и§„е€™гЂ‚

  ```bash
  istioctl delete -f samples/bookinfo/kube/route-rule-all-v1.yaml
  ```

* е¦‚жћњдёЌж‰“з®—е°ќиЇ•еђЋйќўзљ„д»»еЉЎпјЊиЇ·еЏ‚з…§[BookInfo cleanup](http://istio.doczh.cn/docs/guides/bookinfo.html#cleanup) дё­зљ„ж­ҐйЄ¤е…ій—­еє”з”ЁзЁ‹еєЏгЂ‚


# иї›й¶й…иЇ»

* ж›ґе¤љзљ„е†…е®№иЇ·еЏ‚и§Ѓ[иЇ·ж±‚и·Їз”±](http://istio.doczh.cn/docs/concepts/traffic-management/rules-configuration.html)гЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2017-11-08-istio-canary-release.md

---
title:      "й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)"
subtitle:   "з”Ёж€·ж— ж„џзџҐзљ„е№іж»‘дёљеЉЎеЌ‡зє§"
description: "еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰"
excerpt: "еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰"
date:       2017-11-08 15:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-canary-release/canary_bg.jpg"
publishDate: 2017-11-08 15:00:00
tags:
    - Istio
URL: "/2017/11/08/istio-canary-release/"
categories: [ "Tech" ]
---

## зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ

еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚

"ANYTHING THAN CAN GO WRONG WILL GO WRONG"  --MURPHY'S LAW

е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚

еЏЇд»ҐйЂљиї‡[зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰](https://martinfowler.com/bliki/CanaryRelease.html)жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚

дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚
![IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ](/img/istio-canary-release/canary-deployment.PNG)

зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ

- е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚
- е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚
- еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚
- жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚
- е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚
- е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚
- еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚

## Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†
д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚

IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚

е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„[ж»љеЉЁеЌ‡зє§(rolling update)](https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/)еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ](/img/istio-canary-release/canary-deployments.gif)

## ж“ЌдЅњж­ҐйЄ¤
дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚
### жµ‹иЇ•зЋЇеўѓе®‰иЈ…
й¦–е…€еЏ‚иЂѓ[ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ](http://zhaohuabing.com/2017/11/04/istio-install_and_example/)е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚

е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚

```
istio-0.2.10/samples/bookinfo/kube/cleanup.sh
```
### йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ

й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚

д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:

```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v2
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v2
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v2:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v3
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v3
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v3:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080    
---         
```

йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚

```
kubectl apply -f <(istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml)
```

йЂљиї‡kubectlе‘Ѕд»¤иЎЊзЎ®и®¤podйѓЁзЅІпјЊеЏЇд»Ґзњ‹е€°еЏЄжњ‰V1з‰€жњ¬зљ„жњЌеЉЎгЂ‚

```
kubectl get pods

NAME                              READY     STATUS    RESTARTS   AGE
details-v1-3688945616-nhkqk       2/2       Running   0          2m
productpage-v1-2055622944-m3fql   2/2       Running   0          2m
ratings-v1-233971408-0f3s9        2/2       Running   0          2m
reviews-v1-1360980140-0zs9z       2/2       Running   0          2m
```
ењЁжµЏи§€е™Ёдё­ж‰“ејЂеє”з”ЁзЁ‹еєЏйЎµйќўпјЊењ°еќЂдёєistio-ingressзљ„External IPгЂ‚з”±дєЋV1з‰€жњ¬зљ„reviewsжњЌеЉЎе№¶дёЌдјљи°ѓз”ЁratingжњЌеЉЎпјЊе› ж­¤еЏЇд»Ґзњ‹е€°Product йЎµйќўжѕз¤єзљ„жЇдёЌеё¦жџзє§зљ„иЇ„д»·дїЎжЃЇгЂ‚

`http://10.12.25.116/productpage`  
![](//img/istio-canary-release/product-page-default.PNG)

ж­¤ж—¶зі»з»џдё­еѕ®жњЌеЉЎзљ„йѓЁзЅІжѓ…е†µе¦‚дё‹е›ѕж‰Ђз¤єпј€дё‹йќўзљ„з¤єж„Џе›ѕеќ‡еїЅз•Ґе’Њжњ¬дѕ‹е…ізі»дёЌе¤§зљ„detailsе’ЊratingsжњЌеЉЎпј‰пјљ
![](//img/istio-canary-release/canary-example-only-v1.PNG)

### йѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎ
ењЁйѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎе‰ЌпјЊйњЂи¦Ѓе…€е€›е»єдёЂжќЎзјєзњЃи·Їз”±и§„е€™route-rule-default-reviews.yamlпјЊе°†ж‰Ђжњ‰з”џдє§жµЃй‡ЏйѓЅеЇјеђ‘V1з‰€жњ¬пјЊйЃїе…ЌеЇ№зєїдёЉз”Ёж€·зљ„еЅ±е“ЌгЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
```
еђЇз”ЁиЇҐи·Їз”±и§„е€™гЂ‚

```
istioctl create -f route-rule-default-reviews.yaml -n default
```
е€›е»єдёЂдёЄV2з‰€жњ¬зљ„йѓЁзЅІж–‡д»¶bookinfo-reviews-v2.yamlпјЊе†…е®№е¦‚дё‹
```
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: reviews-v2
spec:
  replicas: 1
  template:
    metadata:
      labels:
        app: reviews
        version: v2
    spec:
      containers:
      - name: reviews
        image: istio/examples-bookinfo-reviews-v2:0.2.3
        imagePullPolicy: IfNotPresent
        ports:
        - containerPort: 9080
```

йѓЁзЅІV2з‰€жњ¬зљ„reviewsжњЌеЉЎгЂ‚
```
kubectl apply -f <(istioctl kube-inject -f  bookinfo-reviews-v2.yaml)
```
ж­¤ж—¶зі»з»џдё­йѓЁзЅІдє†V1е’ЊV2дё¤дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊдЅ†ж‰Ђжњ‰зљ„дёљеЉЎжµЃй‡ЏйѓЅиў«и§„е€™reviews-defaultеЇјеђ‘дє†V1пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-deploy-v2.PNG)


### е°†жµ‹иЇ•жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ
ењЁиї›иЎЊжЁЎж‹џжµ‹иЇ•ж—¶пјЊз”±дєЋжµ‹иЇ•зЋЇеўѓе’Њз”џдє§зЋЇеўѓзљ„зЅ‘з»њпјЊжњЌеЉЎе™ЁпјЊж“ЌдЅњзі»з»џз­‰зЋЇеўѓе­ењЁе·®еј‚пјЊеѕ€йљѕе®Ње…ЁжЁЎж‹џз”џдє§зЋЇеўѓиї›иЎЊжµ‹иЇ•гЂ‚дёєдє†е‡Џе°‘зЋЇеўѓе› зґ зљ„еЇ№жµ‹иЇ•з»“жћњзљ„еЅ±е“ЌпјЊж€‘д»¬еёЊжњ›иѓЅењЁз”џдє§зЋЇеўѓдё­иї›иЎЊдёЉзєїе‰Ќзљ„жµ‹иЇ•пјЊдЅ†е¦‚жћњжІЎжњ‰еѕ€еҐЅзљ„йљ”з¦»жЋЄж–ЅпјЊеЏЇиѓЅдјљеЇји‡ґжµ‹иЇ•еЅ±е“Ќе·ІдёЉзєїзљ„дёљеЉЎпјЊеЇ№дјЃдёљйЂ ж€ђжЌџе¤±гЂ‚

йЂљиї‡й‡‡з”ЁIstioзљ„и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁз±»з”џдє§зЋЇеўѓдё­иї›иЎЊжµ‹иЇ•пјЊеЏ€е®Ње…Ёйљ”з¦»дє†зєїдёЉз”Ёж€·зљ„з”џдє§жµЃй‡Џе’Њжµ‹иЇ•жµЃй‡ЏпјЊжњЂе°ЏеЊ–жЁЎж‹џжµ‹иЇ•еЇ№е·ІдёЉзєїдёљеЉЎзљ„еЅ±е“ЌгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-test.PNG)

е€›е»єдёЂжќЎи§„е€™пјЊе°†з”Ёж€·еђЌдёє test-user зљ„жµЃй‡ЏеЇје…Ґе€°V2

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-test-user
spec:
  destination:
    name: reviews
  precedence: 2
  match:
    request:
      headers:
        cookie:
          regex: "^(.*?;)?(user=test-user)(;.*)?$"
  route:
  - labels:
      version: v2
```
жіЁж„Џпјљprecedenceе±ћжЂ§з”ЁдєЋи®ѕзЅ®и§„е€™зљ„дје…€зє§пјЊењЁеђЊж—¶е­ењЁе¤љжќЎи§„е€™зљ„жѓ…е†µдё‹пјЊдје…€зє§й«зљ„и§„е€™е°†е…€ж‰§иЎЊгЂ‚иї™жќЎи§„е€™зљ„precedenceи®ѕзЅ®дёє2пјЊд»ҐзЎ®дїќе…¶ењЁзјєзњЃи§„е€™д№‹е‰ЌиїђиЎЊпјЊе°†test-userз”Ёж€·зљ„иЇ·ж±‚еЇјжµЃе€°V2з‰€жњ¬reviewsжњЌеЉЎдё­гЂ‚

еђЇз”ЁиЇҐи§„е€™гЂ‚

```
istioctl create -f route-rule-test-reviews-v2.yaml -n default
```
д»Ґtest-userз”Ёж€·з™»еЅ•пјЊеЏЇд»Ґзњ‹е€°V2з‰€жњ¬её¦жџзє§зљ„иЇ„д»·йЎµйќўгЂ‚
![](/img/istio-canary-release/product-page-test-user.PNG)

жіЁй”Ђtest-userпјЊеЏЄиѓЅзњ‹е€°V1з‰€жњ¬дёЌеё¦жџзє§зљ„иЇ„д»·йЎµйќўгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/product-page-default.PNG)

### е°†йѓЁе€†з”џдє§жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ

ењЁзєїдёЉжЁЎж‹џжµ‹иЇ•е®Њж€ђеђЋпјЊе¦‚жћњзі»з»џжµ‹иЇ•жѓ…е†µи‰ЇеҐЅпјЊеЏЇд»ҐйЂљиї‡и§„е€™е°†дёЂйѓЁе€†з”Ёж€·жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬зљ„жњЌеЉЎдё­пјЊиї›иЎЊе°Џи§„жЁЎзљ„вЂњй‡‘дёќй›ЂвЂќжµ‹иЇ•гЂ‚

дї®ж”№и§„е€™route-rule-default-reviews.yamlпјЊе°†50%зљ„жµЃй‡ЏеЇје…ҐV2з‰€жњ¬гЂ‚

>  е¤‡жіЁпјљжњ¬дѕ‹еЏЄжЇжЏЏиї°еЋџзђ†пјЊе› ж­¤дёєз®ЂеЌ•иµ·и§ЃпјЊе°†50%жµЃй‡ЏеЇје…ҐV2з‰€жњ¬пјЊењЁе®ћй™…ж“ЌдЅњдё­пјЊж›ґеЏЇиѓЅжЇе…€еЇје…Ґиѕѓе°‘жµЃй‡ЏпјЊз„¶еђЋж №жЌ®з›‘жЋ§зљ„ж–°з‰€жњ¬иїђиЎЊжѓ…е†µе°†жµЃй‡ЏйЂђжёђеЇје…ҐпјЊе¦‚й‡‡з”Ё5%пјЊ10%пјЊ20%пјЊ50% ...зљ„жЇ”дѕ‹йЂђжёђеЇје…ҐгЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
    weight: 50
  - labels:
      version: v2
    weight: 50
```

```
istioctl replace -f route-rule-default-reviews.yaml -n default
```

ж­¤ж—¶зі»з»џйѓЁзЅІе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-production-50.PNG)

### е°†ж‰Ђжњ‰з”џдє§жµЃй‡ЏеЇје…Ґе€°е€°V2з‰€жњ¬зљ„reviewsжњЌеЉЎ

е¦‚жћњж–°з‰€жњ¬зљ„жњЌеЉЎиїђиЎЊж­ЈеёёпјЊе€™еЏЇд»Ґе°†ж‰Ђжњ‰жµЃй‡ЏеЇје…Ґе€°V2з‰€жњ¬гЂ‚

```
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination: 
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v2
    weight: 100
```

```
istioctl replace -f route-rule-default-reviews.yaml -n default
```
зі»з»џйѓЁзЅІе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/canary-example-route-production-100.PNG)

ж­¤ж—¶дёЌз®Ўд»Ґд»»дЅ•з”Ёж€·з™»еЅ•пјЊйѓЅеЏЄиѓЅзњ‹е€°V2з‰€жњ¬её¦жџзє§зљ„иЇ„д»·йЎµйќўпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/istio-canary-release/product-page-default-v2.PNG)

>  е¤‡жіЁпјље¦‚жћњзЃ°еє¦еЏ‘еёѓзљ„иї‡зЁ‹дё­ж–°з‰€жњ¬зљ„жњЌеЉЎе‡єзЋ°й—®йўпјЊе€™еЏЇд»ҐйЂљиї‡дї®ж”№и·Їз”±и§„е€™пјЊе°†жµЃй‡Џй‡Ќж–°еЇје…Ґе€°V1з‰€жњ¬зљ„жњЌеЉЎдё­пјЊе°†V2з‰€жњ¬ж•…йљњдї®е¤ЌеђЋе†Ќиї›иЎЊжµ‹иЇ•гЂ‚

### е€ й™¤V1з‰€жњ¬зљ„reviewsжњЌеЉЎ

еѕ…V2з‰€жњ¬дёЉзєїзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤V1з‰€жњ¬зљ„reviewsжњЌеЉЎе’Њжµ‹иЇ•и§„е€™гЂ‚
```
kubectl delete pod reviews-v1-1360980140-0zs9z

istioctl delete -f route-rule-test-reviews-v2.yaml -n default
```

## еЏ‚иЂѓ

* [Istioе®ж–№ж–‡жЎЈ](https://istio.io/docs/)



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2017-11-28-access-application-from-outside.md

---
layout:     post 
title:      "е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ"
subtitle:   ""
description: "ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚"
date:       2017-11-28 12:00:00
author:     "иµµеЊ–е†°"
image: "https://img.zhaohuabing.com/post-bg-2015.jpg"
publishDate: 2017-11-28 12:00:00
tags:
    - Kubernetes
URL: "/2017/11/28/access-application-from-outside/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚
<!--more-->
>жњ¬ж–‡е°Ѕй‡ЏиЇ•зќЂе†™еѕ—жЇ”иѕѓе®№ж“зђ†и§ЈпјЊдЅ†и¦ЃеЃље€°вЂњж·±е…Ґжµ…е‡євЂќпјЊжЉЉе¤Ќжќ‚зљ„дє‹жѓ…з”ЁйЂљдї—ж“ж‡‚зљ„иЇ­иЁЂжЏЏиї°е‡єжќҐжЇйќћеёёйњЂи¦ЃеЉџеЉ›зљ„пјЊдёЄдєєи‡Єи®¤е°љжњЄиѕѕе€°ж­¤еўѓз•ЊпјЊе”Їжњ‰дёЌж–­еЉЄеЉ›гЂ‚ж­¤е¤–пјЊkubernetesжњ¬иє«жЇдёЂдёЄжЇ”иѕѓе¤Ќжќ‚зљ„зі»з»џпјЊж— жі•ењЁжњ¬ж–‡дё­иЇ¦з»†и§Јй‡Љж¶‰еЏЉзљ„ж‰Ђжњ‰з›ёе…іж¦‚еїµпјЊеђ¦е€™е°±еЏЇиѓЅи„±з¦»дє†ж–‡з« зљ„дё»йўпјЊе› ж­¤еЃ‡и®ѕй…иЇ»ж­¤ж–‡д№‹е‰ЌиЇ»иЂ…еЇ№kubernetesзљ„еџєжњ¬ж¦‚еїµе¦‚dockerпјЊcontainerпјЊpodе·Іжњ‰ж‰Ђдє†и§ЈгЂ‚

еЏ¦е¤–ж­¤ж–‡дё­зљ„дёЂдє›е†…е®№жЇи‡Єе·±зљ„зђ†и§ЈпјЊз”±дєЋдёЄдєєзљ„зџҐиЇ†иЊѓе›ґжњ‰й™ђпјЊеЏЇиѓЅжњ‰иЇЇпјЊе¦‚жћњиЇ»иЂ…еЇ№ж–‡з« дё­зљ„е†…е®№жњ‰з–‘й—®ж€–иЂ…е‹иЇЇпјЊж¬ўиїЋе¤§е®¶жЊ‡иЇЃгЂ‚

## Podе’ЊService

ж€‘д»¬й¦–е…€жќҐдє†и§ЈдёЂдё‹Kubernetesдё­зљ„Podе’ЊServiceзљ„ж¦‚еїµгЂ‚

Pod(е®№е™Ёз»„),и‹±ж–‡дё­PodжЇи±†иЌљзљ„ж„ЏжЂќпјЊд»ЋеђЌе­—зљ„еђ«д№‰еЏЇд»Ґзњ‹е‡єпјЊPodжЇдёЂз»„жњ‰дѕќиµ–е…ізі»зљ„е®№е™ЁпјЊPodеЊ…еђ«зљ„е®№е™ЁйѓЅдјљиїђиЎЊењЁеђЊдёЂдёЄhostиЉ‚з‚№дёЉпјЊе…±дє«з›ёеђЊзљ„volumesе’Њnetwork namespaceз©єй—ґгЂ‚Kubernetesд»ҐPodдёєеџєжњ¬ж“ЌдЅњеЌ•е…ѓпјЊеЏЇд»ҐеђЊж—¶еђЇеЉЁе¤љдёЄз›ёеђЊзљ„podз”ЁдєЋfailoverж€–иЂ…load balanceгЂ‚

![Pod](/img/access-application-from-outside/pod.PNG)

Podзљ„з”џе‘Ѕе‘ЁжњџжЇзџ­жљ‚зљ„пјЊKubernetesж №жЌ®еє”з”Ёзљ„й…ЌзЅ®пјЊдјљеЇ№Podиї›иЎЊе€›е»єпјЊй”ЂжЇЃпјЊж №жЌ®з›‘жЋ§жЊ‡ж ‡иї›иЎЊзј©ж‰©е®№гЂ‚kubernetesењЁе€›е»єPodж—¶еЏЇд»ҐйЂ‰ж‹©й›†зѕ¤дё­зљ„д»»дЅ•дёЂеЏ°з©єй—Ізљ„HostпјЊе› ж­¤е…¶зЅ‘з»њењ°еќЂжЇдёЌе›єе®љзљ„гЂ‚з”±дєЋPodзљ„иї™дёЂз‰№з‚№пјЊдёЂи€¬дёЌе»єи®®з›ґжЋҐйЂљиї‡Podзљ„ењ°еќЂеЋ»и®їй—®еє”з”ЁгЂ‚


дёєдє†и§Је†іи®їй—®PodдёЌж–№дѕїз›ґжЋҐи®їй—®зљ„й—®йўпјЊKubernetesй‡‡з”Ёдє†Serviceзљ„ж¦‚еїµпјЊServiceжЇеЇ№еђЋз«ЇжЏђдѕ›жњЌеЉЎзљ„дёЂз»„Podзљ„жЉЅи±ЎпјЊServiceдјљз»‘е®ље€°дёЂдёЄе›єе®љзљ„и™љж‹џIPдёЉпјЊиЇҐи™љж‹џIPеЏЄењЁKubernetes Clusterдё­еЏЇи§ЃпјЊдЅ†е…¶е®ћиЇҐIPе№¶дёЌеЇ№еє”дёЂдёЄи™љж‹џж€–иЂ…з‰©зђ†и®ѕе¤‡пјЊиЂЊеЏЄжЇIPtableдё­зљ„и§„е€™пјЊз„¶еђЋе†ЌйЂљиї‡IPtableе°†жњЌеЉЎиЇ·ж±‚и·Їз”±е€°еђЋз«Їзљ„Podдё­гЂ‚йЂљиї‡иї™з§Ќж–№ејЏпјЊеЏЇд»ҐзЎ®дїќжњЌеЉЎж¶€иґ№иЂ…еЏЇд»ҐзЁіе®љењ°и®їй—®PodжЏђдѕ›зљ„жњЌеЉЎпјЊиЂЊдёЌз”Ёе…іеїѓPodзљ„е€›е»єгЂЃе€ й™¤гЂЃиїЃз§»з­‰еЏеЊ–д»ҐеЏЉе¦‚дЅ•з”ЁдёЂз»„PodжќҐиї›иЎЊиґџиЅЅеќ‡иЎЎгЂ‚

Serviceзљ„жњєе€¶е¦‚дё‹е›ѕж‰Ђз¤єпјЊKube-proxyз›‘еђ¬kubernetes masterеўћеЉ е’Ње€ й™¤Serviceд»ҐеЏЉEndpointзљ„ж¶€жЃЇпјЊеЇ№дєЋжЇЏдёЂдёЄServiceпјЊkube proxyе€›е»єз›ёеє”зљ„iptablesи§„е€™пјЊе°†еЏ‘йЂЃе€°Service Cluster IPзљ„жµЃй‡ЏиЅ¬еЏ‘е€°ServiceеђЋз«ЇжЏђдѕ›жњЌеЉЎзљ„Podзљ„з›ёеє”з«ЇеЏЈдёЉгЂ‚
![Podе’ЊServiceзљ„е…ізі»](/img/access-application-from-outside/services-iptables-overview.png)

>е¤‡жіЁпјљи™Ѕз„¶еЏЇд»ҐйЂљиї‡Serviceзљ„Cluster IPе’ЊжњЌеЉЎз«ЇеЏЈи®їй—®е€°еђЋз«ЇPodжЏђдѕ›зљ„жњЌеЉЎпјЊдЅ†иЇҐCluster IPжЇPingдёЌйЂљзљ„пјЊеЋџе› жЇCluster IPеЏЄжЇiptableдё­зљ„и§„е€™пјЊе№¶дёЌеЇ№еє”е€°дёЂдёЄзЅ‘з»њи®ѕе¤‡гЂ‚

## Serviceзљ„з±»ећ‹
Serviceзљ„з±»ећ‹(ServiceType)е†іе®љдє†Serviceе¦‚дЅ•еЇ№е¤–жЏђдѕ›жњЌеЉЎпјЊж №жЌ®з±»ећ‹дёЌеђЊпјЊжњЌеЉЎеЏЇд»ҐеЏЄењЁKubernetes clusterдё­еЏЇи§ЃпјЊд№џеЏЇд»ҐжљґйњІе€°Clusterе¤–йѓЁгЂ‚Serviceжњ‰дё‰з§Ќз±»ећ‹пјЊClusterIPпјЊNodePortе’ЊLoadBalancerгЂ‚е…¶дё­ClusterIPжЇServiceзљ„зјєзњЃз±»ећ‹пјЊиї™з§Ќз±»ећ‹зљ„жњЌеЉЎдјљжЏђдѕ›дёЂдёЄеЏЄиѓЅењЁClusterе†…ж‰ЌиѓЅи®їй—®зљ„и™љж‹џIPпјЊе…¶е®ћзЋ°жњєе€¶е¦‚дёЉйќўдёЂиЉ‚ж‰Ђиї°гЂ‚

## йЂљиї‡NodePortжЏђдѕ›е¤–йѓЁи®їй—®е…ҐеЏЈ

йЂљиї‡е°†Serviceзљ„з±»ећ‹и®ѕзЅ®дёєNodePortпјЊеЏЇд»ҐењЁClusterдё­зљ„дё»жњєдёЉйЂљиї‡дёЂдёЄжЊ‡е®љз«ЇеЏЈжљґйњІжњЌеЉЎгЂ‚жіЁж„ЏйЂљиї‡Clusterдё­жЇЏеЏ°дё»жњєдёЉзљ„иЇҐжЊ‡е®љз«ЇеЏЈйѓЅеЏЇд»Ґи®їй—®е€°иЇҐжњЌеЉЎпјЊеЏ‘йЂЃе€°иЇҐдё»жњєз«ЇеЏЈзљ„иЇ·ж±‚дјљиў«kubernetesи·Їз”±е€°жЏђдѕ›жњЌеЉЎзљ„PodдёЉгЂ‚й‡‡з”Ёиї™з§ЌжњЌеЉЎз±»ећ‹пјЊеЏЇд»ҐењЁkubernetes clusterзЅ‘з»ње¤–йЂљиї‡дё»жњєIPпјљз«ЇеЏЈзљ„ж–№ејЏи®їй—®е€°жњЌеЉЎгЂ‚

> жіЁж„Џпјље®ж–№ж–‡жЎЈдё­иЇґжЋдє†Kubernetes clusterIpзљ„жµЃй‡ЏиЅ¬еЏ‘е€°еђЋз«ЇPodжњ‰Iptableе’Њkube proxyдё¤з§Ќж–№ејЏгЂ‚дЅ†еЇ№Nodeportе¦‚дЅ•иЅ¬еЏ‘жµЃй‡ЏеЌґиЇ­з„‰дёЌиЇ¦гЂ‚иЇҐе›ѕжќҐи‡ЄзЅ‘з»њпјЊд»Ће›ѕжќҐзњ‹жЇйЂљиї‡kube proxyиЅ¬еЏ‘зљ„пјЊж€‘жІЎжњ‰еЋ»з ”з©¶иї‡жєђз ЃгЂ‚ж¬ўиїЋдє†и§Јзљ„еђЊе­¦и·џеё–иЇґжЋгЂ‚

![Podе’ЊServiceзљ„е…ізі»](/img/access-application-from-outside/nodeport.PNG)

дё‹йќўжЇйЂљиї‡NodePortеђ‘е¤–жљґйњІжњЌеЉЎзљ„дёЂдёЄдѕ‹е­ђпјЊжіЁж„ЏеЏЇд»ҐжЊ‡е®љдёЂдёЄnodePortпјЊд№џеЏЇд»ҐдёЌжЊ‡е®љгЂ‚ењЁдёЌжЊ‡е®љзљ„жѓ…е†µдё‹пјЊkubernetesдјљд»ЋеЏЇз”Ёзљ„з«ЇеЏЈиЊѓе›ґе†…и‡ЄеЉЁе€†й…ЌдёЂдёЄйљЏжњєз«ЇеЏЈгЂ‚

```
kind: Service
apiVersion: v1
metadata:
  name: influxdb
spec:
  type: NodePort
  ports:
    - port: 8086
      nodePort: 30000
  selector:
    name: influxdb
```

йЂљиї‡NodePortд»Ће¤–йѓЁи®їй—®жњ‰дё‹йќўзљ„дёЂдє›й—®йўпјЊи‡Єе·±зЋ©зЋ©ж€–иЂ…иї›иЎЊжµ‹иЇ•ж—¶еЏЇд»ҐдЅїз”ЁиЇҐж–№жЎ€пјЊдЅ†дёЌйЂ‚е®њз”ЁдєЋз”џдє§зЋЇеўѓгЂ‚

* Kubernetes cluster hostзљ„IPеї…йЎ»жЇдёЂдёЄwell-known IPпјЊеЌіе®ўж€·з«Їеї…йЎ»зџҐйЃ“иЇҐIPгЂ‚дЅ†Clusterдё­зљ„hostжЇиў«дЅњдёєиµ„жєђж± зњ‹еѕ…зљ„пјЊеЏЇд»ҐеўћеЉ е€ й™¤пјЊжЇЏдёЄhostзљ„IPдёЂи€¬д№џжЇеЉЁжЂЃе€†й…Ќзљ„пјЊе› ж­¤е№¶дёЌиѓЅи®¤дёєhost IPеЇ№е®ўж€·з«ЇиЂЊиЁЂжЇwell-known IPгЂ‚

* е®ўж€·з«Їи®їй—®жџђдёЂдёЄе›єе®љзљ„host IPе­ењЁеЌ•з‚№ж•…йљњгЂ‚еЃ‡е¦‚дёЂеЏ°hostе®•жњєдє†пјЊkubernetes clusterдјљжЉЉеє”з”Ё reloadе€°еЏ¦дёЂиЉ‚з‚№дёЉпјЊдЅ†е®ўж€·з«Їе°±ж— жі•йЂљиї‡иЇҐhostзљ„nodeportи®їй—®еє”з”Ёдє†гЂ‚

* иЇҐж–№жЎ€еЃ‡и®ѕе®ўж€·з«ЇеЏЇд»Ґи®їй—®Kubernetes hostж‰ЂењЁзЅ‘з»њгЂ‚ењЁз”џдє§зЋЇеўѓдё­пјЊе®ўж€·з«Їе’ЊKubernetes hostзЅ‘з»њеЏЇиѓЅжЇйљ”з¦»зљ„гЂ‚дѕ‹е¦‚е®ўж€·з«ЇеЏЇиѓЅжЇе…¬зЅ‘дё­зљ„дёЂдёЄж‰‹жњєAPPпјЊжЇж— жі•з›ґжЋҐи®їй—®hostж‰ЂењЁзљ„з§Ѓжњ‰зЅ‘з»њзљ„гЂ‚

е› ж­¤пјЊйњЂи¦ЃйЂљиї‡дёЂдёЄзЅ‘е…іжќҐе°†е¤–йѓЁе®ўж€·з«Їзљ„иЇ·ж±‚еЇје…Ґе€°Clusterдё­зљ„еє”з”Ёдё­пјЊењЁkubernetesдё­пјЊиї™дёЄзЅ‘е…іжЇдёЂдёЄ4е±‚зљ„load balancerгЂ‚

## йЂљиї‡Load BalancerжЏђдѕ›е¤–йѓЁи®їй—®е…ҐеЏЈ

йЂљиї‡е°†Serviceзљ„з±»ећ‹и®ѕзЅ®дёєLoadBalancerпјЊеЏЇд»ҐдёєServiceе€›е»єдёЂдёЄе¤–йѓЁLoad BalancerгЂ‚Kubernetesзљ„ж–‡жЎЈдё­еЈ°жЋиЇҐServiceз±»ећ‹йњЂи¦Ѓдє‘жњЌеЉЎжЏђдѕ›е•†зљ„ж”ЇжЊЃпјЊе…¶е®ћиї™й‡ЊеЏЄжЇењЁKubernetesй…ЌзЅ®ж–‡д»¶дё­жЏђе‡єдє†дёЂдёЄи¦Ѓж±‚пјЊеЌідёєиЇҐServiceе€›е»єLoad BalancerпјЊи‡ідєЋе¦‚дЅ•е€›е»єе€™жЇз”±Google Cloudж€–Amazon Cloudз­‰дє‘жњЌеЉЎе•†жЏђдѕ›зљ„пјЊе€›е»єзљ„Load BalancerдёЌењЁKubernetes Clusterзљ„з®Ўзђ†иЊѓе›ґдё­гЂ‚kubernetes 1.6з‰€жњ¬дё­пјЊWS, Azure, CloudStack, GCE and OpenStackз­‰дє‘жЏђдѕ›е•†е·Із»ЏеЏЇд»ҐдёєKubernetesжЏђдѕ›Load Balancer.дё‹йќўжЇдёЂдёЄLoad balancerз±»ећ‹зљ„Serviceдѕ‹е­ђпјљ

```
kind: Service
apiVersion: v1
metadata:
  name: influxdb
spec:
  type: LoadBalancer
  ports:
    - port: 8086
  selector:
    name: influxdb
```
йѓЁзЅІиЇҐServiceеђЋпјЊж€‘д»¬жќҐзњ‹дёЂдё‹Kubernetesе€›е»єзљ„е†…е®№
```
$ kubectl get svc influxdb
NAME       CLUSTER-IP     EXTERNAL-IP     PORT(S)          AGE
influxdb   10.97.121.42   10.13.242.236   8086:30051/TCP   39s
```
Kubernetesй¦–е…€дёєinfluxdbе€›е»єдє†дёЂдёЄй›†зѕ¤е†…йѓЁеЏЇд»Ґи®їй—®зљ„ClusterIP 10.97.121.42гЂ‚з”±дєЋжІЎжњ‰жЊ‡е®љnodeportз«ЇеЏЈпјЊkubernetesйЂ‰ж‹©дє†дёЂдёЄз©єй—Ізљ„30051дё»жњєз«ЇеЏЈе°†serviceжљґйњІењЁдё»жњєзљ„зЅ‘з»њдёЉпјЊз„¶еђЋйЂљзџҐcloud providerе€›е»єдє†дёЂдёЄload balancerпјЊдёЉйќўиѕ“е‡єдё­зљ„EEXTERNAL-IPе°±жЇload balancerзљ„IPгЂ‚

жµ‹иЇ•дЅїз”Ёзљ„Cloud ProviderжЇOpenStackпјЊж€‘д»¬йЂљиї‡neutron lb-vip-showеЏЇд»ҐжџҐзњ‹е€›е»єзљ„Load BalancerиЇ¦з»†дїЎжЃЇгЂ‚

```
$ neutron lb-vip-show 9bf2a580-2ba4-4494-93fd-9b6969c55ac3
+---------------------+--------------------------------------------------------------+
| Field               | Value                                                        |
+---------------------+--------------------------------------------------------------+
| address             | 10.13.242.236                                                |
| admin_state_up      | True                                                         |
| connection_limit    | -1                                                           |
| description         | Kubernetes external service a6ffa4dadf99711e68ea2fa163e0b082 |
| id                  | 9bf2a580-2ba4-4494-93fd-9b6969c55ac3                         |
| name                | a6ffa4dadf99711e68ea2fa163e0b082                             |
| pool_id             | 392917a6-ed61-4924-acb2-026cd4181755                         |
| port_id             | e450b80b-6da1-4b31-a008-280abdc6400b                         |
| protocol            | TCP                                                          |
| protocol_port       | 8086                                                         |
| session_persistence |                                                              |
| status              | ACTIVE                                                       |
| status_description  |                                                              |
| subnet_id           | 73f8eb91-90cf-42f4-85d0-dcff44077313                         |
| tenant_id           | 4d68886fea6e45b0bc2e05cd302cccb9                             |
+---------------------+--------------------------------------------------------------+

$ neutron lb-pool-show 392917a6-ed61-4924-acb2-026cd4181755
+------------------------+--------------------------------------+
| Field                  | Value                                |
+------------------------+--------------------------------------+
| admin_state_up         | True                                 |
| description            |                                      |
| health_monitors        |                                      |
| health_monitors_status |                                      |
| id                     | 392917a6-ed61-4924-acb2-026cd4181755 |
| lb_method              | ROUND_ROBIN                          |
| members                | d0825cc2-46a3-43bd-af82-e9d8f1f85299 |
|                        | 3f73d3bb-bc40-478d-8d0e-df05cdfb9734 |
| name                   | a6ffa4dadf99711e68ea2fa163e0b082     |
| protocol               | TCP                                  |
| provider               | haproxy                              |
| status                 | ACTIVE                               |
| status_description     |                                      |
| subnet_id              | 73f8eb91-90cf-42f4-85d0-dcff44077313 |
| tenant_id              | 4d68886fea6e45b0bc2e05cd302cccb9     |
| vip_id                 | 9bf2a580-2ba4-4494-93fd-9b6969c55ac3 |
+------------------------+--------------------------------------+

$ neutron lb-member-list
+--------------------------------------+--------------+---------------+--------+----------------+--------+
| id                                   | address      | protocol_port | weight | admin_state_up | status |
+--------------------------------------+--------------+---------------+--------+----------------+--------+
| 3f73d3bb-bc40-478d-8d0e-df05cdfb9734 | 10.13.241.89 |         30051 |      1 | True           | ACTIVE |
| d0825cc2-46a3-43bd-af82-e9d8f1f85299 | 10.13.241.10 |         30051 |      1 | True           | ACTIVE |
+--------------------------------------+--------------+---------------+--------+----------------+--------
```
еЏЇд»Ґзњ‹е€°OpenStackдЅїз”ЁVIP 10.13.242.236ењЁз«ЇеЏЈ8086е€›е»єдє†дёЂдёЄLoad BalancerпјЊLoad BalancerеЇ№еє”зљ„Lb poolй‡Њйќўжњ‰дё¤дёЄж€ђе‘10.13.241.89 е’Њ 10.13.241.10пјЊж­ЈжЇKubernetesзљ„hostиЉ‚з‚№пјЊиї›е…ҐLoad balancerжµЃй‡Џиў«е€†еЏ‘е€°иї™дё¤дёЄиЉ‚з‚№еЇ№еє”зљ„Service Nodeport 30051дёЉгЂ‚

дЅ†жЇе¦‚жћње®ўж€·з«ЇдёЌењЁOpenstack Neutronзљ„з§Ѓжњ‰е­ђзЅ‘дёЉпјЊе€™иїйњЂи¦ЃењЁload balancerзљ„VIPдёЉе…іиЃ”дёЂдёЄfloating IPпјЊд»ҐдЅїе¤–йѓЁе®ўж€·з«ЇеЏЇд»ҐиїћжЋҐе€°load balancerгЂ‚

йѓЁзЅІLoad balancerеђЋпјЊеє”з”Ёзљ„ж‹“ж‰‘з»“жћ„е¦‚дё‹е›ѕж‰Ђз¤єпј€жіЁпјљжњ¬е›ѕеЃ‡и®ѕKubernetes ClusterйѓЁзЅІењЁOpenstackз§Ѓжњ‰дє‘дёЉпј‰гЂ‚
![е¤–йѓЁLoad balancer](/img/access-application-from-outside/load-balancer.PNG)

>е¤‡жіЁпјље¦‚жћњkubernetesзЋЇеўѓењЁPublic CloudдёЉпјЊLoadbalancerз±»ећ‹зљ„Serviceе€›е»єе‡єзљ„е¤–йѓЁLoad Balancerе·Із»Џеё¦жњ‰е…¬зЅ‘IPењ°еќЂпјЊжЇеЏЇд»Ґз›ґжЋҐд»Ће¤–йѓЁзЅ‘з»њиї›иЎЊи®їй—®зљ„пјЊдёЌйњЂи¦Ѓз»‘е®љfloating IPиї™дёЄж­ҐйЄ¤гЂ‚дѕ‹е¦‚ењЁAWSдёЉе€›е»єзљ„Elastic Load Balancing (ELB)пјЊжњ‰е…ґи¶ЈеЏЇд»Ґзњ‹дёЂдё‹иї™зЇ‡ж–‡з« пјљ[Expose Services on your AWS Quick Start Kubernetes cluster]( http://docs.heptio.com/content/tutorials/aws-qs-services-elb.html)гЂ‚

е¦‚жћњKubernetes ClusterжЇењЁдёЌж”ЇжЊЃLoadBalancerз‰№жЂ§зљ„cloud providerж€–иЂ…иЈёжњєдёЉе€›е»єзљ„пјЊеЏЇд»Ґе®ћзЋ°LoadBalancerз±»ећ‹зљ„Serviceеђ—пјџеє”иЇҐд№џжЇеЏЇд»Ґзљ„гЂ‚Kubernetesжњ¬иє«е№¶дёЌз›ґжЋҐж”ЇжЊЃLoadbalancerпјЊдЅ†ж€‘д»¬еЏЇд»ҐйЂљиї‡еЇ№Kubernetesиї›иЎЊж‰©е±•жќҐе®ћзЋ°пјЊеЏЇд»Ґз›‘еђ¬kubernetes Masterзљ„serviceе€›е»єж¶€жЃЇпјЊе№¶ж №жЌ®ж¶€жЃЇйѓЁзЅІз›ёеє”зљ„Load Balancerпј€е¦‚Nginxж€–иЂ…HAProxyпј‰пјЊжќҐе®ћзЋ°Load balancerз±»ећ‹зљ„ServiceгЂ‚


йЂљиї‡и®ѕзЅ®Serviceз±»ећ‹жЏђдѕ›зљ„жЇе››е±‚Load BalancerпјЊеЅ“еЏЄйњЂи¦Ѓеђ‘е¤–жљґйњІдёЂдёЄжњЌеЉЎзљ„ж—¶еЂ™пјЊеЏЇд»Ґз›ґжЋҐй‡‡з”Ёиї™з§Ќж–№ејЏгЂ‚дЅ†ењЁдёЂдёЄеє”з”ЁйњЂи¦ЃеЇ№е¤–жЏђдѕ›е¤љдёЄжњЌеЉЎж—¶пјЊй‡‡з”ЁиЇҐж–№ејЏдјљдёєжЇЏдёЂдёЄжњЌеЉЎпј€IP+Portпј‰йѓЅе€›е»єдёЂдёЄе¤–йѓЁload balancerгЂ‚е¦‚дё‹е›ѕж‰Ђз¤є
![е€›е»єе¤љдёЄLoad balancerжљґйњІеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ](/img/access-application-from-outside/multiple-load-balancer.PNG)
дёЂи€¬жќҐиЇґпјЊеђЊдёЂдёЄеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ/иµ„жєђдјљж”ѕењЁеђЊдёЂдёЄеџџеђЌдё‹пјЊењЁиї™з§Ќжѓ…е†µдё‹пјЊе€›е»єе¤љдёЄLoad balancerжЇе®Ње…ЁжІЎжњ‰еї…и¦Ѓзљ„пјЊеЏЌиЂЊеё¦жќҐдє†йўќе¤–зљ„ејЂй”Ђе’Њз®Ўзђ†ж€ђжњ¬гЂ‚з›ґжЋҐе°†жњЌеЉЎжљґйњІз»™е¤–йѓЁз”Ёж€·д№џдјљеЇји‡ґдє†е‰Ќз«Їе’ЊеђЋз«Їзљ„иЂ¦еђ€пјЊеЅ±е“Ќдє†еђЋз«Їжћ¶жћ„зљ„зЃµжґ»жЂ§пјЊе¦‚жћњд»ҐеђЋз”±дєЋдёљеЉЎйњЂж±‚еЇ№жњЌеЉЎиї›иЎЊи°ѓж•ґдјљз›ґжЋҐеЅ±е“Ќе€°е®ўж€·з«ЇгЂ‚еЏЇд»ҐйЂљиї‡дЅїз”ЁKubernetes Ingressиї›иЎЊL7 load balancingжќҐи§Је†іиЇҐй—®йўгЂ‚

## й‡‡з”ЁIngressдЅњдёєдёѓе±‚load balancer
й¦–е…€зњ‹дёЂдё‹еј•е…ҐIngressеђЋзљ„еє”з”Ёж‹“ж‰‘з¤єж„Џе›ѕпј€жіЁпјљжњ¬е›ѕеЃ‡и®ѕKubernetes ClusterйѓЁзЅІењЁOpenstackз§Ѓжњ‰дє‘дёЉпј‰гЂ‚
![й‡‡з”ЁIngressжљґйњІеє”з”Ёзљ„е¤љдёЄжњЌеЉЎ](/img/access-application-from-outside/ingress.PNG)
иї™й‡ЊIngressиµ·е€°дє†дёѓе±‚иґџиЅЅеќ‡иЎЎе™Ёе’ЊHttpж–№еђ‘д»Јзђ†зљ„дЅњз”ЁпјЊеЏЇд»Ґж №жЌ®дёЌеђЊзљ„urlжЉЉе…ҐеЏЈжµЃй‡Џе€†еЏ‘е€°дёЌеђЊзљ„еђЋз«ЇServiceгЂ‚е¤–йѓЁе®ўж€·з«ЇеЏЄзњ‹е€°foo.bar.comиї™дёЄжњЌеЉЎе™ЁпјЊе±Џи”Ѕдє†е†…йѓЁе¤љдёЄServiceзљ„е®ћзЋ°ж–№ејЏгЂ‚й‡‡з”Ёиї™з§Ќж–№ејЏпјЊз®ЂеЊ–дє†е®ўж€·з«Їзљ„и®їй—®пјЊе№¶еўћеЉ дє†еђЋз«Їе®ћзЋ°е’ЊйѓЁзЅІзљ„зЃµжґ»жЂ§пјЊеЏЇд»ҐењЁдёЌеЅ±е“Ќе®ўж€·з«Їзљ„жѓ…е†µдё‹еЇ№еђЋз«Їзљ„жњЌеЉЎйѓЁзЅІиї›иЎЊи°ѓж•ґгЂ‚

дё‹йќўжЇKubernetes Ingressй…ЌзЅ®ж–‡д»¶зљ„з¤єдѕ‹пјЊењЁи™љж‹џдё»жњєfoot.bar.comдё‹йќўе®љд№‰дє†дё¤дёЄPathпјЊе…¶дё­/fooиў«е€†еЏ‘е€°еђЋз«ЇжњЌеЉЎs1пјЊ/barиў«е€†еЏ‘е€°еђЋз«ЇжњЌеЉЎs2гЂ‚

```
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: test
  annotations:
    ingress.kubernetes.io/rewrite-target: /
spec:
  rules:
  - host: foo.bar.com
    http:
      paths:
      - path: /foo
        backend:
          serviceName: s1
          servicePort: 80
      - path: /bar
        backend:
          serviceName: s2
          servicePort: 80
```

жіЁж„Џиї™й‡ЊIngressеЏЄжЏЏиї°дє†дёЂдёЄи™љж‹џдё»жњєи·Їеѕ„е€†еЏ‘зљ„и¦Ѓж±‚пјЊеЏЇд»Ґе®љд№‰е¤љдёЄIngressпјЊжЏЏиї°дёЌеђЊзљ„7е±‚е€†еЏ‘и¦Ѓж±‚пјЊиЂЊиї™дє›и¦Ѓж±‚йњЂи¦Ѓз”±дёЂдёЄIngress ControllerжќҐе®ћзЋ°гЂ‚Ingress Contorllerдјљз›‘еђ¬Kubernetes Masterеѕ—е€°Ingressзљ„е®љд№‰пјЊе№¶ж №жЌ®Ingressзљ„е®љд№‰еЇ№дёЂдёЄ7е±‚д»Јзђ†иї›иЎЊз›ёеє”зљ„й…ЌзЅ®пјЊд»Ґе®ћзЋ°Ingressе®љд№‰дё­и¦Ѓж±‚зљ„и™љж‹џдё»жњєе’Њи·Їеѕ„е€†еЏ‘и§„е€™гЂ‚Ingress Controllerжњ‰е¤љз§Ќе®ћзЋ°пјЊKubernetesжЏђдѕ›дє†дёЂдёЄ[еџєдєЋNginxзљ„Ingress Controller](https://github.com/kubernetes/ingress-nginx)гЂ‚йњЂи¦ЃжіЁж„Џзљ„жЇпјЊењЁйѓЁзЅІKubernetesй›†зѕ¤ж—¶е№¶дёЌдјљзјєзњЃйѓЁзЅІIngress ControllerпјЊйњЂи¦Ѓж€‘д»¬и‡ЄиЎЊйѓЁзЅІгЂ‚

дё‹йќўжЇйѓЁзЅІNginx Ingress Controllerзљ„й…ЌзЅ®ж–‡д»¶з¤єдѕ‹пјЊжіЁж„Џиї™й‡ЊдёєNginx Ingress Controllerе®љд№‰дє†дёЂдёЄLoadBalancerз±»ећ‹зљ„ServiceпјЊд»ҐдёєIngress ControllerжЏђдѕ›дёЂдёЄе¤–йѓЁеЏЇд»Ґи®їй—®зљ„е…¬зЅ‘IPгЂ‚

```
apiVersion: v1
kind: Service
metadata:
  name: nginx-ingress
spec:
  type: LoadBalancer
  ports:
    - port: 80
      name: http
    - port: 443
      name: https
  selector:
    k8s-app: nginx-ingress-lb
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: nginx-ingress-controller
spec:
  replicas: 2
  revisionHistoryLimit: 3
  template:
    metadata:
      labels:
        k8s-app: nginx-ingress-lb
    spec:
      terminationGracePeriodSeconds: 60
      containers:
        - name: nginx-ingress-controller
          image: gcr.io/google_containers/nginx-ingress-controller:0.8.3
          imagePullPolicy: Always
    //----omitted for brevity----
```

>е¤‡жіЁпјљGoogle Cloudз›ґжЋҐж”ЇжЊЃIngressиµ„жєђпјЊе¦‚жћњеє”з”ЁйѓЁзЅІењЁGoogle Cloudдё­пјЊGoogle Cloudдјљи‡ЄеЉЁдёєIngressиµ„жєђе€›е»єдёЂдёЄ7е±‚load balancerпјЊе№¶дёєд№‹е€†й…ЌдёЂдёЄе¤–йѓЁIPпјЊдёЌйњЂи¦Ѓи‡ЄиЎЊйѓЁзЅІIngress ControllerгЂ‚

## з»“и®є
й‡‡з”ЁIngressеЉ дёЉLoad balancerзљ„ж–№ејЏеЏЇд»Ґе°†Kubernetes Clusterдё­зљ„еє”з”ЁжњЌеЉЎжљґйњІз»™е¤–йѓЁе®ўж€·з«ЇгЂ‚иї™з§Ќж–№ејЏжЇ”иѕѓзЃµжґ»пјЊеџєжњ¬еЏЇд»Ґж»Ўи¶іе¤§йѓЁе€†еє”з”Ёзљ„йњЂи¦ЃгЂ‚дЅ†е¦‚жћњйњЂи¦ЃењЁе…ҐеЏЈе¤„жЏђдѕ›ж›ґејєе¤§зљ„еЉџиѓЅпјЊе¦‚жњ‰ж›ґй«зљ„ж•€зЋ‡и¦Ѓж±‚пјЊйњЂж±‚иї›иЎЊе®‰е…Ёи®¤иЇЃпјЊж—Ґеї—и®°еЅ•пјЊж€–иЂ…йњЂи¦ЃдёЂдє›еє”з”Ёзљ„е®ље€¶йЂ»иѕ‘пјЊе€™йњЂи¦ЃиЂѓи™‘й‡‡з”Ёеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„API GatewayжЁЎејЏпјЊй‡‡з”ЁдёЂдёЄж›ґејєе¤§зљ„API GatewayжќҐдЅњдёєеє”з”Ёзљ„жµЃй‡Џе…ҐеЏЈгЂ‚

## еЏ‚иЂѓ

* [Accessing Kubernetes Pods from Outside of the Cluster](http://alesnosek.com/blog/2017/02/14/accessing-kubernetes-pods-from-outside-of-the-cluster/)

* [Kubernetes nginx-ingress-controller](https://daemonza.github.io/2017/02/13/kubernetes-nginx-ingress-controller/)

* [Using Kubernetes external load balancer feature](https://docs.openstack.org/magnum/ocata/dev/kubernetes-load-balancer.html)

* [Expose Services on your AWS Quick Start Kubernetes cluster]( http://docs.heptio.com/content/tutorials/aws-qs-services-elb.html)




==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-01-02-nginmesh-install.md

---
layout:     post 
title:      "NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—"
subtitle:   ""
description: "NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚"
date:       2018-01-02 12:00:00
author:     "иµµеЊ–е†°"
image: "img/post-bg-2015.jpg"
publishDate: 2018-01-02 12:00:00
tags:
    - Istio 
    - service Mesh
    - nginmesh
URL: "/2018/01/02/nginmesh-install/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚
<!--more-->
![Nginmesh sidecar proxy](https://raw.githubusercontent.com/nginmesh/nginmesh/master/images/nginx_sidecar.png)

> е¤‡жіЁпјљжњ¬ж–‡е®‰иЈ…жЊ‡еЌ—еџєдєЋUbuntu 16.04пјЊењЁCentosдёЉжџђдє›е®‰иЈ…ж­ҐйЄ¤зљ„е‘Ѕд»¤еЏЇиѓЅйњЂи¦ЃзЁЌдЅњж”№еЉЁгЂ‚

## е®‰иЈ…Kubernetes Cluster

Kubernetes ClusterеЊ…еђ«etcd, api server, schedulerпјЊcontroller managerз­‰е¤љдёЄз»„д»¶пјЊз»„д»¶д№‹й—ґзљ„й…ЌзЅ®иѕѓдёєе¤Ќжќ‚пјЊе¦‚жћњи¦Ѓж‰‹еЉЁеЋ»йЂђдёЄе®‰иЈ…еЏЉй…ЌзЅ®еђ„дёЄз»„д»¶пјЊйњЂи¦Ѓдє†и§ЈkubernetesпјЊж“ЌдЅњзі»з»џеЏЉзЅ‘з»њз­‰е¤љж–№йќўзљ„зџҐиЇ†пјЊеЇ№е®‰иЈ…дєєе‘зљ„иѓЅеЉ›и¦Ѓж±‚иѕѓй«гЂ‚kubeadmжЏђдѕ›дє†дёЂдёЄз®ЂдѕїпјЊеї«йЂџе®‰иЈ…Kubernetes Clusterзљ„ж–№ејЏпјЊе№¶дё”еЏЇд»ҐйЂљиї‡е®‰иЈ…й…ЌзЅ®ж–‡д»¶жЏђдѕ›иѕѓй«зљ„зЃµжґ»жЂ§пјЊе› ж­¤ж€‘д»¬й‡‡з”Ёkubeadmе®‰иЈ…kubernetes clusterгЂ‚

й¦–е…€еЏ‚з…§[kubeadmзљ„иЇґжЋж–‡жЎЈ](https://kubernetes.io/docs/setup/independent/install-kubeadm)ењЁи®Ўе€’йѓЁзЅІkubernetes clusterзљ„жЇЏдёЄиЉ‚з‚№дёЉе®‰иЈ…dockerпјЊkubeadm, kubelet е’Њ kubectlгЂ‚

е®‰иЈ…docker
```
apt-get update
apt-get install -y docker.io
```

дЅїз”Ёgoogleзљ„жєђе®‰иЈ…kubelet kubeadmе’Њkubectl
```
apt-get update && apt-get install -y apt-transport-https
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | apt-key add -
cat <<EOF >/etc/apt/sources.list.d/kubernetes.list
deb http://apt.kubernetes.io/ kubernetes-xenial main
EOF
apt-get update
apt-get install -y kubelet kubeadm kubectl
```
дЅїз”Ёkubeadminе®‰иЈ…kubernetes cluster

NginmeshдЅїз”ЁKubernetesзљ„[Initializerжњєе€¶](https://kubernetes.io/docs/admin/extensible-admission-controllers/#initializers)жќҐе®ћзЋ°sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚Initializerз›®е‰ЌжЇkubernetesзљ„дёЂдёЄAlpha featureпјЊзјєзњЃжЇжњЄеђЇз”Ёзљ„пјЊйњЂи¦Ѓ[йЂљиї‡api serverзљ„еЏ‚ж•°](https://kubernetes.io/docs/admin/extensible-admission-controllers/#enable-initializers-alpha-feature)ж‰“ејЂгЂ‚е› ж­¤ж€‘д»¬е…€е€›е»єдёЂдёЄkubeadm-confй…ЌзЅ®ж–‡д»¶пјЊз”ЁдєЋй…ЌзЅ®api serverзљ„еђЇеЉЁеЏ‚ж•°

```
apiVersion: kubeadm.k8s.io/v1alpha1
kind: MasterConfiguration
apiServerExtraArgs:
  admission-control: Initializers,NamespaceLifecycle,LimitRanger,ServiceAccount,PersistentVolumeLabel,DefaultStorageClass,ValidatingAdmissionWebhook,ResourceQuota,DefaultTolerationSeconds,MutatingAdmissionWebhook
  runtime-config: admissionregistration.k8s.io/v1alpha1
```
дЅїз”Ёkubeadmin initе‘Ѕд»¤е€›е»єkubernetes masterиЉ‚з‚№гЂ‚
еЏЇд»Ґе…€иЇ•з”Ё--dry-runеЏ‚ж•°йЄЊиЇЃдёЂдё‹й…ЌзЅ®ж–‡д»¶гЂ‚
```
kubeadm init --config kubeadm-conf --dry-run
```
е¦‚жћњдёЂе€‡ж­ЈеёёпјЊkubeadmе°†жЏђз¤єпјљFinished dry-running successfully. Above are the resources that would be created.

дё‹йќўе†Ќе®ћй™…ж‰§иЎЊе€›е»єе‘Ѕд»¤
```
kubeadm init --config kubeadm-conf
```
kubeadmдјљиЉ±дёЂз‚№ж—¶й—ґж‹‰еЏ–docker imageпјЊе‘Ѕд»¤е®Њж€ђеђЋпјЊдјљжЏђз¤єе¦‚дЅ•е°†дёЂдёЄwork nodeеЉ е…ҐclusterгЂ‚е¦‚дё‹ж‰Ђз¤єпјљ

```
 kubeadm join --token fffbf6.13bcb3563428cf23 10.12.5.15:6443 --discovery-token-ca-cert-hash sha256:27ad08b4cd9f02e522334979deaf09e3fae80507afde63acf88892c8b72f143f
 ```
> е¤‡жіЁпјљз›®е‰ЌkubeadmеЏЄиѓЅж”ЇжЊЃењЁдёЂдёЄиЉ‚з‚№дёЉе®‰иЈ…masterпјЊж”ЇжЊЃй«еЏЇз”Ёзљ„е®‰иЈ…е°†ењЁеђЋз»­з‰€жњ¬е®ћзЋ°гЂ‚kubernetesе®ж–№з»™е‡єзљ„workaroundе»єи®®жЇе®љжњџе¤‡д»Ѕ etcd ж•°жЌ®[kubeadm limitations](https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#limitations)гЂ‚

Kubeadmе№¶дёЌдјље®‰иЈ…PodйњЂи¦Ѓзљ„зЅ‘з»њпјЊе› ж­¤йњЂи¦Ѓж‰‹еЉЁе®‰иЈ…дёЂдёЄPodзЅ‘з»њпјЊиї™й‡Њй‡‡з”Ёзљ„жЇCalico
```
kubectl apply -f https://docs.projectcalico.org/v2.6/getting-started/kubernetes/installation/hosted/kubeadm/1.6/calico.yaml
```

дЅїз”Ёkubectl е‘Ѕд»¤жЈЂжџҐmasterиЉ‚з‚№е®‰иЈ…з»“жћњ

```
ubuntu@kube-1:~$ kubectl get all
NAME             TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
svc/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   12m
```

 ењЁжЇЏеЏ°е·ҐдЅњиЉ‚з‚№дёЉж‰§иЎЊдёЉиї°kubeadm joinе‘Ѕд»¤пјЊеЌіеЏЇжЉЉе·ҐдЅњиЉ‚з‚№еЉ е…Ґй›†зѕ¤дё­гЂ‚дЅїз”Ёkubectl е‘Ѕд»¤жЈЂжџҐclusterдё­зљ„иЉ‚з‚№жѓ…е†µгЂ‚

```
 ubuntu@kube-1:~$ kubectl get nodes
NAME      STATUS    ROLES     AGE       VERSION
kube-1    Ready     master    21m       v1.9.0
kube-2    Ready     <none>    47s       v1.9.0
```

## е®‰иЈ…IstioжЋ§е€¶йќўе’ЊBookinfo

еЏ‚иЂѓ[Nginmeshж–‡жЎЈ](https://github.com/nginmesh/nginmesh)е®‰иЈ…IstioжЋ§е€¶йќўе’ЊBookinfo
иЇҐж–‡жЎЈзљ„ж­ҐйЄ¤жё…ж™°жЋзЎ®пјЊиї™й‡ЊдёЌе†Ќиµиї°гЂ‚

йњЂи¦ЃжіЁж„Џзљ„жЇпјЊењЁNiginmeshж–‡жЎЈдё­пјЊе»єи®®йЂљиї‡Ingressзљ„External IPи®їй—®bookinfoеє”з”ЁзЁ‹еєЏгЂ‚дЅ†[LoadbalancerеЏЄењЁж”ЇжЊЃзљ„дє‘зЋЇеўѓдё­ж‰Ќдјљз”џж•€](https://kubernetes.io/docs/concepts/services-networking/service/#type-loadbalancer)пјЊе№¶дё”иїйњЂи¦Ѓиї›иЎЊдёЂе®љзљ„й…ЌзЅ®гЂ‚е¦‚ж€‘ењЁOpenstackзЋЇеўѓдё­е€›е»єзљ„clusterпјЊе€™йњЂи¦ЃеЏ‚з…§[иЇҐж–‡жЎЈ](https://docs.openstack.org/magnum/ocata/dev/kubernetes-load-balancer.html)еЇ№Openstackиї›иЎЊй…ЌзЅ®еђЋпјЊOpenstackж‰ЌиѓЅе¤џж”ЇжЊЃkubernetesзљ„Loadbalancer serviceгЂ‚е¦‚жњЄиї›иЎЊй…ЌзЅ®пјЊйЂљиї‡е‘Ѕд»¤жџҐзњ‹Ingress External IPдёЂз›ґжѕз¤єдёєpendingзЉ¶жЂЃгЂ‚

```
NAME            TYPE           CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                            AGE
istio-ingress   LoadBalancer   10.111.158.10   <pending>     80:32765/TCP,443:31969/TCP                                         11m
istio-mixer     ClusterIP      10.107.135.31   <none>        9091/TCP,15004/TCP,9093/TCP,9094/TCP,9102/TCP,9125/UDP,42422/TCP   11m
istio-pilot     ClusterIP      10.111.110.65   <none>        15003/TCP,443/TCP                                                  11m
```

е¦‚дёЌиѓЅй…ЌзЅ®дє‘зЋЇеўѓжЏђдѕ›Loadbalancerз‰№жЂ§, ж€‘д»¬еЏЇд»Ґз›ґжЋҐдЅїз”Ёй›†зѕ¤дё­зљ„дёЂдёЄиЉ‚з‚№IP:Nodeportи®їй—®Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚

```
http://10.12.5.31:32765/productpage
```
жѓіи¦Ѓдє†и§Јж›ґе¤ље…ідєЋе¦‚дЅ•д»Ћй›†зѕ¤е¤–йѓЁиї›иЎЊи®їй—®зљ„е†…е®№пјЊеЏЇд»ҐеЏ‚иЂѓ[е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ](http://zhaohuabing.com/2017/11/28/access-application-from-outside/)

## жџҐзњ‹и‡ЄеЉЁжіЁе…Ґзљ„sidecar
дЅїз”Ё kubectl get pod reviews-v3-5fff595d9b-zsb2q -o yaml е‘Ѕд»¤жџҐзњ‹Bookinfoеє”з”Ёзљ„reviewsжњЌеЉЎзљ„PodгЂ‚

```
apiVersion: v1
kind: Pod
metadata:
  annotations:
    sidecar.istio.io/status: injected-version-0.2.12
  creationTimestamp: 2018-01-02T02:33:36Z
  generateName: reviews-v3-5fff595d9b-
  labels:
    app: reviews
    pod-template-hash: "1999151856"
    version: v3
  name: reviews-v3-5fff595d9b-zsb2q
  namespace: default
  ownerReferences:
  - apiVersion: extensions/v1beta1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: reviews-v3-5fff595d9b
    uid: 5599688c-ef65-11e7-8be6-fa163e160c7d
  resourceVersion: "3757"
  selfLink: /api/v1/namespaces/default/pods/reviews-v3-5fff595d9b-zsb2q
  uid: 559d8c6f-ef65-11e7-8be6-fa163e160c7d
spec:
  containers:
  - image: istio/examples-bookinfo-reviews-v3:0.2.3
    imagePullPolicy: IfNotPresent
    name: reviews
    ports:
    - containerPort: 9080
      protocol: TCP
    resources: {}
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  - args:
    - proxy
    - sidecar
    - -v
    - "2"
    - --configPath
    - /etc/istio/proxy
    - --binaryPath
    - /usr/local/bin/envoy
    - --serviceCluster
    - reviews
    - --drainDuration
    - 45s
    - --parentShutdownDuration
    - 1m0s
    - --discoveryAddress
    - istio-pilot.istio-system:15003
    - --discoveryRefreshDelay
    - 1s
    - --zipkinAddress
    - zipkin.istio-system:9411
    - --connectTimeout
    - 10s
    - --statsdUdpAddress
    - istio-mixer.istio-system:9125
    - --proxyAdminPort
    - "15000"
    - --controlPlaneAuthPolicy
    - NONE
    env:
    - name: POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    - name: INSTANCE_IP
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: status.podIP
    image: nginmesh/proxy_debug:0.2.12
    imagePullPolicy: Always
    name: istio-proxy
    resources: {}
    securityContext:
      privileged: true
      readOnlyRootFilesystem: false
      runAsUser: 1337
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /etc/istio/proxy
      name: istio-envoy
    - mountPath: /etc/certs/
      name: istio-certs
      readOnly: true
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  dnsPolicy: ClusterFirst
  initContainers:
  - args:
    - -p
    - "15001"
    - -u
    - "1337"
    image: nginmesh/proxy_init:0.2.12
    imagePullPolicy: Always
    name: istio-init
    resources: {}
    securityContext:
      capabilities:
        add:
        - NET_ADMIN
      privileged: true
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: default-token-48vxx
      readOnly: true
  nodeName: kube-2
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext: {}
  serviceAccount: default
  serviceAccountName: default
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - emptyDir:
      medium: Memory
    name: istio-envoy
  - name: istio-certs
    secret:
      defaultMode: 420
      optional: true
      secretName: istio.default
  - name: default-token-48vxx
    secret:
      defaultMode: 420
      secretName: default-token-48vxx
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:33:54Z
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:36:06Z
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: 2018-01-02T02:33:36Z
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: docker://5d0c189b9dde8e14af4c8065ee5cf007508c0bb2b3c9535598d99dc49f531370
    image: nginmesh/proxy_debug:0.2.12
    imageID: docker-pullable://nginmesh/proxy_debug@sha256:6275934ea3a1ce5592e728717c4973ac704237b06b78966a1d50de3bc9319c71
    lastState: {}
    name: istio-proxy
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: 2018-01-02T02:36:05Z
  - containerID: docker://aba3e114ac1aa87c75e969dcc1b0725696de78d3407c5341691d9db579429f28
    image: istio/examples-bookinfo-reviews-v3:0.2.3
    imageID: docker-pullable://istio/examples-bookinfo-reviews-v3@sha256:6e100e4805a8c10c47040ea7b66f10ad619c7e0068696032546ad3e35ad46570
    lastState: {}
    name: reviews
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: 2018-01-02T02:35:47Z
  hostIP: 10.12.5.31
  initContainerStatuses:
  - containerID: docker://b55108625832a3205a265e8b45e5487df10276d5ae35af572ea4f30583933c1f
    image: nginmesh/proxy_init:0.2.12
    imageID: docker-pullable://nginmesh/proxy_init@sha256:f73b68839f6ac1596d6286ca498e4478b8fcfa834e4884418d23f9f625cbe5f5
    lastState: {}
    name: istio-init
    ready: true
    restartCount: 0
    state:
      terminated:
        containerID: docker://b55108625832a3205a265e8b45e5487df10276d5ae35af572ea4f30583933c1f
        exitCode: 0
        finishedAt: 2018-01-02T02:33:53Z
        reason: Completed
        startedAt: 2018-01-02T02:33:53Z
  phase: Running
  podIP: 192.168.79.138
  qosClass: BestEffort
  startTime: 2018-01-02T02:33:39Z

```

иЇҐе‘Ѕд»¤иЎЊиѕ“е‡єзљ„е†…е®№з›ёеЅ“й•їпјЊж€‘д»¬еЏЇд»Ґзњ‹е€°Podдё­жіЁе…Ґдє†дёЂдёЄ nginmesh/proxy_debug container,иїеўћеЉ дє†дёЂдёЄinitContainer nginmesh/proxy_initгЂ‚иї™дё¤дёЄе®№е™ЁжЇйЂљиї‡kubernetes initializerи‡ЄеЉЁжіЁе…Ґе€°podдё­зљ„гЂ‚иї™дё¤дёЄcontainerе€†е€«жњ‰д»Ђд№€дЅњз”Ёе‘ўпјџи®©ж€‘д»¬зњ‹дёЂдё‹[Nginmeshжєђд»Јз Ѓдё­зљ„иЇґжЋ](https://github.com/nginmesh/nginmesh/tree/49cd69a61d7d330685ef39ccd63fac06421c3da2/istio/agent)пјљ

* proxy_debug, which comes with the agent and NGINX.

* proxy_init, which is used for configuring iptables rules for transparently injecting an NGINX proxy from the proxy_debug image into an application pod.

proxy_debugе°±жЇsidecarд»Јзђ†пјЊproxy_initе€™з”ЁдєЋй…ЌзЅ®iptable и§„е€™пјЊд»Ґе°†еє”з”Ёзљ„жµЃй‡ЏеЇје…Ґе€°sidecarд»Јзђ†дё­гЂ‚

жџҐзњ‹proxy_initзљ„Dockerfileж–‡д»¶пјЊеЏЇд»Ґзњ‹е€°proxy_initе…¶е®ћжЇи°ѓз”Ёдє†[prepare_proxy.sh](https://github.com/nginmesh/nginmesh/blob/49cd69a61d7d330685ef39ccd63fac06421c3da2/istio/agent/docker-init/prepare_proxy.sh)иї™дёЄи„љжњ¬жќҐе€›е»єiptableи§„е€™гЂ‚

proxy_debug Dockerfile

```
FROM debian:stretch-slim
RUN apt-get update && apt-get install -y iptables
ADD prepare_proxy.sh /
ENTRYPOINT ["/prepare_proxy.sh"]
```

prepare_proxy.shиЉ‚йЂ‰

```
...omitted for brevity 

# Create a new chain for redirecting inbound and outbound traffic to
# the common Envoy port.
iptables -t nat -N ISTIO_REDIRECT                                             -m comment --comment "istio/redirect-common-chain"
iptables -t nat -A ISTIO_REDIRECT -p tcp -j REDIRECT --to-port ${ENVOY_PORT}  -m comment --comment "istio/redirect-to-envoy-port"

# Redirect all inbound traffic to Envoy.
iptables -t nat -A PREROUTING -j ISTIO_REDIRECT                               -m comment --comment "istio/install-istio-prerouting"

# Create a new chain for selectively redirecting outbound packets to
# Envoy.
iptables -t nat -N ISTIO_OUTPUT                                               -m comment --comment "istio/common-output-chain"

...omitted for brevity
```

## е…іиЃ”й…иЇ»

[IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°](http://zhaohuabing.com/2017/11/04/istio-install_and_example/)

## еЏ‚иЂѓ

* [Service Mesh with Istio and NGINX](https://github.com/nginmesh/nginmesh/)

* [Using kubeadm to Create a Cluster](https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/#14-installing-kubeadm-on-your-hosts)

* [Kubernetes Reference Documentation-Dynamic Admission Control](https://kubernetes.io/docs/admin/extensible-admission-controllers/#enable-initializers-alpha-feature)




==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-02-03-authentication-and-authorization-of-microservice.md

---
layout:     post 
title:      "е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ"
subtitle:   "еѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€жЋўи®Ё"
description: "еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚"
excerpt: "еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚"
date:       2018-02-03 12:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-02-03-authentication-and-authorization-of-microservice/AuthenticationTrack.jpeg"
publishDate: 2018-02-03 12:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/22/user_authentication_authorization/"
categories: [ Tech ]
---

## е‰ЌиЁЂ

еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚
<!--more-->
## еЌ•дЅ“еє”з”Ёзљ„е®ћзЋ°ж–№ејЏ
ењЁеЌ•дЅ“жћ¶жћ„дё‹пјЊж•ґдёЄеє”з”ЁжЇдёЂдёЄиї›зЁ‹пјЊењЁеє”з”Ёдё­пјЊдёЂи€¬дјљз”ЁдёЂдёЄе®‰е…ЁжЁЎеќ—жќҐе®ћзЋ°з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓгЂ‚

з”Ёж€·з™»еЅ•ж—¶пјЊеє”з”Ёзљ„е®‰е…ЁжЁЎеќ—еЇ№з”Ёж€·иє«д»Ѕиї›иЎЊйЄЊиЇЃпјЊйЄЊиЇЃз”Ёж€·иє«д»Ѕеђ€жі•еђЋпјЊдёєиЇҐз”Ёж€·з”џж€ђдёЂдёЄдјљиЇќ(Session)пјЊе№¶дёєиЇҐSessionе…іиЃ”дёЂдёЄе”ЇдёЂзљ„зј–еЏ·(Session Id)гЂ‚SessionжЇеє”з”Ёдё­зљ„дёЂе°Џеќ—е†…е­з»“жћ„пјЊе…¶дё­дїќе­дє†з™»еЅ•з”Ёж€·зљ„дїЎжЃЇпјЊе¦‚User name, Role, Permissionз­‰гЂ‚жњЌеЉЎе™ЁжЉЉиЇҐSessionзљ„Session Idиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їе°†Session Idд»Ґcookieж€–иЂ…URLй‡Ќе†™зљ„ж–№ејЏи®°еЅ•дё‹жќҐпјЊе№¶ењЁеђЋз»­иЇ·ж±‚дё­еЏ‘йЂЃз»™еє”з”ЁпјЊиї™ж ·еє”з”ЁењЁжЋҐж”¶е€°е®ўж€·з«Їи®їй—®иЇ·ж±‚ж—¶еЏЇд»ҐдЅїз”ЁSession IdйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊдёЌз”ЁжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅиѕ“е…Ґз”Ёж€·еђЌе’ЊеЇ†з Ѓиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚
> е¤‡жіЁпјљдёєдє†йЃїе…ЌSession Idиў«з¬¬дё‰иЂ…ж€ЄеЏ–е’Њз›—з”ЁпјЊе®ўж€·з«Їе’Њеє”з”Ёд№‹е‰Ќеє”дЅїз”ЁTLSеЉ еЇ†йЂљдїЎпјЊsessionд№џдјљи®ѕзЅ®жњ‰иї‡жњџж—¶й—ґгЂ‚

![еЌ•дЅ“еє”з”Ёз”Ёж€·з™»еЅ•и®¤иЇЃеєЏе€—е›ѕ](/img/2018-02-03-authentication-and-authorization-of-microservice/monolith-user-login.png)
<center>еЌ•дЅ“еє”з”Ёз”Ёж€·з™»еЅ•и®¤иЇЃеєЏе€—е›ѕ</center>

е®ўж€·з«Їи®їй—®еє”з”Ёж—¶пјЊSession IdйљЏзќЂHTTPиЇ·ж±‚еЏ‘йЂЃе€°еє”з”ЁпјЊе®ўж€·з«ЇиЇ·ж±‚дёЂи€¬дјљйЂљиї‡дёЂдёЄж‹¦ж€Єе™Ёе¤„зђ†ж‰Ђжњ‰ж”¶е€°зљ„е®ўж€·з«ЇиЇ·ж±‚гЂ‚ж‹¦ж€Єе™Ёй¦–е…€е€¤ж–­Session IdжЇеђ¦е­ењЁпјЊе¦‚жћњиЇҐSession Idе­ењЁпјЊе°±зџҐйЃ“иЇҐз”Ёж€·е·Із»Џз™»еЅ•гЂ‚з„¶еђЋе†ЌйЂљиї‡жџҐиЇўз”Ёж€·жќѓй™ђе€¤ж–­з”Ёж€·иѓЅеђ¦ж‰§иЎЊиЇҐж­¤иЇ·ж±‚пјЊд»Ґе®ћзЋ°ж“ЌдЅњй‰ґжќѓгЂ‚
![еЌ•дЅ“еє”з”Ёз”Ёж€·ж“ЌдЅњй‰ґжќѓеєЏе€—е›ѕ](/img/2018-02-03-authentication-and-authorization-of-microservice/monolith-user-request.png)
<center>еЌ•дЅ“еє”з”Ёз”Ёж€·ж“ЌдЅњй‰ґжќѓеєЏе€—е›ѕ</center>

## еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓйќўдёґзљ„й—®йў
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹пјЊдёЂдёЄеє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹пјЊжЇЏдёЄеѕ®жњЌеЉЎе®ћзЋ°еЋџжќҐеЌ•дЅ“еє”з”Ёдё­дёЂдёЄжЁЎеќ—зљ„дёљеЉЎеЉџиѓЅгЂ‚еє”з”Ёж‹†е€†еђЋпјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®иЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊи®¤иЇЃе’Њй‰ґжќѓгЂ‚е¦‚жћњеЏ‚иЂѓеЌ•дЅ“еє”з”Ёзљ„е®ћзЋ°ж–№ејЏдјљйЃ‡е€°дё‹иї°й—®йўпјљ
* и®¤иЇЃе’Њй‰ґжќѓйЂ»иѕ‘йњЂи¦ЃењЁжЇЏдёЄеѕ®жњЌеЉЎдё­иї›иЎЊе¤„зђ†пјЊйњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* еѕ®жњЌеЉЎеє”йЃµеѕЄеЌ•дёЂиЃЊиґЈеЋџзђ†пјЊдёЂдёЄеѕ®жњЌеЉЎеЏЄе¤„зђ†еЌ•дёЂзљ„дёљеЉЎйЂ»иѕ‘гЂ‚и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘дёЌеє”иЇҐж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­гЂ‚ 
* дёєдє†е……е€†е€©з”Ёеѕ®жњЌеЉЎжћ¶жћ„зљ„еҐЅе¤„пјЊе®ћзЋ°еѕ®жњЌеЉЎзљ„ж°ґе№іж‰©е±•(Scalability)е’Њеј№жЂ§(Resiliency),еѕ®жњЌеЉЎжњЂеҐЅжЇж— зЉ¶жЂЃзљ„гЂ‚е› ж­¤дёЌе»єи®®дЅїз”Ёsessionиї™з§Ќжњ‰зЉ¶жЂЃзљ„ж–№жЎ€гЂ‚
* еѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚
![еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї](/img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png)
<center>еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї</center>

## еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓзљ„жЉЂжњЇж–№жЎ€

### з”Ёж€·иє«д»Ѕи®¤иЇЃ
дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊеє”з”Ёзљ„и®¤иЇЃйЂ»иѕ‘е°†дјљйќћеёёе¤Ќжќ‚гЂ‚е› ж­¤йњЂи¦ЃиЂѓи™‘дёЂдёЄSSOпј€еЌ•з‚№з™»еЅ•пј‰зљ„ж–№жЎ€пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚ з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐиЂѓи™‘ењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃгЂ‚

### з”Ёж€·зЉ¶жЂЃдїќжЊЃ
HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†еѕ€е¤љжњЌеЉЎе¦‚зЅ‘з»њиґ­з‰©пјЊдјЃдёљз®Ўзђ†зі»з»џз­‰йѓЅйњЂи¦ЃеЇ№з”Ёж€·зљ„иє«д»Ѕиї›иЎЊи®¤иЇЃпјЊе› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚

дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚

Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚

Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚[JWT(Json Web Token)](https://jwt.io)жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚

JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ
* Header<BR>
е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚
```
{
  "alg": "HS256",
  "typ": "JWT"
}
```
* Payload<BR>
еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚
```
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```
* Signature<BR>
TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚
з­ѕеђЌз®—жі•
```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret)
```

иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё"."е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token
![](https://cdn.auth0.com/content/jwt/encoded-jwt3.png)
й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ[rfc6750](https://tools.ietf.org/html/rfc6750)иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚
```
Authorization: Bearer mF_9.B5f-4.1JqM
```
й‡‡з”ЁTokenж–№ејЏиї›иЎЊз”Ёж€·и®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
1. з”Ёж€·иѕ“е…Ґз”Ёж€·еђЌ,еЇ†з Ѓз­‰йЄЊиЇЃдїЎжЃЇпјЊеђ‘жњЌеЉЎе™ЁеЏ‘иµ·з™»еЅ•иЇ·ж±‚
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃз”Ёж€·з™»еЅ•дїЎжЃЇпјЊз”џж€ђJWT token
1. жњЌеЉЎе™Ёз«Їе°†Tokenиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їдїќе­ењЁжњ¬ењ°пј€дёЂи€¬д»ҐCookieзљ„ж–№ејЏдїќе­пј‰
1. е®ўж€·з«Їеђ‘жњЌеЉЎе™Ёз«ЇеЏ‘йЂЃи®їй—®иЇ·ж±‚пјЊиЇ·ж±‚дё­жђєеё¦д№‹е‰ЌйўЃеЏ‘зљ„Token
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃTokenпјЊзЎ®и®¤з”Ёж€·зљ„иє«д»Ѕе’ЊеЇ№иµ„жєђзљ„и®їй—®жќѓй™ђпјЊе№¶иї›иЎЊз›ёеє”зљ„е¤„зђ†пј€ж‹’з»ќж€–иЂ…е…Ѓи®ёи®їй—®пј‰
![](https://cdn.auth0.com/content/jwt/jwt-diagram.png)
<center>й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃзљ„жµЃзЁ‹е›ѕ</center>

### е®ћзЋ°еЌ•з‚№з™»еЅ•
еЌ•з‚№з™»еЅ•зљ„зђ†еїµеѕ€з®ЂеЌ•пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•еє”з”ЁдёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®еє”з”Ёдё­ж‰Ђжњ‰зљ„еѕ®жњЌеЉЎгЂ‚API GatewayжЏђдѕ›дє†е®ўж€·з«Їи®їй—®еѕ®жњЌеЉЎеє”з”Ёзљ„е…ҐеЏЈпјЊTokenе®ћзЋ°дє†ж— зЉ¶жЂЃзљ„з”Ёж€·и®¤иЇЃгЂ‚з»“еђ€иї™дё¤з§ЌжЉЂжњЇпјЊеЏЇд»Ґдёєеѕ®жњЌеЉЎеє”з”Ёе®ћзЋ°дёЂдёЄеЌ•з‚№з™»еЅ•ж–№жЎ€гЂ‚

з”Ёж€·зљ„и®¤иЇЃжµЃзЁ‹е’Њй‡‡з”ЁTokenж–№ејЏи®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹з±»дјјпјЊдёЌеђЊд№‹е¤„жЇеЉ е…Ґдє†API GatewayдЅњдёєе¤–йѓЁиЇ·ж±‚зљ„е…ҐеЏЈгЂ‚

з”Ёж€·з™»еЅ•
1. е®ўж€·з«ЇеЏ‘йЂЃз™»еЅ•иЇ·ж±‚е€°API Gateway
2. API Gatewayе°†з™»еЅ•иЇ·ж±‚иЅ¬еЏ‘е€°Security Service
3. Security ServiceйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊе№¶йўЃеЏ‘Token

з”Ёж€·иЇ·ж±‚
1. е®ўж€·з«ЇиЇ·ж±‚еЏ‘йЂЃе€°API Gateway
1. API Gatewayи°ѓз”Ёзљ„Security ServiceеЇ№иЇ·ж±‚дё­зљ„Tokenиї›иЎЊйЄЊиЇЃпјЊжЈЂжџҐз”Ёж€·зљ„иє«д»Ѕ
2. е¦‚жћњиЇ·ж±‚дё­жІЎжњ‰TokenпјЊTokenиї‡жњџж€–иЂ…TokenйЄЊиЇЃйќћжі•пјЊе€™ж‹’з»ќз”Ёж€·иЇ·ж±‚гЂ‚
3. Security ServiceжЈЂжџҐз”Ёж€·жЇеђ¦е…·жњ‰иЇҐж“ЌдЅњжќѓ
4. е¦‚жћњз”Ёж€·е…·жњ‰иЇҐж“ЌдЅњжќѓй™ђпјЊе€™жЉЉиЇ·ж±‚еЏ‘йЂЃе€°еђЋз«Їзљ„Business ServiceпјЊеђ¦е€™ж‹’з»ќз”Ёж€·иЇ·ж±‚
![й‡‡з”ЁAPI Gatewayе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„SSO](/img/2018-02-03-authentication-and-authorization-of-microservice/api-gateway-sso.png)
<center>й‡‡з”ЁAPI Gatewayе’ЊTokenе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„еЌ•з‚№з™»еЅ•</center>

### з”Ёж€·жќѓй™ђжЋ§е€¶
з”Ёж€·жќѓй™ђжЋ§е€¶жњ‰дё¤з§ЌеЃљжі•пјЊењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†пјЊж€–иЂ…ењЁеђ„дёЄеѕ®жњЌеЉЎдё­еЌ•з‹¬е¤„зђ†гЂ‚
#### API Gatewayе¤„иї›иЎЊз»џдёЂзљ„жќѓй™ђжЋ§е€¶
е®ўж€·з«ЇеЏ‘йЂЃзљ„HTTPиЇ·ж±‚дё­еЊ…еђ«жњ‰иЇ·ж±‚зљ„ResourceеЏЉHTTP MethodгЂ‚е¦‚жћњзі»з»џйЃµеѕЄRESTи§„иЊѓпјЊд»ҐURIиµ„жєђж–№ејЏеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊе€™API GatewayеЏЇд»Ґд»ЋиЇ·ж±‚дё­з›ґжЋҐж€ЄеЏ–е€°и®їй—®зљ„иµ„жєђеЏЉйњЂи¦Ѓиї›иЎЊзљ„ж“ЌдЅњпјЊз„¶еђЋи°ѓз”ЁSecurity Serviceиї›иЎЊжќѓй™ђе€¤ж–­пјЊж №жЌ®е€¤ж–­з»“жћње†іе®љз”Ёж€·жЇеђ¦жњ‰жќѓй™ђеЇ№иЇҐиµ„жєђиї›иЎЊж“ЌдЅњпјЊе№¶иЅ¬еЏ‘е€°еђЋз«Їзљ„Business ServiceгЂ‚иї™з§Ќе®ћзЋ°ж–№ејЏAPI Gatewayе¤„з»џдёЂе¤„зђ†й‰ґжќѓйЂ»иѕ‘пјЊеђ„дёЄеѕ®жњЌеЉЎдёЌйњЂи¦ЃиЂѓи™‘з”Ёж€·й‰ґжќѓпјЊеЏЄйњЂи¦Ѓе¤„зђ†дёљеЉЎйЂ»иѕ‘пјЊз®ЂеЊ–дє†еђ„еѕ®жњЌеЉЎзљ„е®ћзЋ°гЂ‚
#### з”±еђ„дёЄеѕ®жњЌеЉЎеЌ•з‹¬иї›иЎЊжќѓй™ђжЋ§е€¶
е¦‚жћњеѕ®жњЌеЉЎжњЄдёҐж јйЃµеѕЄRESTи§„иЊѓеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊж€–иЂ…еє”з”ЁйњЂи¦Ѓиї›иЎЊе®ље€¶еЊ–зљ„жќѓй™ђжЋ§е€¶пјЊе€™йњЂи¦ЃењЁеѕ®жњЌеЉЎдё­еЌ•з‹¬еЇ№з”Ёж€·жќѓй™ђиї›иЎЊе€¤ж–­е’Ње¤„зђ†гЂ‚иї™з§Ќжѓ…е†µдё‹еѕ®жњЌеЉЎзљ„жќѓй™ђжЋ§е€¶ж›ґдёєзЃµжґ»пјЊдЅ†еђ„дёЄеѕ®жњЌеЉЎйњЂи¦ЃеЌ•з‹¬з»ґжЉ¤з”Ёж€·зљ„жЋ€жќѓж•°жЌ®пјЊе®ћзЋ°ж›ґе¤Ќжќ‚дёЂдє›гЂ‚

### з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґ
еЇ№дєЋз¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґзљ„и®їй—®жЋ§е€¶пјЊжњ‰дё¤з§Ќе®ћзЋ°ж–№ејЏпјљ
#### API Token
з¬¬дё‰ж–№дЅїз”ЁдёЂдёЄеє”з”ЁйўЃеЏ‘зљ„API TokenеЇ№еє”з”Ёзљ„ж•°жЌ®иї›иЎЊи®їй—®гЂ‚иЇҐTokenз”±з”Ёж€·ењЁеє”з”Ёдё­з”џж€ђпјЊе№¶жЏђдѕ›з»™з¬¬дё‰ж–№еє”з”ЁдЅїз”ЁгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚

дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ[Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў](https://github.com/settings/tokens)дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚

дЅїз”ЁAPI TokenжќҐи®їй—®Github API
```
curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user

```
дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚


з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚
#### OAuth
жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚

еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚
OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
* з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚
* и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚
* з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚
* и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚

>е¤‡жіЁпјљ
>1. OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚
>
>2. жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚
>дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚
>
>```
>POST /oauth/token HTTP/1.1
>Host: authorization-server.com
>  			
>grant_type=authorization_code
>&code=xxxxxxxxxxx
>&redirect_uri=https://example-app.com/redirect
>&client_id=xxxxxxxxxx
>&client_secret=xxxxxxxxxx
>```


![OAuthи®¤иЇЃжµЃзЁ‹](/img/2018-02-03-authentication-and-authorization-of-microservice/oauth_web_server_flow.png)
<center>OAuthи®¤иЇЃжµЃзЁ‹</center>


еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:
  
ењЁе®ћзЋ°еѕ®жњЌеЉЎи‡Єиє«зљ„з”Ёж€·и®¤иЇЃж—¶пјЊд№џеЏЇд»Ґй‡‡з”ЁOAuthе°†еѕ®жњЌеЉЎзљ„з”Ёж€·и®¤иЇЃе§”ж‰з»™дёЂдёЄз¬¬дё‰ж–№зљ„и®¤иЇЃжњЌеЉЎжЏђдѕ›е•†пјЊдѕ‹е¦‚еѕ€е¤љеє”з”ЁйѓЅе°†з”Ёж€·з™»еЅ•е’Њеѕ®дїЎж€–иЂ…QQзљ„OAuthжњЌеЉЎиї›иЎЊдє†й›†ж€ђгЂ‚
  
з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґе’Њеѕ®жњЌеЉЎи‡Єиє«з”Ёж€·и®¤иЇЃй‡‡з”ЁOAuthзљ„з›®зљ„жЇдёЌеђЊзљ„пјЊе‰ЌиЂ…жЇдёєдє†е°†еѕ®жњЌеЉЎдё­з”Ёж€·зљ„з§Ѓжњ‰ж•°жЌ®и®їй—®жќѓй™ђжЋ€жќѓз»™з¬¬дё‰ж–№еє”з”ЁпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇи®¤иЇЃе’Њиµ„жєђжњЌеЉЎе™Ёзљ„и§’и‰Іпј›иЂЊеђЋиЂ…зљ„з›®зљ„жЇй›†ж€ђе№¶е€©з”ЁзџҐеђЌи®¤иЇЃжЏђдѕ›жњЌеЉЎе•†жЏђдѕ›зљ„OAuthи®¤иЇЃжњЌеЉЎпјЊз®ЂеЊ–з№Ѓзђђзљ„жіЁе†Њж“ЌдЅњпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇе®ўж€·з«Їзљ„и§’и‰ІгЂ‚
  
е› ж­¤ењЁж€‘д»¬йњЂи¦ЃеЊєе€†иї™дё¤з§ЌдёЌеђЊзљ„ењєж™ЇпјЊд»Ґе…ЌйЂ ж€ђиЇЇи§ЈгЂ‚

### еѕ®жњЌеЉЎд№‹й—ґзљ„и®¤иЇЃ
й™¤дє†жќҐи‡Єз”Ёж€·е’Њз¬¬дё‰ж–№зљ„еЊ—еђ‘жµЃй‡Џе¤–пјЊеѕ®жњЌеЉЎд№‹й—ґиїжњ‰е¤§й‡Џзљ„дёњиҐїеђ‘жµЃй‡ЏпјЊиї™дє›жµЃй‡ЏеЏЇиѓЅењЁеђЊдёЂдёЄе±ЂеџџзЅ‘дё­пјЊд№џеЏЇиѓЅи·Ёи¶ЉдёЌеђЊзљ„ж•°жЌ®дё­еїѓ,иї™дє›жњЌеЉЎй—ґзљ„жµЃй‡Џе­ењЁиў«з¬¬дё‰ж–№зљ„е—…жЋўе’Њж”»е‡»зљ„еЌ±й™©пјЊе› ж­¤д№џйњЂи¦Ѓиї›иЎЊе®‰е…ЁжЋ§е€¶гЂ‚

йЂљиї‡еЏЊеђ‘SSLеЏЇд»Ґе®ћзЋ°жњЌеЉЎд№‹й—ґзљ„з›ёдє’иє«д»Ѕи®¤иЇЃпјЊе№¶йЂљиї‡TLSеЉ еЇ†жњЌеЉЎй—ґзљ„ж•°жЌ®дј иѕ“гЂ‚йњЂи¦ЃдёєжЇЏдёЄжњЌеЉЎз”џж€ђдёЂдёЄиЇЃд№¦пјЊжњЌеЉЎд№‹й—ґйЂљиї‡еЅјж­¤зљ„иЇЃд№¦иї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚ењЁеѕ®жњЌеЉЎиїђиЎЊзЋЇеўѓдё­пјЊеЏЇиѓЅе­ењЁе¤§й‡Џзљ„еѕ®жњЌеЉЎе®ћдѕ‹пјЊе№¶дё”еѕ®жњЌеЉЎе®ћдѕ‹з»ЏеёёдјљеЉЁжЂЃеЏеЊ–пјЊдѕ‹е¦‚йљЏзќЂж°ґе№іж‰©е±•еўћеЉ жњЌеЉЎе®ћдѕ‹гЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёєжЇЏдёЄжњЌеЉЎе€›е»єе№¶е€†еЏ‘иЇЃд№¦еЏеѕ—йќћеёёе›°йљѕгЂ‚ж€‘д»¬еЏЇд»ҐйЂљиї‡е€›е»єдёЂдёЄз§Ѓжњ‰зљ„иЇЃд№¦дё­еїѓ(Internal PKI/CA)жќҐдёєеђ„дёЄеѕ®жњЌеЉЎжЏђдѕ›иЇЃд№¦з®Ўзђ†е¦‚йўЃеЏ‘гЂЃж’¤й”ЂгЂЃж›ґж–°з­‰гЂ‚


## еЏ‚иЂѓ

* [How We Solved Authentication and Authorization in Our Microservice Architecture](https://initiate.andela.com/how-we-solved-authentication-and-authorization-in-our-microservice-architecture-994539d1b6e6)
* [How to build your own public key infrastructure](https://blog.cloudflare.com/how-to-build-your-own-public-key-infrastructure/)
* [OAuth 2.0 Authorization Code Request](https://www.oauth.com/oauth2-servers/access-tokens/authorization-code-request/)
* [PKI/CAе·ҐдЅњеЋџзђ†еЏЉжћ¶жћ„](https://www.jianshu.com/p/c65fa3af1c01)
* [ж·±е…ҐиЃЉиЃЉеѕ®жњЌеЉЎжћ¶жћ„зљ„иє«д»Ѕи®¤иЇЃй—®йў](http://www.primeton.com/read.php?id=2390)




==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-02-09-docker-without-sudo.md

---
layout:     post
title:      "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
subtitle:   ""
description: "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
excerpt: "е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤"
date:       2018-02-09 10:00:00
author:     "иµµеЊ–е†°"
image:     "/img/docker.jpg"
publishDate: 2018-02-09 10:00:00
showtoc: false 
tags:
    - Tips
    - Docker
URL: "/2018/02/09/docker-without-sudo/"
categories: [ Tips ]
---

### Add the docker group if it doesn't already exist:

sudo groupadd docker

### Add the connected user "$USER" to the docker group. Change the user name to match your preferred user if you do not want to use your current user:

sudo gpasswd -a $USER docker

### Either do a newgrp docker or log out/in to activate the changes to groups.


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-02-09-vim-tips.md

---
layout:     post
title:      "Vim Tips"
subtitle:   ""
description: "Vim Tips and tricks"
date:       2018-02-09 11:00:00
author:     "иµµеЊ–е†°"
image:      "/img/2018-02-09-vim-tips/matrix.jpg"
publishDate: 2018-02-09 11:00:00
tags:
    - Tips
    - Vim
URL: "/2018/02/09/vim-tips/"
categories: [ Tips ]
---
## vim graphical cheat sheet

![](//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg)
<!--more-->
## Vim Jumps

* ^ вЂ” Move to start of line
* $ вЂ” Move to end of line
* b вЂ” Move back a word
* w вЂ” Move forward a word
* e вЂ” Move to the end of the next word
* Ctrl-o and Ctrl-i to go to the previous/next location you jumped to
* ``(two backticks) jump back to where you were
* gi go back to the last place you inserted a text and enter insert mode

## Vim Navigations

* { and } jump paragraph back and forth
* Ctrl-F/B move one screen back and forth
* Search the word under cursor, then n/p to jump to next/previous 


## Enable Vim mode in bash
vi ~/.inputrc
set editing-mode vi

## Enable system clipboard support

See if system clipboard is supported:     
```
$ vim --version | grep clipboard
-clipboard       +iconv           +path_extra      -toolbar
+eval            +mouse_dec       +startuptime     -xterm_clipboard
```

Rinstall vim as vim-gnome:   
```
sudo apt-get install vim-gnome
```
Select what you want using the mouse - then type to copy to clipboard:  
```
"+y
```

To paste to vim from clipboard type:  
```
"+p
```
## Others
* Ex: open the current directory
* set number: show line number


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-03-13-use-docker-behind-http-proxy.md

---
layout:     post
title:      "е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†"
subtitle:   ""
description: "е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†"
date:       2018-03-13 18:00:00
author:     "иµµеЊ–е†°"
image: "/img/docker.jpg"
publishDate: 2018-03-13 18:00:00
tags:
    - Tips
    - Docker
URL: "/2018/03/13/use-docker-behind-http-proxy/"
categories: [ Tips ]
---
## Ubuntu
### и®ѕзЅ®dockerдЅїз”Ёhttp proxy
```
sudo /etc/default/docker

export http_proxy="http://127.0.0.1:3128/"
export https_proxy="http://127.0.0.1:3128/"
export HTTP_PROXY="http://127.0.0.1:3128/"
export HTTPS_PROXY="http://127.0.0.1:3128/"
```
<!--more-->
### еЉ иЅЅй…ЌзЅ®е№¶й‡ЌеђЇdocker
```
sudo service docker restart
```
## CentOS
### и®ѕзЅ®dockerдЅїз”Ёhttp proxy
```
sudo mkdir -p /etc/systemd/system/docker.service.d

echo '
[Service]
Environment="HTTP_PROXY=http://proxy.foo.bar.com:80/"
' | sudo tee /etc/systemd/system/docker.service.d/http-proxy.conf
```

### еЉ иЅЅй…ЌзЅ®е№¶й‡ЌеђЇdocker
```
sudo systemctl daemon-reload
sudo systemctl restart docker
```


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-03-29-what-is-service-mesh-and-istio.md

---
layout:     post 
title:      "и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio"
subtitle:   "Service MeshжЁЎејЏеЏЉIstioејЂжєђйЎ№з›®д»‹з»Ќ"
description: "дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚"
date:       2018-03-29 12:00:00
author:     "иµµеЊ–е†°"
image: "/img/istio-install_and_example/post-bg.jpg"
publishDate: 2018-03-29 12:00:00
tags:
    - Microservice
    - Service Mesh
    - Istio
URL: "/2018/03/29/what-is-service-mesh-and-istio/"
categories: [ Tech ]    
---

## еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›
дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚

еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚
 <!--more-->
![](/img/2018-03-29-what-is-service-mesh-and-istio/microservice.PNG)

иЇҐеЏеЊ–её¦жќҐдє†е€†еёѓејЏзі»з»џзљ„дёЂзі»е€—й—®йўпјЊдѕ‹е¦‚пјљ
* е¦‚дЅ•ж‰ѕе€°жњЌеЉЎзљ„жЏђдѕ›ж–№пјџ
* е¦‚дЅ•дїќиЇЃиїњзЁ‹ж–№жі•и°ѓз”Ёзљ„еЏЇйќ жЂ§пјџ
* е¦‚дЅ•дїќиЇЃжњЌеЉЎи°ѓз”Ёзљ„е®‰е…ЁжЂ§пјџ
* е¦‚дЅ•й™ЌдЅЋжњЌеЉЎи°ѓз”Ёзљ„е»¶иїџпјџ
* е¦‚дЅ•иї›иЎЊз«Їе€°з«Їзљ„и°ѓиЇ•пјџ

еЏ¦е¤–з”џдє§йѓЁзЅІдё­зљ„еѕ®жњЌеЉЎе®ћдѕ‹д№џеўћеЉ дє†иїђз»ґзљ„йљѕеє¦,дѕ‹е¦‚пјљ

* е¦‚дЅ•ж”¶й›†е¤§й‡Џеѕ®жњЌеЉЎзљ„жЂ§иѓЅжЊ‡ж ‡е·Іиї›иЎЊе€†жћђпјџ
* е¦‚дЅ•ењЁдёЌеЅ±е“ЌдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹еЇ№еѕ®жњЌеЉЎиї›иЎЊеЌ‡зє§пјџ
* е¦‚дЅ•жµ‹иЇ•дёЂдёЄеѕ®жњЌеЉЎй›†зѕ¤йѓЁзЅІзљ„е®№й”™е’ЊзЁіе®љжЂ§пјџ

иї™дє›й—®йўж¶‰еЏЉе€°ж€ђз™ѕдёЉеЌѓдёЄжњЌеЉЎзљ„йЂљдїЎгЂЃз®Ўзђ†гЂЃйѓЁзЅІгЂЃз‰€жњ¬гЂЃе®‰е…ЁгЂЃж•…йљњиЅ¬з§»гЂЃз­–з•Ґж‰§иЎЊгЂЃйЃҐжµ‹е’Њз›‘жЋ§з­‰пјЊи¦Ѓи§Је†іиї™дє›еѕ®жњЌеЉЎжћ¶жћ„еј•е…Ґзљ„й—®йўе№¶йќћж“дє‹гЂ‚

и®©ж€‘д»¬жќҐе›ћйЎѕдёЂдё‹еѕ®жњЌеЉЎжћ¶жћ„зљ„еЏ‘е±•иї‡зЁ‹гЂ‚ењЁе‡єзЋ°жњЌеЉЎзЅ‘ж јд№‹е‰ЌпјЊж€‘д»¬жњЂејЂе§‹ењЁеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏе†…зђ†жњЌеЉЎд№‹й—ґзљ„йЂљи®ЇйЂ»иѕ‘пјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊз†”ж–­пјЊй‡ЌиЇ•пјЊи¶…ж—¶пјЊеЉ еЇ†пјЊй™ђжµЃз­‰йЂ»иѕ‘гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/1.png)
ењЁдёЂдёЄе€†еёѓејЏзі»з»џдё­пјЊиї™йѓЁе€†йЂ»иѕ‘жЇ”иѕѓе¤Ќжќ‚пјЊдёєдє†дёєеѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄзЁіе®љгЂЃеЏЇйќ зљ„еџєзЎЂи®ѕж–Ѕе±‚пјЊйЃїе…Ќе¤§е®¶й‡Ќе¤ЌйЂ иЅ®е­ђпјЊе№¶е‡Џе°‘зЉЇй”™зљ„еЏЇиѓЅпјЊдёЂи€¬дјљйЂљиї‡еЇ№иї™йѓЁе€†иґџиґЈжњЌеЉЎйЂљи®Їзљ„йЂ»иѕ‘иї›иЎЊжЉЅи±Ўе’ЊеЅ’зєіпјЊеЅўж€ђдёЂдёЄд»Јз Ѓеє“дѕ›еђ„дёЄеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏдЅїз”ЁпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/2.png)
е…¬е…±зљ„д»Јз Ѓеє“е‡Џе°‘дє†еє”з”ЁзЁ‹еєЏзљ„ејЂеЏ‘е’Њз»ґжЉ¤е·ҐдЅњй‡ЏпјЊй™ЌдЅЋдє†з”±еє”з”ЁејЂеЏ‘дєєе‘еЌ•з‹¬е®ћзЋ°еѕ®жњЌеЉЎйЂљи®ЇйЂ»иѕ‘е‡єзЋ°й”™иЇЇзљ„жњєзЋ‡пјЊдЅ†иїжЇе­ењЁдё‹иї°й—®йўпјљ
* еѕ®жњЌеЉЎйЂљи®ЇйЂ»иѕ‘еЇ№еє”з”ЁејЂеЏ‘дєєе‘е№¶дёЌйЂЏжЋпјЊеє”з”ЁејЂеЏ‘дєєе‘йњЂи¦Ѓзђ†и§Је№¶ж­ЈзЎ®дЅїз”Ёд»Јз Ѓ			еє“пјЊдёЌиѓЅе°†е…¶е…ЁйѓЁзІѕеЉ›иЃљз„¦дєЋдёљеЉЎйЂ»иѕ‘гЂ‚
* йњЂи¦Ѓй’€еЇ№дёЌеђЊзљ„иЇ­иЁЂ/жЎ†жћ¶ејЂеЏ‘дёЌеђЊзљ„д»Јз Ѓеє“пјЊеЏЌиї‡жќҐдјљеЅ±е“Ќеѕ®жњЌеЉЎеє”з”ЁејЂеЏ‘иЇ­иЁЂ			е’ЊжЎ†жћ¶зљ„йЂ‰ж‹©пјЊеЅ±е“ЌжЉЂжњЇйЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* йљЏзќЂж—¶й—ґзљ„еЏеЊ–пјЊд»Јз Ѓеє“дјље­ењЁдёЌеђЊзљ„з‰€жњ¬пјЊдёЌеђЊз‰€жњ¬д»Јз Ѓеє“зљ„е…је®№жЂ§е’Ње¤§й‡ЏиїђиЎЊ			зЋЇеўѓдё­еѕ®жњЌеЉЎзљ„еЌ‡зє§е°†ж€ђдёєдёЂдёЄйљѕйўгЂ‚

еЏЇд»Ґе°†еѕ®жњЌеЉЎд№‹й—ґзљ„йЂљи®ЇеџєзЎЂи®ѕж–Ѕе±‚е’ЊTCP/IPеЌЏи®®ж €иї›иЎЊз±»жЇ”гЂ‚TCP/IPеЌЏи®®ж €дёєж“ЌдЅњзі»з»џдё­зљ„ж‰Ђжњ‰еє”з”ЁжЏђдѕ›еџєзЎЂйЂљдїЎжњЌеЉЎпјЊдЅ†TCP/IPеЌЏи®®ж €е’Њеє”з”ЁзЁ‹еєЏд№‹й—ґе№¶жІЎжњ‰зґ§еЇ†зљ„иЂ¦еђ€е…ізі»пјЊеє”з”ЁеЏЄйњЂи¦ЃдЅїз”ЁTCP/IPеЌЏи®®жЏђдѕ›зљ„еє•е±‚йЂљи®ЇеЉџиѓЅ,е№¶дёЌе…іеїѓTCP/IPеЌЏи®®зљ„е®ћзЋ°пјЊе¦‚IPе¦‚дЅ•иї›иЎЊи·Їз”±пјЊTCPе¦‚дЅ•е€›е»єй“ѕжЋҐз­‰гЂ‚

еђЊж ·ењ°пјЊеѕ®жњЌеЉЎеє”з”Ёд№џдёЌеє”иЇҐйњЂи¦Ѓе…іжіЁжњЌеЉЎеЏ‘зЋ°пјЊLoad balancingпјЊRetriesпјЊCircuit Breakerз­‰еѕ®жњЌеЉЎд№‹й—ґйЂљдїЎзљ„еє•е±‚з»†иЉ‚гЂ‚е¦‚жћње°†дёєеѕ®жњЌеЉЎжЏђдѕ›йЂљдїЎжњЌеЉЎзљ„иї™йѓЁе€†йЂ»иѕ‘д»Ћеє”з”ЁзЁ‹еєЏиї›зЁ‹дё­жЉЅеЏ–е‡єжќҐпјЊдЅњдёєдёЂдёЄеЌ•з‹¬зљ„иї›зЁ‹иї›иЎЊйѓЁзЅІпјЊе№¶е°†е…¶дЅњдёєжњЌеЉЎй—ґзљ„йЂљдїЎд»Јзђ†пјЊеЏЇд»Ґеѕ—е€°е¦‚дё‹е›ѕж‰Ђз¤єзљ„жћ¶жћ„пјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/sidecar.png)
е› дёєйЂљи®Їд»Јзђ†иї›зЁ‹дјґйљЏеє”з”Ёиї›зЁ‹дёЂиµ·йѓЁзЅІпјЊе› ж­¤еЅўи±Ўењ°жЉЉиї™з§ЌйѓЁзЅІж–№ејЏз§°дёєвЂњsidecarвЂќ/иѕ№иЅ¦пј€еЌідё‰иЅ®ж‘©ж‰зљ„жЊЋж–—пј‰гЂ‚

еє”з”Ёй—ґзљ„ж‰Ђжњ‰жµЃй‡ЏйѓЅйњЂи¦Ѓз»Џиї‡д»Јзђ†пјЊз”±дєЋд»Јзђ†д»Ґsidecarж–№ејЏе’Њеє”з”ЁйѓЁзЅІењЁеђЊдёЂеЏ°дё»жњєдёЉпјЊеє”з”Ёе’Њд»Јзђ†д№‹й—ґзљ„йЂљи®ЇеЏЇд»Ґиў«и®¤дёєжЇеЏЇйќ зљ„гЂ‚з”±д»Јзђ†жќҐиґџиґЈж‰ѕе€°з›®зљ„жњЌеЉЎе№¶иґџиґЈйЂљи®Їзљ„еЏЇйќ жЂ§е’Ње®‰е…Ёз­‰й—®йўгЂ‚

еЅ“жњЌеЉЎе¤§й‡ЏйѓЁзЅІж—¶пјЊйљЏзќЂжњЌеЉЎйѓЁзЅІзљ„sidecarд»Јзђ†д№‹й—ґзљ„иїћжЋҐеЅўж€ђдє†дёЂдёЄе¦‚дё‹е›ѕж‰Ђз¤єзљ„зЅ‘ж јпјЊиЇҐзЅ‘ж јж€ђдёєдє†еѕ®жњЌеЉЎзљ„йЂљи®ЇеџєзЎЂи®ѕж–Ѕе±‚пјЊж‰їиЅЅдє†еѕ®жњЌеЉЎд№‹й—ґзљ„ж‰Ђжњ‰жµЃй‡ЏпјЊиў«з§°д№‹дёєService Meshпј€жњЌеЉЎзЅ‘ж јпј‰гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/mesh.png)

_жњЌеЉЎзЅ‘ж јжЇдёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊз”ЁдєЋе¤„зђ†жњЌеЉЎй—ґйЂљдїЎгЂ‚дє‘еЋџз”џеє”з”Ёжњ‰зќЂе¤Ќжќ‚зљ„жњЌеЉЎж‹“ж‰‘пјЊжњЌеЉЎзЅ‘ж јдїќиЇЃиЇ·ж±‚еЏЇд»ҐењЁиї™дє›ж‹“ж‰‘дё­еЏЇйќ ењ°з©їжў­гЂ‚ењЁе®ћй™…еє”з”ЁеЅ“дё­пјЊжњЌеЉЎзЅ‘ж јйЂљеёёжЇз”±дёЂзі»е€—иЅ»й‡Џзє§зљ„зЅ‘з»њд»Јзђ†з»„ж€ђзљ„пјЊе®ѓд»¬дёЋеє”з”ЁзЁ‹еєЏйѓЁзЅІењЁдёЂиµ·пјЊдЅ†еє”з”ЁзЁ‹еєЏдёЌйњЂи¦ЃзџҐйЃ“е®ѓд»¬зљ„е­ењЁгЂ‚

_William Morgan _[_WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?_
](https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/)_

жњЌеЉЎзЅ‘ж јдё­жњ‰ж•°й‡Џдј—е¤љзљ„Sidecarд»Јзђ†пјЊе¦‚жћњеЇ№жЇЏдёЄд»Јзђ†е€†е€«иї›иЎЊи®ѕзЅ®пјЊе·ҐдЅњй‡Џе°†йќћеёёе·Ёе¤§гЂ‚дёєдє†ж›ґж–№дѕїењ°еЇ№жњЌеЉЎзЅ‘ж јдё­зљ„д»Јзђ†иї›иЎЊз»џдёЂй›†дё­жЋ§е€¶пјЊењЁжњЌеЉЎзЅ‘ж јдёЉеўћеЉ дє†жЋ§е€¶йќўз»„д»¶гЂ‚

![](/img/2018-03-29-what-is-service-mesh-and-istio/controlplane.png)

иї™й‡Њж€‘д»¬еЏЇд»Ґз±»жЇ”SDNзљ„ж¦‚еїµпјЊжЋ§е€¶йќўе°±з±»дјјдєЋSDNзЅ‘з®Ўдё­зљ„жЋ§е€¶е™ЁпјЊиґџиґЈи·Їз”±з­–з•Ґзљ„жЊ‡е®ље’Њи·Їз”±и§„е€™дё‹еЏ‘пј›ж•°жЌ®йќўз±»дјјдєЋSDNзЅ‘з»њдё­дє¤жЌўжњєпјЊиґџиґЈж•°жЌ®еЊ…зљ„иЅ¬еЏ‘гЂ‚

з”±дєЋеѕ®жњЌеЉЎзљ„ж‰Ђжњ‰йЂљи®ЇйѓЅз”±жњЌеЉЎзЅ‘ж јеџєзЎЂи®ѕж–Ѕе±‚жЏђдѕ›пјЊйЂљиї‡жЋ§е€¶йќўжќїе’Њж•°жЌ®йќўжќїзљ„й…Ќеђ€пјЊеЏЇд»ҐеЇ№иї™дє›йЂљи®Їиї›иЎЊз›‘жЋ§гЂЃж‰з®Ўе’ЊжЋ§е€¶пјЊд»Ґе®ћзЋ°еѕ®жњЌеЉЎзЃ°еє¦еЏ‘еёѓпјЊи°ѓз”Ёе€†еёѓејЏиїЅиёЄпјЊж•…йљњжіЁе…ҐжЁЎж‹џжµ‹иЇ•пјЊеЉЁжЂЃи·Їз”±и§„е€™пјЊеѕ®жњЌеЉЎй—­зЋЇжЋ§е€¶з­‰з®ЎжЋ§еЉџиѓЅгЂ‚

## IstioжњЌеЉЎзЅ‘ж ј
IstioжЇдёЂдёЄService MeshејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂеЉ›дЅњпјЊдё»и¦ЃеЏ‚дёЋзљ„е…¬еЏёеЊ…ж‹¬GoogleпјЊIBMе’ЊLyftгЂ‚

е‡­еЂџkubernetesи‰ЇеҐЅзљ„жћ¶жћ„и®ѕи®ЎеЏЉе…¶ејєе¤§зљ„ж‰©е±•жЂ§пјЊGoogleе›ґз»•kubernetesж‰“йЂ дёЂдёЄз”џжЂЃзі»з»џгЂ‚Kubernetesз”ЁдєЋеѕ®жњЌеЉЎзљ„зј–жЋ’пј€зј–жЋ’жЇи‹±ж–‡Orchestrationзљ„з›ґиЇ‘пјЊз”Ёе¤§з™ЅиЇќиЇґе°±жЇжЏЏиї°дёЂз»„еѕ®жњЌеЉЎд№‹й—ґзљ„е…іиЃ”е…ізі»пјЊе№¶иґџиґЈеѕ®жњЌеЉЎзљ„йѓЁзЅІгЂЃз»€ж­ўгЂЃеЌ‡зє§гЂЃзј©ж‰©е®№з­‰пј‰гЂ‚е…¶еђ‘дё‹з”ЁCNI(е®№е™ЁзЅ‘з»њжЋҐеЏЈпј‰пјЊCRIпј€е®№е™ЁиїђиЎЊж—¶жЋҐеЏЈпј‰ж ‡е‡†жЋҐеЏЈеЏЇд»ҐеЇ№жЋҐдёЌеђЊзљ„зЅ‘з»ње’Ње®№е™ЁиїђиЎЊж—¶е®ћзЋ°пјЊжЏђдѕ›еѕ®жњЌеЉЎиїђиЎЊзљ„еџєзЎЂи®ѕж–ЅгЂ‚еђ‘дёЉе€™з”ЁIstioжЏђдѕ›дє†еѕ®жњЌеЉЎжІ»зђ†еЉџиѓЅгЂ‚

з”±дё‹е›ѕеЏЇи§ЃпјЊIstioиЎҐе……дє†Kubernetesз”џжЂЃењ€зљ„й‡Ќи¦ЃдёЂзЋЇпјЊжЇGoogleзљ„еѕ®жњЌеЉЎз‰€е›ѕй‡ЊдёЂдёЄй‡ЊзЁ‹зў‘ејЏзљ„ж‰©еј гЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/k8s-ecosystem.PNG)

GoogleеЂџIstioзљ„еЉ›й‡ЏжЋЁеЉЁеѕ®жњЌеЉЎжІ»зђ†зљ„дє‹е®ћж ‡е‡†пјЊеЇ№Googleи‡Єиє«зљ„дє§е“ЃGoogle Cloudжњ‰жћЃе…¶й‡Ќе¤§зљ„ж„Џд№‰гЂ‚е…¶д»–зљ„дє‘жњЌеЉЎеЋ‚е•†пјЊе¦‚RedhatпјЊPivotalпјЊNginxпјЊBuoyantз­‰зњ‹е€°е¤§еЉїж‰Ђи¶‹пјЊд№џзє·зє·и·џиї›пјЊе®Јеёѓи‡Єиє«дє§е“Ѓе’ЊIstioиї›иЎЊй›†ж€ђпјЊд»ҐйЃїе…Ќи‡Єе·±иў«иђЅдё‹пјЊдёўе¤±е…¶дё­зљ„её‚ењєжњєдјљгЂ‚

еЏЇд»Ґйў„и§ЃдёЌд№…зљ„е°†жќҐпјЊеЇ№дєЋдє‘еЋџз”џеє”з”ЁиЂЊиЁЂпјЊй‡‡з”Ёkubernetesиї›иЎЊжњЌеЉЎйѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊй‡‡з”ЁIstioе¤„зђ†жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†пјЊе°†ж€ђдёєеѕ®жњЌеЉЎеє”з”Ёзљ„ж ‡е‡†й…ЌзЅ®гЂ‚

IstioжњЌеЉЎеЊ…ж‹¬зЅ‘ж јз”±ж•°жЌ®йќўе’ЊжЋ§е€¶йќўдё¤йѓЁе€†гЂ‚
* ж•°жЌ®йќўз”±дёЂз»„ж™єиѓЅд»Јзђ†пј€Envoyпј‰з»„ж€ђпјЊд»Јзђ†йѓЁзЅІдёєиѕ№иЅ¦пјЊи°ѓи§Је’ЊжЋ§е€¶еѕ®жњЌеЉЎд№‹й—ґж‰Ђжњ‰зљ„зЅ‘з»њйЂљдїЎгЂ‚
* жЋ§е€¶йќўиґџиґЈз®Ўзђ†е’Њй…ЌзЅ®д»Јзђ†жќҐи·Їз”±жµЃй‡ЏпјЊд»ҐеЏЉењЁиїђиЎЊж—¶ж‰§иЎЊз­–з•ҐгЂ‚

![](/img/2018-03-29-what-is-service-mesh-and-istio/istio-architecture.png)

### IstioжЋ§е€¶йќў
IstioжЋ§е€¶йќўжќїеЊ…ж‹¬3дёЄз»„д»¶:Pilot, Mixerе’ЊIstio-AuthгЂ‚
#### Pilot
Pilotз»ґжЉ¤дє†зЅ‘ж јдё­зљ„жњЌеЉЎзљ„ж ‡е‡†жЁЎећ‹пјЊиї™дёЄж ‡е‡†жЁЎећ‹жЇз‹¬з«‹дєЋеђ„з§Ќеє•е±‚е№іеЏ°зљ„гЂ‚PilotйЂљиї‡йЂ‚й…Ќе™Ёе’Њеђ„еє•е±‚е№іеЏ°еЇ№жЋҐпјЊд»ҐеЎ«е……ж­¤ж ‡е‡†жЁЎећ‹гЂ‚

дѕ‹е¦‚Pilotдё­зљ„KubernetesйЂ‚й…Ќе™ЁйЂљиї‡Kubernetes APIжњЌеЉЎе™Ёеѕ—е€°kubernetesдё­podжіЁе†ЊдїЎжЃЇзљ„ж›ґж”№пјЊе…ҐеЏЈиµ„жєђд»ҐеЏЉе­е‚ЁжµЃй‡Џз®Ўзђ†и§„е€™з­‰дїЎжЃЇпјЊз„¶еђЋе°†иЇҐж•°жЌ®иў«зї»иЇ‘дёєж ‡е‡†жЁЎећ‹жЏђдѕ›з»™PilotдЅїз”ЁгЂ‚йЂљиї‡йЂ‚й…Ќе™ЁжЁЎејЏпјЊPilotиїеЏЇд»Ґд»ЋMesos, Cloud Foundry, Consulдё­иЋ·еЏ–жњЌеЉЎдїЎжЃЇпјЊд№џеЏЇд»ҐејЂеЏ‘йЂ‚й…Ќе™Ёе°†е…¶д»–жЏђдѕ›жњЌеЉЎеЏ‘зЋ°зљ„з»„д»¶й›†ж€ђе€°Pilotдё­гЂ‚

й™¤ж­¤д»Ґе¤–пјЊPiloиїе®љд№‰дє†дёЂеҐ—е’Њж•°жЌ®йќўйЂљдїЎзљ„ж ‡е‡†APIпјЊAPIжЏђдѕ›зљ„жЋҐеЏЈе†…е®№еЊ…ж‹¬жњЌеЉЎеЏ‘зЋ° гЂЃиґџиЅЅеќ‡иЎЎж± е’Њи·Їз”±иЎЁзљ„еЉЁжЂЃж›ґж–°гЂ‚йЂљиї‡иЇҐж ‡е‡†APIе°†жЋ§е€¶йќўе’Њж•°жЌ®йќўиї›иЎЊдє†и§ЈиЂ¦пјЊз®ЂеЊ–дє†и®ѕи®Ўе№¶жЏђеЌ‡дє†и·Ёе№іеЏ°зљ„еЏЇз§»ж¤ЌжЂ§гЂ‚еџєдєЋиЇҐж ‡е‡†APIе·Із»Џе®ћзЋ°дє†е¤љз§ЌSidecarд»Јзђ†е’ЊIstioзљ„й›†ж€ђпјЊй™¤Istioз›®е‰Ќй›†ж€ђзљ„Envoyе¤–пјЊиїеЏЇд»Ґе’ЊLinkerd, Nginmeshз­‰з¬¬дё‰ж–№йЂљдїЎд»Јзђ†иї›иЎЊй›†ж€ђпјЊд№џеЏЇд»ҐеџєдєЋиЇҐAPIи‡Єе·±зј–е†™Sidecarе®ћзЋ°гЂ‚

Pilotиїе®љд№‰дє†дёЂеҐ—DSLпј€Domain Specific Languageпј‰иЇ­иЁЂпјЊDSLиЇ­иЁЂжЏђдѕ›дє†йќўеђ‘дёљеЉЎзљ„й«е±‚жЉЅи±ЎпјЊеЏЇд»Ґиў«иїђз»ґдєєе‘зђ†и§Је’ЊдЅїз”ЁгЂ‚иїђз»ґдєєе‘дЅїз”ЁиЇҐDSLе®љд№‰жµЃй‡Џи§„е€™е№¶дё‹еЏ‘е€°PilotпјЊиї™дє›и§„е€™иў«Pilotзї»иЇ‘ж€ђж•°жЌ®йќўзљ„й…ЌзЅ®пјЊе†ЌйЂљиї‡ж ‡е‡†APIе€†еЏ‘е€°Envoyе®ћдѕ‹пјЊеЏЇд»ҐењЁиїђиЎЊжњџеЇ№еѕ®жњЌеЉЎзљ„жµЃй‡Џиї›иЎЊжЋ§е€¶е’Њи°ѓж•ґгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/pilot.png)

#### Mixer
ењЁеѕ®жњЌеЉЎеє”з”Ёдё­пјЊйЂљеёёйњЂи¦ЃйѓЁзЅІдёЂдє›еџєзЎЂзљ„еђЋз«Їе…¬е…±жњЌеЉЎд»Ґз”ЁдєЋж”Їж’‘дёљеЉЎеЉџиѓЅгЂ‚иї™дє›еџєзЎЂи®ѕж–ЅеЊ…ж‹¬з­–з•Ґз±»е¦‚и®їй—®жЋ§е€¶пјЊй…Ќйўќз®Ўзђ†пј›д»ҐеЏЉйЃҐжµ‹жЉҐе‘Ље¦‚APMпјЊж—Ґеї—з­‰гЂ‚еѕ®жњЌеЉЎеє”з”Ёе’Њиї™дє›еђЋз«Їж”Їж’‘зі»з»џд№‹й—ґдёЂи€¬жЇз›ґжЋҐй›†ж€ђзљ„пјЊиї™еЇји‡ґдє†еє”з”Ёе’ЊеџєзЎЂи®ѕзЅ®д№‹й—ґзљ„зґ§еЇ†иЂ¦еђ€пјЊе¦‚жћње› дёєиїђз»ґеЋџе› йњЂи¦ЃеЇ№еџєзЎЂи®ѕзЅ®иї›иЎЊеЌ‡зє§ж€–иЂ…ж”№еЉЁпјЊе€™йњЂи¦Ѓдї®ж”№еђ„дёЄеѕ®жњЌеЉЎзљ„еє”з”Ёд»Јз ЃпјЊеЏЌд№‹дє¦з„¶гЂ‚

дёєдє†и§Је†іиЇҐй—®йўпјЊMixerењЁеє”з”ЁзЁ‹еєЏд»Јз Ѓе’ЊеџєзЎЂжћ¶жћ„еђЋз«Їд№‹й—ґеј•е…Ґдє†дёЂдёЄйЂљз”Ёдё­й—ґе±‚гЂ‚иЇҐдё­й—ґе±‚и§ЈиЂ¦дє†еє”з”Ёе’ЊеђЋз«ЇеџєзЎЂи®ѕж–ЅпјЊеє”з”ЁзЁ‹еєЏд»Јз ЃдёЌе†Ќе°†еє”з”ЁзЁ‹еєЏд»Јз ЃдёЋз‰№е®љеђЋз«Їй›†ж€ђењЁдёЂиµ·пјЊиЂЊжЇдёЋMixerиї›иЎЊз›ёеЅ“з®ЂеЌ•зљ„й›†ж€ђпјЊз„¶еђЋMixerиґџиґЈдёЋеђЋз«Їзі»з»џиїћжЋҐгЂ‚

Mixerдё»и¦ЃжЏђдѕ›дє†дё‰дёЄж ёеїѓеЉџиѓЅпјљ
* е‰ЌжЏђжќЎд»¶жЈЂжџҐгЂ‚е…Ѓи®ёжњЌеЉЎењЁе“Ќеє”жќҐи‡ЄжњЌеЉЎж¶€иґ№иЂ…зљ„дј е…ҐиЇ·ж±‚д№‹е‰ЌйЄЊиЇЃдёЂдє›е‰ЌжЏђжќЎд»¶гЂ‚е‰ЌжЏђжќЎд»¶еЏЇд»ҐеЊ…ж‹¬жњЌеЉЎдЅїз”ЁиЂ…жЇеђ¦иў«ж­ЈзЎ®и®¤иЇЃпјЊжЇеђ¦ењЁжњЌеЉЎзљ„з™ЅеђЌеЌ•дёЉпјЊжЇеђ¦йЂљиї‡ACLжЈЂжџҐз­‰з­‰гЂ‚
* й…Ќйўќз®Ўзђ†гЂ‚ дЅїжњЌеЉЎиѓЅе¤џењЁе€†й…Ќе’Њй‡Љж”ѕе¤љдёЄз»ґеє¦дёЉзљ„й…ЌйўќпјЊй…Ќйўќиї™дёЂз®ЂеЌ•зљ„иµ„жєђз®Ўзђ†е·Ґе…·еЏЇд»ҐењЁжњЌеЉЎж¶€иґ№иЂ…еЇ№жњ‰й™ђиµ„жєђеЏ‘з”џдє‰з”Ёж—¶пјЊжЏђдѕ›з›ёеЇ№е…¬е№ізљ„пј€з«ћдє‰ж‰‹ж®µпј‰гЂ‚Rate Limitingе°±жЇй…Ќйўќзљ„дёЂдёЄдѕ‹е­ђгЂ‚
* йЃҐжµ‹жЉҐе‘ЉгЂ‚дЅїжњЌеЉЎиѓЅе¤џдёЉжЉҐж—Ґеї—е’Њз›‘жЋ§гЂ‚ењЁжњЄжќҐпјЊе®ѓиїе°†еђЇз”Ёй’€еЇ№жњЌеЉЎиїђиђҐе•†д»ҐеЏЉжњЌеЉЎж¶€иґ№иЂ…зљ„и·џиёЄе’Њи®Ўиґ№жµЃгЂ‚


Mixerзљ„жћ¶жћ„е¦‚е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/mixer2.png)

й¦–е…€пјЊSidecarдјљд»ЋжЇЏдёЂж¬ЎиЇ·ж±‚дё­ж”¶й›†з›ёе…ідїЎжЃЇпјЊе¦‚иЇ·ж±‚зљ„и·Їеѕ„пјЊж—¶й—ґпјЊжєђIPпјЊз›®ењ°жњЌеЉЎпјЊtracingе¤ґпјЊж—Ґеї—з­‰пјЊе№¶иЇ·иї™дє›е±ћжЂ§дёЉжЉҐз»™MixerгЂ‚Mixerе’ЊеђЋз«ЇжњЌеЉЎд№‹й—ґжЇйЂљиї‡йЂ‚й…Ќе™Ёиї›иЎЊиїћжЋҐзљ„пјЊMixerе°†SidecarдёЉжЉҐзљ„е†…е®№йЂљиї‡йЂ‚й…Ќе™ЁеЏ‘йЂЃз»™еђЋз«ЇжњЌеЉЎгЂ‚

з”±дєЋSidecarеЏЄе’ЊMixerиї›иЎЊеЇ№жЋҐпјЊе’ЊеђЋз«ЇжњЌеЉЎд№‹й—ґе№¶жІЎжњ‰иЂ¦еђ€пјЊе› ж­¤дЅїз”ЁMixerйЂ‚й…Ќе™Ёжњєе€¶еЏЇд»ҐжЋҐе…ҐдёЌеђЊзљ„еђЋз«ЇжњЌеЉЎпјЊиЂЊдёЌйњЂи¦Ѓдї®ж”№еє”з”Ёзљ„д»Јз ЃпјЊдѕ‹е¦‚йЂљиї‡дёЌеђЊзљ„MixerйЂ‚й…Ќе™ЁпјЊеЏЇд»ҐжЉЉMetricsж”¶й›†е€°Prometheusж€–иЂ…InfluxDBпјЊз”љи‡іеЏЇд»ҐењЁдёЌеЃњж­ўеє”з”ЁжњЌеЉЎзљ„жѓ…е†µдё‹еЉЁжЂЃе€‡жЌўеђЋеЏ°жњЌеЉЎгЂ‚

е…¶ж¬ЎпјЊSidecarењЁиї›иЎЊжЇЏж¬ЎиЇ·ж±‚е¤„зђ†ж—¶дјљйЂљиї‡Mixerиї›иЎЊз­–з•Ґе€¤ж–­пјЊе№¶ж №жЌ®Mixerиї”е›ћзљ„з»“жћње†іе®љжЇеђ¦з»§з»­е¤„зђ†иЇҐж¬Ўи°ѓз”ЁгЂ‚йЂљиї‡иЇҐж–№ејЏпјЊMixerе°†з­–з•Ґе†із­–з§»е‡єеє”з”Ёе±‚пјЊдЅїиїђз»ґдєєе‘еЏЇд»ҐењЁиїђиЎЊжњџеЇ№з­–з•Ґиї›иЎЊй…ЌзЅ®пјЊеЉЁжЂЃжЋ§е€¶еє”з”Ёзљ„иЎЊдёєпјЊжЏђй«дє†з­–з•ҐжЋ§е€¶зљ„зЃµжґ»жЂ§гЂ‚дѕ‹е¦‚еЏЇд»Ґй…ЌзЅ®жЇЏдёЄеѕ®жњЌеЉЎеє”з”Ёзљ„и®їй—®з™ЅеђЌеЌ•пјЊдёЌеђЊе®ўж€·з«Їзљ„Rate limitingпјЊз­‰з­‰гЂ‚

йЂ»иѕ‘дёЉеѕ®жњЌеЉЎд№‹й—ґзљ„жЇЏдёЂж¬ЎиЇ·ж±‚и°ѓз”ЁйѓЅдјљз»Џиї‡дё¤ж¬ЎMixerзљ„е¤„зђ†пјљи°ѓз”Ёе‰Ќиї›иЎЊз­–з•Ґе€¤ж–­пјЊи°ѓз”ЁеђЋиї›иЎЊйЃҐжµ‹ж•°жЌ®ж”¶й›†гЂ‚Istioй‡‡з”Ёдє†дёЂдє›жњєе€¶жќҐйЃїе…ЌMixerзљ„е¤„зђ†еЅ±е“ЌEnvoyзљ„иЅ¬еЏ‘ж•€зЋ‡гЂ‚

д»ЋдёЉе›ѕеЏЇд»Ґзњ‹е€°пјЊIstioењЁEnvoyдё­еўћеЉ дє†дёЂдёЄMixer FilterпјЊиЇҐFilterе’ЊжЋ§е€¶йќўзљ„Mixerз»„д»¶иї›иЎЊйЂљи®ЇпјЊе®Њж€ђз­–з•ҐжЋ§е€¶е’ЊйЃҐжµ‹ж•°жЌ®ж”¶й›†еЉџиѓЅгЂ‚Mixer Filterдё­дїќе­жњ‰з­–з•Ґе€¤ж–­ж‰ЂйњЂзљ„ж•°жЌ®зј“е­пјЊе› ж­¤е¤§йѓЁе€†з­–з•Ґе€¤ж–­ењЁEnvoyдё­е°±е¤„зђ†дє†пјЊдёЌйњЂи¦ЃеЏ‘йЂЃиЇ·ж±‚е€°MixerгЂ‚еЏ¦е¤–Envoyж”¶й›†е€°зљ„йЃҐжµ‹ж•°жЌ®дјље…€дїќе­ењЁEnvoyзљ„зј“е­дё­пјЊжЇЏйљ”дёЂж®µж—¶й—ґе†ЌйЂљиї‡ж‰№й‡Џзљ„ж–№ејЏдёЉжЉҐе€°MixerгЂ‚


#### Auth
Istioж”ЇжЊЃеЏЊеђ‘SSLи®¤иЇЃпј€Mutual SSL Authenticationпј‰е’ЊеџєдєЋи§’и‰Ізљ„и®їй—®жЋ§е€¶пј€RBACпј‰пјЊд»ҐжЏђдѕ›з«Їе€°з«Їзљ„е®‰е…Ёи§Је†іж–№жЎ€гЂ‚

##### и®¤иЇЃ
IstioжЏђдѕ›дє†дёЂдёЄе†…йѓЁзљ„CA(иЇЃд№¦жњєжћ„),иЇҐCAдёєжЇЏдёЄжњЌеЉЎйўЃеЏ‘иЇЃд№¦пјЊжЏђдѕ›жњЌеЉЎй—ґи®їй—®зљ„еЏЊеђ‘SSLиє«д»Ѕи®¤иЇЃпјЊе№¶иї›иЎЊйЂљдїЎеЉ еЇ†пјЊе…¶жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/auth.png)

е…¶е·ҐдЅњжњєе€¶е¦‚дё‹пјљ
йѓЁзЅІж—¶пјљ

* CAз›‘еђ¬Kubernetes API Server, дёєй›†зѕ¤дё­зљ„жЇЏдёЂдёЄService Accountе€›е»єдёЂеЇ№еЇ†й’Ґе’ЊиЇЃд№¦пјЊе№¶еЏ‘йЂЃз»™Kubernetes API ServerгЂ‚жіЁж„Џиї™й‡ЊдёЌжЇдёєжЇЏдёЄжњЌеЉЎз”џж€ђдёЂдёЄиЇЃд№¦пјЊиЂЊжЇдёєжЇЏдёЄService Accountз”џж€ђдёЂдёЄиЇЃд№¦гЂ‚Service Accountе’Њkubernetesдё­йѓЁзЅІзљ„жњЌеЉЎеЏЇд»ҐжЇдёЂеЇ№е¤љзљ„е…ізі»гЂ‚Service Accountиў«дїќе­ењЁиЇЃд№¦зљ„SAN(Subject Alternative Name)е­—ж®µдё­гЂ‚
* еЅ“Podе€›е»єж—¶пјЊKubernetesж №жЌ®иЇҐPodе…іиЃ”зљ„Service Accountе°†еЇ†й’Ґе’ЊиЇЃд№¦д»ҐKubernetes Secretsиµ„жєђзљ„ж–№ејЏеЉ иЅЅдёєPodзљ„VolumeпјЊд»Ґдѕ›EnvoyдЅїз”ЁгЂ‚
* Pilotз”џж€ђж•°жЌ®йќўзљ„й…ЌзЅ®пјЊеЊ…ж‹¬EnvoyйњЂдЅїз”Ёзљ„еЇ†й’Ґе’ЊиЇЃд№¦дїЎжЃЇпјЊд»ҐеЏЉе“ЄдёЄService AccountеЏЇд»Ґе…Ѓи®ёиїђиЎЊе“Єдє›жњЌеЉЎпјЊдё‹еЏ‘е€°EnvoyгЂ‚
>е¤‡жіЁпјље¦‚жћњжЇи™љжњєзЋЇеўѓпјЊе€™й‡‡з”ЁдёЂдёЄNode Agentз”џж€ђеЇ†й’ҐпјЊеђ‘Istio CAз”іиЇ·иЇЃд№¦пјЊз„¶еђЋе°†иЇЃд№¦дј йЂ’з»™EnvoyгЂ‚

иїђиЎЊж—¶пјљ

* жњЌеЉЎе®ўж€·з«Їзљ„е‡єз«™иЇ·ж±‚иў«EnvoyжЋҐз®ЎгЂ‚
* е®ўж€·з«Їзљ„Envoyе’ЊжњЌеЉЎз«Їзљ„EnvoyејЂе§‹еЏЊеђ‘SSLжЏЎж‰‹гЂ‚ењЁжЏЎж‰‹й¶ж®µпјЊе®ўж€·з«ЇEnvoyдјљйЄЊиЇЃжњЌеЉЎз«ЇEnvoyиЇЃд№¦дё­зљ„Service Accountжњ‰жІЎжњ‰жќѓй™ђиїђиЎЊиЇҐиЇ·ж±‚зљ„жњЌеЉЎпјЊе¦‚жІЎжњ‰жќѓй™ђпјЊе€™и®¤дёєжњЌеЉЎз«ЇдёЌеЏЇдїЎпјЊдёЌиѓЅе€›е»єй“ѕжЋҐгЂ‚
* еЅ“еЉ еЇ†TSLй“ѕжЋҐе€›е»єеҐЅеђЋпјЊиЇ·ж±‚ж•°жЌ®иў«еЏ‘йЂЃе€°жњЌеЉЎз«Їзљ„EnvoyпјЊз„¶еђЋиў«EnvoyйЂљиї‡дёЂдёЄжњ¬ењ°зљ„TCPй“ѕжЋҐеЏ‘йЂЃе€°жњЌеЉЎдё­гЂ‚

##### й‰ґжќѓ

IstioвЂњеџєдєЋи§’и‰Ізљ„и®їй—®жЋ§е€¶вЂќпј€RBACпј‰жЏђдѕ›дє†е‘ЅеђЌз©єй—ґпјЊжњЌеЉЎпјЊж–№жі•дё‰дёЄдёЌеђЊе¤§е°ЏзІ’еє¦зљ„жњЌеЉЎи®їй—®жќѓй™ђжЋ§е€¶гЂ‚е…¶жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/authorization.png)

з®Ўзђ†дєєе‘еЏЇд»Ґе®ље€¶и®їй—®жЋ§е€¶зљ„е®‰е…Ёз­–з•ҐпјЊиї™дє›е®‰е…Ёз­–з•Ґдїќе­ењЁIstio Config Storeдё­гЂ‚ Istio RBAC Engineд»ЋConfig Storeдё­иЋ·еЏ–е®‰е…Ёз­–з•ҐпјЊж №жЌ®е®‰е…Ёз­–з•ҐеЇ№е®ўж€·з«ЇеЏ‘иµ·зљ„иЇ·ж±‚иї›иЎЊе€¤ж–­пјЊе№¶иї”е›ћй‰ґжќѓз»“жћњпј€е…Ѓи®ёж€–иЂ…з¦Ѓж­ўпј‰гЂ‚

Istio RBAC Engineз›®е‰Ќиў«е®ћзЋ°дёєдёЂдёЄMixer AdapterпјЊе› ж­¤е…¶еЏЇд»Ґд»ЋMixerдј йЂ’иї‡жќҐзљ„дёЉдё‹ж–‡дё­иЋ·еЏ–е€°и®їй—®иЇ·ж±‚иЂ…зљ„иє«д»Ѕпј€Subjectпј‰е’Њж“ЌдЅњиЇ·ж±‚пј€Actionпј‰пјЊе№¶йЂљиї‡MixerеЇ№и®їй—®иЇ·ж±‚иї›иЎЊз­–з•ҐжЋ§е€¶пјЊе…Ѓи®ёж€–иЂ…з¦Ѓж­ўжџђдёЂж¬ЎиЇ·ж±‚гЂ‚

Istio Policyдё­еЊ…еђ«дё¤дёЄеџєжњ¬ж¦‚еїµпјљ

* ServiceRoleпјЊе®љд№‰дёЂдёЄи§’и‰ІпјЊе№¶дёєиЇҐи§’и‰ІжЊ‡е®љеЇ№зЅ‘ж јдё­жњЌеЉЎзљ„и®їй—®жќѓй™ђгЂ‚жЊ‡е®љи§’и‰Іи®їй—®жќѓй™ђж—¶еЏЇд»ҐењЁе‘ЅеђЌз©єй—ґпјЊжњЌеЉЎпјЊж–№жі•зљ„дёЌеђЊзІ’еє¦иї›иЎЊи®ѕзЅ®гЂ‚

* ServiceRoleBindingпјЊе°†и§’и‰Із»‘е®ље€°дёЂдёЄSubjectпјЊеЏЇд»ҐжЇдёЂдёЄз”Ёж€·пјЊдёЂз»„з”Ёж€·ж€–иЂ…дёЂдёЄжњЌеЉЎгЂ‚

### Istioж•°жЌ®йќў
Istioж•°жЌ®йќўд»ҐвЂњиѕ№иЅ¦вЂќ(sidecar)зљ„ж–№ејЏе’Њеѕ®жњЌеЉЎдёЂиµ·йѓЁзЅІпјЊдёєеѕ®жњЌеЉЎжЏђдѕ›е®‰е…ЁгЂЃеї«йЂџгЂЃеЏЇйќ зљ„жњЌеЉЎй—ґйЂљи®ЇгЂ‚з”±дєЋIstioзљ„жЋ§е€¶йќўе’Њж•°жЌ®йќўд»Ґж ‡е‡†жЋҐеЏЈиї›иЎЊдє¤дє’пјЊе› ж­¤ж•°жЌ®еЏЇд»Ґжњ‰е¤љз§Ќе®ћзЋ°пјЊIstioзјєзњЃдЅїз”Ёдє†Envoyд»Јзђ†зљ„ж‰©е±•з‰€жњ¬гЂ‚

EnvoyжЇд»ҐC ++ејЂеЏ‘зљ„й«жЂ§иѓЅд»Јзђ†пјЊз”ЁдєЋи°ѓи§ЈжњЌеЉЎзЅ‘ж јдё­ж‰Ђжњ‰жњЌеЉЎзљ„ж‰Ђжњ‰е…Ґз«™е’Ње‡єз«™жµЃй‡ЏгЂ‚Envoyзљ„и®ёе¤ље†…зЅ®еЉџиѓЅиў«IstioеЏ‘ж‰¬е…‰е¤§пјЊдѕ‹е¦‚еЉЁжЂЃжњЌеЉЎеЏ‘зЋ°пјЊиґџиЅЅеќ‡иЎЎпјЊTLSеЉ еЇ†пјЊHTTP/2 & gRPCд»Јзђ†пјЊз†”ж–­е™ЁпјЊи·Їз”±и§„е€™пјЊж•…йљњжіЁе…Ґе’ЊйЃҐжµ‹з­‰гЂ‚

Istioж•°жЌ®йќўж”ЇжЊЃзљ„з‰№жЂ§е¦‚дё‹пјљ

| Outboundз‰№жЂ§ | Inboundз‰№жЂ§ |
|--------|--------|
| Service authenticationпј€жњЌеЉЎи®¤иЇЃпј‰|Service authenticationпј€жњЌеЉЎи®¤иЇЃпј‰|
|Load Balancingпј€иґџиЅЅеќ‡иЎЎпј‰        |Authorizationпј€й‰ґжќѓпј‰|
|Retry and circuit breakerпј€й‡ЌиЇ•е’Њж–­и·Їе™Ёпј‰|Rate limitsпј€иЇ·ж±‚й™ђжµЃпј‰|
|Fine-grained routingпј€з»†зІ’еє¦зљ„и·Їз”±пј‰|Load sheddingпј€иґџиЅЅжЋ§е€¶пј‰|
|Telemetryпј€йЃҐжµ‹пј‰|Telemetryпј€йЃҐжµ‹пј‰|
|Request Tracingпј€е€†еёѓејЏиїЅиёЄпј‰|Request Tracingпј€е€†еёѓејЏиїЅиёЄпј‰|
|Fault Injectionпј€ж•…йљњжіЁе…Ґпј‰|Fault Injectionпј€ж•…йљњжіЁе…Ґпј‰|

>е¤‡жіЁпјљOutboundз‰№жЂ§жЇжЊ‡жњЌеЉЎиЇ·ж±‚дѕ§зљ„SidecarжЏђдѕ›зљ„еЉџиѓЅз‰№жЂ§пјЊиЂЊInboundз‰№жЂ§жЇжЊ‡жњЌеЉЎжЏђдѕ›дѕ§SidecarжЏђдѕ›зљ„еЉџиѓЅз‰№жЂ§гЂ‚дёЂдє›з‰№жЂ§е¦‚йЃҐжµ‹е’Ње€†еёѓејЏи·џиёЄйњЂи¦Ѓдё¤дѕ§зљ„SidecarйѓЅжЏђдѕ›ж”ЇжЊЃпј›иЂЊеЏ¦дёЂдє›з‰№жЂ§е€™еЏЄйњЂи¦ЃењЁдёЂдѕ§жЏђдѕ›пјЊдѕ‹е¦‚й‰ґжќѓеЏЄйњЂи¦ЃењЁжњЌеЉЎжЏђдѕ›дѕ§жЏђдѕ›пјЊй‡ЌиЇ•еЏЄйњЂи¦ЃењЁиЇ·ж±‚дѕ§жЏђдѕ›гЂ‚

### е…ёећ‹еє”з”Ёењєж™Ї
IstioжњЌеЉЎз®ЎжЋ§еЊ…ж‹¬дё‹е€—зљ„е…ёећ‹еє”з”Ёењєж™Їпјљ

#### е€†еёѓејЏи°ѓз”ЁиїЅиёЄ
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­пјЊдёљеЉЎзљ„и°ѓз”Ёй“ѕйќћеёёе¤Ќжќ‚пјЊдёЂдёЄжќҐи‡Єз”Ёж€·зљ„иЇ·ж±‚еЏЇиѓЅж¶‰еЏЉе€°е‡ еЌЃдёЄжњЌеЉЎзљ„еЌЏеђЊе¤„зђ†гЂ‚е› ж­¤йњЂи¦ЃдёЂдёЄи·џиёЄзі»з»џжќҐи®°еЅ•е’Ње€†жћђеђЊдёЂж¬ЎиЇ·ж±‚ењЁж•ґдёЄи°ѓз”Ёй“ѕдёЉзљ„з›ёе…ідє‹д»¶пјЊд»ЋиЂЊеё®еЉ©з ”еЏ‘е’Њиїђз»ґдєєе‘е€†жћђзі»з»џз“¶йў€пјЊеї«йЂџе®љдЅЌеј‚еёёе’ЊдјеЊ–и°ѓз”Ёй“ѕи·ЇгЂ‚

IstioйЂљиї‡ењЁEnvoyд»Јзђ†дёЉж”¶й›†и°ѓз”Ёз›ёе…іж•°жЌ®пјЊе®ћзЋ°дє†еЇ№еє”з”Ёж— дѕµе…Ґзљ„е€†еёѓејЏи°ѓз”Ёи·џиёЄе€†жћђгЂ‚ Istioе®ћзЋ°е€†еёѓејЏи°ѓз”ЁиїЅиёЄзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/distributed-tracing.png)
Envoyж”¶й›†дёЂдёЄз«Їе€°з«Їи°ѓз”Ёдё­зљ„еђ„дёЄе€†ж®µзљ„ж•°жЌ®пјЊе№¶е°†иї™дє›и°ѓз”ЁиїЅиёЄдїЎжЃЇеЏ‘йЂЃз»™MixerпјЊMixer Adapter е°†иїЅиёЄдїЎжЃЇеЏ‘йЂЃз»™з›ёеє”зљ„жњЌеЉЎеђЋз«Їиї›иЎЊе¤„зђ†гЂ‚ж•ґдёЄи°ѓз”ЁиїЅиёЄдїЎжЃЇзљ„з”џж€ђжµЃзЁ‹дёЌйњЂи¦Ѓеє”з”ЁзЁ‹еєЏд»‹е…ҐпјЊе› ж­¤дёЌйњЂи¦Ѓе°†е€†еёѓејЏи·џиёЄз›ёе…ід»Јз ЃжіЁе…Ґе€°еє”з”ЁзЁ‹еєЏдё­гЂ‚

>жіЁж„Џпјљеє”з”Ёд»ЌйњЂи¦ЃењЁиї›иЎЊе‡єеЏЈи°ѓз”Ёж—¶е°†ж”¶е€°зљ„е…ҐеЏЈиЇ·ж±‚дё­tracingз›ёе…ізљ„headerиЅ¬еЏ‘е‡єеЋ»пјЊдј йЂ’з»™и°ѓз”Ёй“ѕдё­дё‹дёЂдёЄиѕ№иЅ¦иї›иЎЊе¤„зђ†гЂ‚

#### еє¦й‡Џж”¶й›†
Istio е®ћзЋ°еє¦й‡Џж”¶й›†зљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/metrics-collecting.png)

Envoyж”¶й›†жЊ‡ж ‡з›ёе…ізљ„еЋџе§‹ж•°жЌ®пјЊе¦‚иЇ·ж±‚зљ„жњЌеЉЎпјЊHTTPзЉ¶жЂЃз ЃпјЊи°ѓз”Ёж—¶е»¶з­‰пјЊиї™дє›ж”¶й›†е€°зљ„жЊ‡ж ‡ж•°жЌ®иў«йЂЃе€°MixerпјЊйЂљиї‡Mixer Adapters е°†жЊ‡ж ‡дїЎжЃЇиЅ¬жЌўеђЋеЏ‘йЂЃе€°еђЋз«Їзљ„з›‘жЋ§зі»з»џдё­гЂ‚з”±дєЋMixerдЅїз”Ёдє†жЏ’д»¶жњєе€¶пјЊеђЋз«Їз›‘жЋ§зі»з»џеЏЇд»Ґж №жЌ®йњЂи¦ЃењЁиїђиЎЊжњџиї›иЎЊеЉЁжЂЃе€‡жЌўгЂ‚

#### зЃ°еє¦еЏ‘еёѓ
еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚ж— и®єиї›иЎЊдє†е¤љд№€е®Ње–„зљ„жµ‹иЇ•пјЊйѓЅж— жі•дїќиЇЃзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚

еЏЇд»ҐйЂљиї‡зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚

IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏе®ћзЋ°дє†зЃ°еє¦еЏ‘еёѓгЂ‚ењЁеЏ‘еёѓж–°з‰€жњ¬еђЋпјЊиїђз»ґдєєе‘еЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚е…·жњ‰жЊ‡е®љз‰№еѕЃзљ„жµ‹иЇ•з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­д»Ґиї›иЎЊжµ‹иЇ•гЂ‚йЂљиї‡жёђиї›еЏ—жЋ§ењ°еђ‘ж–°з‰€жњ¬еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚

й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ

й¦–е…€пјЊйЂљиї‡йѓЁзЅІж–°з‰€жњ¬зљ„жњЌеЉЎпјЊе№¶е°†йЂљиї‡и·Їз”±и§„е€™е°†й‡‘дёќй›Ђз”Ёж€·зљ„жµЃй‡ЏеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎдё­
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-1.png)

жµ‹иЇ•зЁіе®љеђЋпјЊдЅїз”Ёи·Їз”±и§„е€™е°†з”џдє§жµЃй‡ЏйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬зі»з»џдё­пјЊе¦‚жЊ‰5%пјЊ10%пјЊ50%пјЊ80%йЂђжёђеЇје…ҐгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-2.png)

е¦‚жћњж–°з‰€жњ¬е·ҐдЅњж­ЈеёёпјЊе€™жњЂеђЋе°†ж‰Ђжњ‰жµЃй‡ЏеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊе№¶е°†иЂЃз‰€жњ¬жњЌеЉЎдё‹зєїпј›е¦‚дё­й—ґе‡єзЋ°й—®йўпјЊе€™еЏЇд»Ґе°†жµЃй‡Џй‡Ќж–°еЇје›ћиЂЃз‰€жњ¬пјЊењЁж–°з‰€жњ¬дё­дї®е¤Ќж•…йљњеђЋй‡‡з”ЁиЇҐжµЃзЁ‹й‡Ќж–°еЏ‘еёѓгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/canary-3.png)

#### ж–­и·Їе™Ё
ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­пјЊе­ењЁзќЂи®ёи®ёе¤ље¤љзљ„жњЌеЉЎеЌ•е…ѓпјЊи‹ҐдёЂдёЄжњЌеЉЎе‡єзЋ°ж•…йљњпјЊе°±дјље› дѕќиµ–е…ізі»еЅўж€ђж•…йљњи”“е»¶пјЊжњЂз»€еЇји‡ґж•ґдёЄзі»з»џзљ„з«з—ЄпјЊиї™ж ·зљ„жћ¶жћ„з›ёиѕѓдј з»џжћ¶жћ„е°±ж›ґеЉ зљ„дёЌзЁіе®љгЂ‚дёєдє†и§Је†іиї™ж ·зљ„й—®йўпјЊе› ж­¤дє§з”џдє†ж–­и·Їе™ЁжЁЎејЏгЂ‚

ж–­и·Їе™ЁжЁЎејЏжЊ‡пјЊењЁжџђдёЄжњЌеЉЎеЏ‘з”џж•…йљњж—¶пјЊж–­и·Їе™Ёзљ„ж•…йљњз›‘жЋ§еђ‘и°ѓз”Ёж”ѕиї”е›ћдёЂдёЄеЏЉж—¶зљ„й”™иЇЇе“Ќеє”пјЊиЂЊдёЌжЇй•їж—¶й—ґзљ„з­‰еѕ…гЂ‚иї™ж ·е°±дёЌдјљдЅїеѕ—и°ѓз”ЁзєїзЁ‹е› и°ѓз”Ёж•…йљњиў«й•їж—¶й—ґеЌ з”ЁпјЊд»ЋиЂЊйЃїе…Ќдє†ж•…йљњењЁж•ґдёЄзі»з»џдё­зљ„и”“е»¶гЂ‚

Istio е®ћзЋ°ж–­и·Їе™Ёзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-03-29-what-is-service-mesh-and-istio/circuitbreaker.png)
з®Ўзђ†е‘йЂљиї‡destination policyи®ѕзЅ®ж–­и·Їи§¦еЏ‘жќЎд»¶пјЊж–­и·Їж—¶й—ґз­‰еЏ‚ж•°гЂ‚дѕ‹е¦‚и®ѕзЅ®жњЌеЉЎBеЏ‘з”џ10ж¬Ў5XXй”™иЇЇеђЋж–­и·Ї15е€†й’џгЂ‚е€™еЅ“жњЌеЉЎBзљ„жџђдёЂе®ћдѕ‹ж»Ўи¶іж–­и·ЇжќЎд»¶еђЋпјЊе°±дјљиў«д»ЋLBж± дё­з§»й™¤15е€†й’џгЂ‚ењЁиї™ж®µж—¶й—ґе†…пјЊEnvoyе°†дёЌе†ЌжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚иЅ¬еЏ‘е€°иЇҐжњЌеЉЎе®ћдѕ‹гЂ‚

Istioзљ„ж–­и·Їе™Ёиїж”ЇжЊЃй…ЌзЅ®жњЂе¤§й“ѕжЋҐж•°пјЊжњЂе¤§еѕ…е¤„зђ†иЇ·ж±‚ж•°пјЊжњЂе¤§иЇ·ж±‚ж•°пјЊжЇЏй“ѕжЋҐжњЂе¤§иЇ·ж±‚ж•°пјЊй‡ЌиЇ•ж¬Ўж•°з­‰еЏ‚ж•°гЂ‚еЅ“иѕѕе€°и®ѕзЅ®зљ„жњЂе¤§иЇ·ж±‚ж•°еђЋпјЊж–°еЏ‘иµ·зљ„иЇ·ж±‚дјљиў«Envoyз›ґжЋҐж‹’з»ќгЂ‚
![](/img/2018-03-29-what-is-service-mesh-and-istio/circuitbreaker-parameters.png)

#### ж•…йљњжіЁе…Ґ
еЇ№дєЋдёЂдёЄе¤§ећ‹еѕ®жњЌеЉЎеє”з”ЁиЂЊиЁЂпјЊзі»з»џзљ„еЃҐеЈ®жЂ§йќћеёёй‡Ќи¦ЃгЂ‚ењЁеѕ®жњЌеЉЎзі»з»џдё­е­ењЁе¤§й‡Џзљ„жњЌеЉЎе®ћдѕ‹пјЊеЅ“йѓЁе€†жњЌеЉЎе®ћдѕ‹е‡єзЋ°й—®йўж—¶пјЊеѕ®жњЌеЉЎеє”з”ЁйњЂи¦Ѓе…·жњ‰иѕѓй«зљ„е®№й”™жЂ§пјЊйЂљиї‡й‡ЌиЇ•пјЊж–­и·ЇпјЊи‡Єж„€з­‰ж‰‹ж®µдїќиЇЃзі»з»џиѓЅе¤џз»§з»­еЇ№е¤–ж­ЈеёёжЏђдѕ›жњЌеЉЎгЂ‚е› ж­¤ењЁеє”з”ЁеЏ‘еёѓе€°з”џдє§зі»з»џејєйњЂи¦ЃеЇ№зі»з»џиї›иЎЊе……е€†зљ„еЃҐеЈ®жЂ§жµ‹иЇ•гЂ‚

еЇ№еѕ®жњЌеЉЎеє”з”Ёиї›иЎЊеЃҐеЈ®жЂ§жµ‹иЇ•зљ„дёЂдёЄжњЂе¤§зљ„е›°йљѕжЇе¦‚дЅ•еЇ№зі»з»џж•…йљњиї›иЎЊжЁЎж‹џгЂ‚ењЁдёЂдёЄйѓЁзЅІдє†ж€ђз™ѕдёЉеЌѓеѕ®жњЌеЉЎзљ„жµ‹иЇ•зЋЇеўѓдё­пјЊе¦‚жћњжѓійЂљиї‡еЇ№еє”з”ЁпјЊдё»жњєж€–иЂ…дє¤жЌўжњєиї›иЎЊи®ѕзЅ®жќҐжЁЎж‹џеѕ®жњЌеЉЎд№‹й—ґзљ„йЂљдїЎж•…йљњжЇйќћеёёе›°йљѕзљ„гЂ‚

IstioйЂљиї‡жњЌеЉЎзЅ‘ж јж‰їиЅЅдє†еѕ®жњЌеЉЎд№‹й—ґзљ„йЂљдїЎжµЃй‡ЏпјЊе› ж­¤еЏЇд»ҐењЁзЅ‘ж јдё­йЂљиї‡и§„е€™иї›иЎЊж•…йљњжіЁе…ҐпјЊжЁЎж‹џйѓЁе€†еѕ®жњЌеЉЎе‡єзЋ°ж•…йљњзљ„жѓ…е†µпјЊеЇ№ж•ґдёЄеє”з”Ёзљ„еЃҐеЈ®жЂ§иї›иЎЊжµ‹иЇ•гЂ‚

ж•…йљњжіЁе…Ґзљ„еЋџзђ†е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-03-29-what-is-service-mesh-and-istio/fault-injection.png)
жµ‹иЇ•дєєе‘йЂљиї‡Pilotеђ‘EnvoyжіЁе…Ґдє†дёЂдёЄи§„е€™пјЊдёєеЏ‘еђ‘жњЌеЉЎMS-Bзљ„иЇ·ж±‚еЉ е…Ґдє†жЊ‡е®љж—¶й—ґзљ„е»¶иїџгЂ‚еЅ“е®ўж€·з«ЇиЇ·ж±‚еЏ‘еђ‘MSB-Bж—¶пјЊEnvoyдјљж №жЌ®иЇҐи§„е€™дёєиЇҐиЇ·ж±‚еЉ е…Ґж—¶е»¶пјЊеј•иµ·е®ўж€·зљ„иЇ·ж±‚и¶…ж—¶гЂ‚йЂљиї‡и®ѕзЅ®и§„е€™жіЁе…Ґж•…йљњзљ„ж–№ејЏпјЊжµ‹иЇ•дєєе‘еЏЇд»Ґеѕ€ж–№дѕїењ°жЁЎж‹џеѕ®жњЌеЉЎд№‹й—ґзљ„еђ„з§ЌйЂљдїЎж•…йљњпјЊеЇ№еѕ®жњЌеЉЎеє”з”Ёзљ„еЃҐеЈ®жЂ§иї›иЎЊиѕѓдёєе®Њж•ґзљ„жЁЎж‹џжµ‹иЇ•гЂ‚

## жЂ»з»“
жњЌеЉЎзЅ‘ж јдёєеѕ®жњЌеЉЎжЏђдѕ›дє†дёЂдёЄеЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋзљ„е®‰е…ЁгЂЃеЏЇйќ зљ„йЂљдїЎеџєзЎЂи®ѕж–Ѕе±‚гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеѕ®жњЌеЉЎеє”з”ЁејЂеЏ‘дєєе‘еЏЇд»Ґдё“жіЁдєЋи§Је†ідёљеЉЎйў†еџџй—®йўпјЊе°†дёЂдє›йЂљз”Ёй—®йўдє¤з»™жњЌеЉЎзЅ‘ж је¤„зђ†гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊйЃїе…Ќдє†д»Јз Ѓеє“её¦жќҐзљ„дѕќиµ–пјЊеЏЇд»Ґе……е€†еЏ‘жЊҐеѕ®жњЌеЉЎзљ„еј‚жћ„дјеЉїпјЊејЂеЏ‘е›ўйџеЏЇд»Ґж №жЌ®дёљеЉЎйњЂж±‚е’ЊејЂеЏ‘дєєе‘иѓЅеЉ›и‡Єз”±йЂ‰ж‹©жЉЂжњЇж €гЂ‚

Istioе…·жњ‰и‰ЇеҐЅзљ„жћ¶жћ„и®ѕи®ЎпјЊжЏђдѕ›дє†ејєе¤§зљ„дєЊж¬ЎејЂеЏ‘ж‰©е±•жЂ§е’Њз”Ёж€·е®ље€¶иѓЅеЉ›гЂ‚и™Ѕз„¶Istioз›®е‰Ќиїе¤„дєЋbetaй¶ж®µпјЊдЅ†е·Із»ЏиЋ·еѕ—дј—е¤љзџҐеђЌе…¬еЏёе’Њдє§е“Ѓзљ„ж”ЇжЊЃпјЊжЇдёЂдёЄйќћеёёе…·жњ‰е‰Ќж™Їзљ„ејЂжєђжњЌеЉЎзЅ‘ж јејЂжєђйЎ№з›®гЂ‚

## еЏ‚иЂѓ

* [Istio online documentation](https://istio.io/docs/)
* [Pattern: Service Mesh](http://philcalcado.com/2017/08/03/pattern_service_mesh.html)
* [Mixer and the SPOF Myth](https://istio.io/blog/2017/mixer-spof-myth.html)


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-04-11-service-mesh-vs-api-gateway.md

---
layout:     post
title:      "Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰"
subtitle:   ""
description: "API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚"
excerpt: "API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚"
date:       2018-04-11 09:32:00
author:     "иµµеЊ–е†°"
image: "/img/2018-04-11-service-mesh-vs-api-gateway/background.jpg"
publishDate: 2018-04-11 09:32:00
tags:
    - Microservice
    - Service Mesh
    - API Gateway
URL: "/2018/04/11/service-mesh-vs-api-gateway/"
categories: [ Tech ]
---

## Service Mesh vs API Gateway

ењЁ[е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« ](https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a)дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚

дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚

## API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ


дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚

API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚

ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚

API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚

API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚

## Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ

зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚

Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚

й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚

## API Gatewayе’ЊService Meshе®ћи·µ

API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚

дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚


е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ

![](/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png)

е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚

еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway->Service Mesh->Microservicesпј‰гЂ‚

ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚

## иЇ‘иЂ…жЊ‰

API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚

ж–‡з« дё­жЏђе€°вЂњеЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎвЂќгЂ‚ењЁе’ЊеђЊдє‹и®Ёи®єж—¶пјЊе¤§е®¶жЏђе€°дёЂдёЄжЇ”иѕѓй‡Ќи¦Ѓзљ„иЂѓи™‘е› зґ жЇењЁAPI Gatewayе¤„еј•е…ҐдёЂдёЄSidecarеЏЇиѓЅеё¦жќҐзљ„йўќе¤–е»¶иїџгЂ‚

API GatewayдЅњдёєеѕ®жњЌеЉЎеј•з”Ёзљ„жµЃй‡Џе…ҐеЏЈпјЊе…¶еЇ№ж•€зЋ‡и¦Ѓж±‚иѕѓй«пјЊе¦‚жћњйљЏAPI GatewayйѓЁзЅІдёЂдёЄSidecarпјЊеЏЇиѓЅеЇ№ж•€зЋ‡жњ‰дёЂе®љеЅ±е“ЌгЂ‚

ж€‘еЇ№ж­¤жњЄиї›иЎЊжµ‹иЇ•пјЊдЅ†д»Ћзђ†и®єдёЉжќҐиЇґпјЊжњЌеЉЎеЏ‘зЋ°пјЊй‡ЌиЇ•пјЊж–­и·Їз­‰йЂ»иѕ‘ж— и®єж”ѕе€°API GatewayиїжЇService Meshдё­иЂ—ж—¶еє”иЇҐжЇе·®дёЌе¤љзљ„пјЊйѓЁзЅІSidecarеЏЄжЇеўћеЉ дє†е€›е»єдёЂдёЄжњ¬ењ°й“ѕжЋҐзљ„ж¶€иЂ—пјЊе¦‚дё‹е›ѕж‰Ђз¤є:
![](/img/2018-04-11-service-mesh-vs-api-gateway/api-gateway-with-service-mesh.png)

е°†API Gatewayе’ЊService Meshзљ„еЉџиѓЅиї›иЎЊжё…ж™°е€’е€†пјЊAPI GatewayиґџиґЈеє”з”ЁйЂ»иѕ‘пјЊService MeshиґџиґЈжњЌеЉЎйЂљи®ЇпјЊMetricsж”¶й›†з­‰еѕ®жњЌеЉЎеџєзЎЂи®ѕж–ЅпјЊиї™ж ·е€’е€†еђЋењЁжћ¶жћ„дёЉж›ґдёєжё…ж™°гЂ‚еЇ№дєЋж•€зЋ‡й—®йўпјЊж€‘д»¬еЏЇд»ҐиЂѓи™‘еЇ№API Gatewayиї›иЎЊж°ґе№іж‰©е±•жќҐи§Је†ігЂ‚

## еЋџж–‡

жњ¬иЇ‘ж–‡еЏ‘иЎЁе·ІеѕЃеѕ—еЋџдЅњиЂ…еђЊж„ЏпјЊеЋџж–‡еЏ‚и§Ѓ [Service Mesh vs API Gateway](https://medium.com/microservices-in-practice/service-mesh-vs-api-gateway-a6d814b9bf56)



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-04-16-using-helm-to-deploy-to-kubernetes.md

---
layout:     post
title:      "Helmд»‹з»Ќ"
subtitle:   "ејєе¤§зљ„KubernetesеЊ…з®Ўзђ†е·Ґе…·"
description: "HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚"
excerpt: "HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚"
date:       2018-04-16 15:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-04-16-using-helm-to-deploy-to-kubernetes/buffalo.jpg"
publishDate: 2018-04-16 15:00:00
tags:
    - Kubernetes
    - Helm
categories: [ Tech ]
URL: "/2018/04/16/using-helm-to-deploy-to-kubernetes/"
---

## е‰ЌиЁЂ
- - -
HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚

## Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€
- - -
и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚

kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚

з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚

д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚

е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png)


еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ
* е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ
* е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ
* е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ

Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚

## HelmжЇд»Ђд№€пјџ
- - -
еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚

ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (https://deis.com/) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚

еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚

еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚

й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚

## Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­
- - -
ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚

е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚

* Helm   

  Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚
* Tiller 

  Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚
* Chart 

  Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚
* Repoistory 
  
  Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚
* Release 
  
  дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚

>  йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚
>  
>  е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚

дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚

е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png)

## е®‰иЈ…Helm
- - -
дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚

еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm

й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm

1. дё‹иЅЅ Helm https://github.com/kubernetes/helm/releases
1. и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz
1. ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm

з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller

```bash
Helm init
```

## жћ„е»єдёЂдёЄHelm chart
- - -

и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚

```
git clone https://github.com/zhaohuabing/testapi.git; 
cd testapi
```

й¦–е…€е€›е»єдёЂдёЄchartзљ„йЄЁжћ¶
```
helm create testapi-chart
```

иЇҐе‘Ѕд»¤е€›е»єдёЂдёЄtestapi-chartз›®еЅ•пјЊиЇҐз›®еЅ•з»“жћ„е¦‚дё‹ж‰Ђз¤єпјЊж€‘д»¬дё»и¦Ѓе…іжіЁз›®еЅ•дё­зљ„иї™дё‰дёЄж–‡д»¶еЌіеЏЇ: Chart.yamlпјЊvalues.yaml е’Њ NOTES.txtгЂ‚
```Bash
testapi-chart
в”њв”Ђв”Ђ charts
в”њв”Ђв”Ђ Chart.yaml
в”њв”Ђв”Ђ templates
в”‚В В  в”њв”Ђв”Ђ deployment.yaml
в”‚В В  в”њв”Ђв”Ђ _helpers.tpl
в”‚В В  в”њв”Ђв”Ђ NOTES.txt
в”‚В В  в””в”Ђв”Ђ service.yaml
в””в”Ђв”Ђ values.yaml
```

* Chart.yaml з”ЁдєЋжЏЏиї°иї™дёЄchartпјЊеЊ…ж‹¬еђЌе­—пјЊжЏЏиї°дїЎжЃЇд»ҐеЏЉз‰€жњ¬гЂ‚
* values.yaml з”ЁдєЋе­е‚Ёtemplatesз›®еЅ•дё­жЁЎжќїж–‡д»¶дё­з”Ёе€°зљ„еЏй‡ЏгЂ‚ жЁЎжќїж–‡д»¶дёЂи€¬жЇGoжЁЎжќїгЂ‚е¦‚жћњдЅ йњЂи¦Ѓдє†и§Јж›ґе¤ље…ідєЋGoжЁЎжќїзљ„з›ёе…ідїЎжЃЇпјЊеЏЇд»ҐжџҐзњ‹Hugo (https://gohugo.io) зљ„дёЂдёЄе…ідєЋGoжЁЎжќїзљ„д»‹з»Ќ (https://gohugo.io/templates/go-templates/)гЂ‚
* NOTES.txt з”ЁдєЋеђ‘йѓЁзЅІиЇҐchartзљ„з”ЁдєЋд»‹з»ЌchartйѓЁзЅІеђЋзљ„дёЂдє›дїЎжЃЇгЂ‚дѕ‹е¦‚д»‹з»Ќе¦‚дЅ•дЅїз”Ёиї™дёЄchartпјЊе€—е‡єзјєзњЃзљ„и®ѕзЅ®з­‰гЂ‚

ж‰“ејЂChart.yaml, еЎ«е†™дЅ йѓЁзЅІзљ„еє”з”Ёзљ„иЇ¦з»†дїЎжЃЇпјЊд»Ґtestapiдёєдѕ‹пјљ
```
apiVersion: v1
description: A simple api for testing and debugging
name: testapi-chart
version: 0.0.1
```
з„¶еђЋж‰“ејЂе№¶ж №жЌ®йњЂи¦Ѓзј–иѕ‘values.yamlгЂ‚дё‹йќўжЇtestapiеє”з”Ёзљ„values.yamlж–‡д»¶е†…е®№гЂ‚

```
replicaCount: 2
image:
  repository: daemonza/testapi
  tag: latest
  pullPolicy: IfNotPresent
service:
  name: testapi
  type: ClusterIP
  externalPort: 80
  internalPort: 80
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi
```

ењЁ testapi_chart з›®еЅ•дё‹иїђиЎЊдё‹йќўе‘Ѕд»¤д»ҐеЇ№chartиї›иЎЊж ЎйЄЊгЂ‚

```
helm lint
==> Linting .
[INFO] Chart.yaml: icon is recommended

1 chart(s) linted, no failures
```

е¦‚жћњж–‡д»¶ж јејЏй”™иЇЇпјЊеЏЇд»Ґж №жЌ®жЏђз¤єиї›иЎЊдї®ж”№пј›е¦‚жћњдёЂе€‡ж­ЈеёёпјЊеЏЇд»ҐдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤еЇ№chartиї›иЎЊж‰“еЊ…пјљ

```
helm package testapi-chart --debug
```

иї™й‡Њж·»еЉ дє† --debug еЏ‚ж•°жќҐжџҐзњ‹ж‰“еЊ…зљ„иѕ“е‡єпјЊиѕ“е‡єеє”иЇҐз±»дјјдєЋпјљ

```
Saved /Users/daemonza/testapi/testapi-chart/testapi-chart-0.0.1.tgz to current directory
Saved /Users/daemonza/testapi/testapi-chart/testapi-chart-0.0.1.tgz to /Users/daemonza/.helm/repository/local
```

chartиў«ж‰“еЊ…дёєдёЂдёЄеЋ‹зј©еЊ…testapi-chart-0.0.1.tgzпјЊиЇҐеЋ‹зј©еЊ…иў«ж”ѕе€°дє†еЅ“е‰Ќз›®еЅ•дё‹пјЊе№¶еђЊж—¶иў«дїќе­е€°дє†helmзљ„жњ¬ењ°зјєзњЃд»“еє“з›®еЅ•дё­гЂ‚

## Helm Repository
- - -
и™Ѕз„¶ж€‘д»¬е·Із»Џж‰“еЊ…дє†chartе№¶еЏ‘еёѓе€°дє†helmзљ„жњ¬ењ°з›®еЅ•дё­пјЊдЅ†йЂљиї‡Helm searchе‘Ѕд»¤жџҐж‰ѕпјЊе№¶дёЌиѓЅж‰ѕдёЌе€°е€љж‰Ќз”џж€ђзљ„chartеЊ…гЂ‚
```
helm search testapi
No results found
```

иї™жЇе› дёєrepositoryз›®еЅ•дё­зљ„chartиїжІЎжњ‰иў«Helmз®Ўзђ†гЂ‚ж€‘д»¬еЏЇд»ҐењЁжњ¬ењ°еђЇеЉЁдёЂдёЄRepository ServerпјЊе№¶е°†е…¶еЉ е…Ґе€°Helm repoе€—иЎЁдё­гЂ‚

йЂљиї‡helm repo listе‘Ѕд»¤еЏЇд»Ґзњ‹е€°з›®е‰Ќhelmдё­еЏЄй…ЌзЅ®дє†дёЂдёЄеђЌдёєstableзљ„repoпјЊиЇҐrepoжЊ‡еђ‘дє†googleзљ„дёЂдёЄжњЌеЉЎе™ЁгЂ‚
```Bash
helm repo list
NAME    URL
stable  https://kubernetes-charts.storage.googleapis.com
```

дЅїз”Ёhelm serveе‘Ѕд»¤еђЇеЉЁдёЂдёЄrepo serverпјЊиЇҐserverзјєзњЃдЅїз”Ё'$HELM_HOME/repository/local'з›®еЅ•дЅњдёєchartе­е‚ЁпјЊе№¶ењЁ8879з«ЇеЏЈдёЉжЏђдѕ›жњЌеЉЎгЂ‚

```Bash
helm serve&
Now serving you on 127.0.0.1:8879
```
еђЇеЉЁжњ¬ењ°repo serverеђЋпјЊе°†е…¶еЉ е…Ґhelmзљ„repoе€—иЎЁгЂ‚
```Bash
helm repo add local http://127.0.0.1:8879
"local" has been added to your repositories
```

зЋ°ењЁе†ЌжџҐж‰ѕtestapi chartеЊ…пјЊе°±еЏЇд»Ґж‰ѕе€°дє†гЂ‚

```Bash
helm search testapi

NAME                    CHART VERSION   APP VERSION     DESCRIPTION
local/testapi-chart     0.0.1                           A Helm chart for Kubernetes
```

## ењЁkubernetesдё­йѓЁзЅІChart
- - -
chartиў«еЏ‘еёѓе€°д»“е‚ЁеђЋпјЊеЏЇд»ҐйЂљиї‡Helm instalе‘Ѕд»¤йѓЁзЅІchartпјЊйѓЁзЅІж—¶жЊ‡е®љchartеђЌеЏЉReleaseпј€йѓЁзЅІзљ„е®ћдѕ‹пј‰еђЌпјљ
```
 helm install local/testapi-chart --name testapi
```
иЇҐе‘Ѕд»¤зљ„иѕ“е‡єеє”з±»дјј:

```
NAME:   testapi
LAST DEPLOYED: Mon Apr 16 10:21:44 2018
NAMESPACE: default
STATUS: DEPLOYED

RESOURCES:
==> v1/Service
NAME                   TYPE       CLUSTER-IP    EXTERNAL-IP  PORT(S)  AGE
testapi-testapi-chart  ClusterIP  10.43.121.84  <none>       80/TCP   0s

==> v1beta1/Deployment
NAME                   DESIRED  CURRENT  UP-TO-DATE  AVAILABLE  AGE
testapi-testapi-chart  1        1        1           0          0s

==> v1/Pod(related)
NAME                                   READY  STATUS   RESTARTS  AGE
testapi-testapi-chart-9897d9f8c-nn6wd  0/1    Pending  0         0s


NOTES:
1. Get the application URL by running these commands:
  export POD_NAME=$(kubectl get pods --namespace default -l "app=testapi-testapi-chart" -o jsonpath="{.items[0].metadata.name}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl port-forward $POD_NAME 8080:80
```

дЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е€—е‡єж‰Ђжњ‰е·ІйѓЁзЅІзљ„Releaseд»ҐеЏЉе…¶еЇ№еє”зљ„ChartгЂ‚
```
helm ls
```

иЇҐе‘Ѕд»¤зљ„иѕ“е‡єеє”з±»дјј:
```
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 1               Mon Apr 16 10:21:44 2018        DEPLOYED        testapi-chart-0.0.1     default
```

еЏЇд»Ґзњ‹е€°ењЁиѕ“е‡єдё­жњ‰дёЂдёЄRevisionпј€ж›ґж”№еЋ†еЏІпј‰е­—ж®µпјЊиЇҐе­—ж®µз”ЁдєЋиЎЁз¤єжџђдёЂReleaseиў«ж›ґж–°зљ„ж¬Ўж•°пјЊеЏЇд»Ґз”ЁиЇҐз‰№жЂ§еЇ№е·ІйѓЁзЅІзљ„Releaseиї›иЎЊе›ћж»љгЂ‚

## еЌ‡зє§е’Ње›ћйЂЂ
- - -

дї®ж”№Chart.yamlпјЊе°†з‰€жњ¬еЏ·д»Ћ0.0.1 дї®ж”№дёє 1.0.0, з„¶еђЋдЅїз”ЁHelm packageе‘Ѕд»¤ж‰“еЊ…е№¶еЏ‘еёѓе€°жњ¬ењ°д»“еє“гЂ‚

жџҐзњ‹жњ¬ењ°еє“дё­зљ„ChartдїЎжЃЇпјЊеЏЇд»Ґзњ‹е€°ењЁжњ¬ењ°д»“еє“дё­testapi-chartжњ‰дё¤дёЄз‰€жњ¬

```Bash
helm search testapi -l
NAME                    CHART VERSION   APP VERSION     DESCRIPTION
local/testapi-chart     0.0.1                           A Helm chart for Kubernetes
local/testapi-chart     1.0.0                           A Helm chart for Kubernetes
```

зЋ°ењЁз”Ёhelm upgradeе°†е·ІйѓЁзЅІзљ„testapiеЌ‡зє§е€°ж–°з‰€жњ¬гЂ‚еЏЇд»ҐйЂљиї‡еЏ‚ж•°жЊ‡е®љйњЂи¦ЃеЌ‡зє§зљ„з‰€жњ¬еЏ·пјЊе¦‚жћњжІЎжњ‰жЊ‡е®љз‰€жњ¬еЏ·пјЊе€™зјєзњЃдЅїз”ЁжњЂж–°з‰€жњ¬гЂ‚

```
helm upgrade testapi local/testapi-chart 
```

е·ІйѓЁзЅІзљ„testapi releaseиў«еЌ‡зє§е€°1.0.0з‰€жњ¬

```Bash
helm list
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 2               Mon Apr 16 10:43:10 2018        DEPLOYED        testapi-chart-1.0.0     default
```

еЏЇд»ҐйЂљиї‡Helm historyжџҐзњ‹дёЂдёЄReleaseзљ„е¤љж¬Ўж›ґж”№гЂ‚

```Bash
helm history testapi
REVISION        UPDATED                         STATUS          CHART                   DESCRIPTION
1               Mon Apr 16 10:21:44 2018        SUPERSEDED      testapi-chart-0.0.1     Install complete
2               Mon Apr 16 10:43:10 2018        DEPLOYED        testapi-chart-1.0.0     Upgrade complete
```
е¦‚жћњж›ґж–°еђЋзљ„зЁ‹еєЏз”±дєЋжџђдє›еЋџе› иїђиЎЊжњ‰й—®йўпјЊж€‘д»¬е€™йњЂи¦Ѓе›ћйЂЂе€°ж—§з‰€жњ¬зљ„еє”з”ЁпјЊеЏЇд»Ґй‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤иї›иЎЊе›ћйЂЂгЂ‚е…¶дё­зљ„еЏ‚ж•°1жЇе‰ЌйќўHelm historyдё­жџҐзњ‹е€°зљ„Releaseзљ„ж›ґж”№еЋ†еЏІгЂ‚

```Bash
helm rollback testapi 1
```

дЅїз”ЁHelm listе‘Ѕд»¤жџҐзњ‹пјЊйѓЁзЅІзљ„testapiзљ„з‰€жњ¬е·Із»Џе›ћйЂЂе€°0.0.1
```Bash
helm list
NAME    REVISION        UPDATED                         STATUS          CHART                   NAMESPACE
testapi 3               Mon Apr 16 10:48:20 2018        DEPLOYED        testapi-chart-0.0.1     default
```
## жЂ»з»“
- - -

HelmдЅњдёєkubernetesеє”з”Ёзљ„еЊ…з®Ўзђ†д»ҐеЏЉйѓЁзЅІе·Ґе…·пјЊжЏђдѕ›дє†еє”з”Ёж‰“еЊ…пјЊеЏ‘еёѓпјЊз‰€жњ¬з®Ўзђ†д»ҐеЏЉйѓЁзЅІпјЊеЌ‡зє§пјЊе›ћйЂЂз­‰еЉџиѓЅгЂ‚Helmд»ҐChartиЅЇд»¶еЊ…зљ„еЅўејЏз®ЂеЊ–Kubernetesзљ„еє”з”Ёз®Ўзђ†пјЊжЏђй«дє†еЇ№з”Ёж€·зљ„еЏ‹еҐЅжЂ§гЂ‚

## Q&A
- - -

жЁе¤©ењЁDocker.ioжЉЂжњЇеѕ®дїЎзѕ¤й‡Њйќўиї›иЎЊдє†Helmзљ„е€†дє«пјЊдё‹йќўжЇе€†дє«иї‡зЁ‹дё­еѕ—е€°зљ„дёЂдє›жњ‰ж„ЏжЂќзљ„еЏЌй¦€пјЊиї›дёЂж­ҐеђЇеЏ‘дє†ж€‘и‡Єе·±зљ„дёЂдє›жЂќиЂѓгЂ‚

**Q**: Helmз»“еђ€CDжњ‰д»Ђд№€еҐЅзљ„е»єи®®еђ—пјџ<BR>
**A**: й‡‡з”ЁHelmеЏЇд»ҐжЉЉй›¶ж•Јзљ„Kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄchartз®Ўзђ†пјЊchartжєђз ЃеЏЇд»Ґе’Њжєђд»Јз ЃдёЂиµ·ж”ѕе€°gitеє“дё­з®Ўзђ†гЂ‚Helmиїз®Ђдє†ењЁCI/CD pipelineзљ„иЅЇд»¶йѓЁзЅІжµЃзЁ‹гЂ‚йЂљиї‡жЉЉchartеЏ‚ж•°еЊ–пјЊеЏЇд»ҐењЁжµ‹иЇ•зЋЇеўѓе’Њз”џдє§зЋЇеўѓеЏЇд»Ґй‡‡з”ЁдёЌеђЊзљ„chartеЏ‚ж•°й…ЌзЅ®гЂ‚

дё‹е›ѕжЇй‡‡з”Ёдє†Helmзљ„дёЂдёЄCI/CDжµЃзЁ‹
![](/img/2018-04-16-using-helm-to-deploy-to-kubernetes/ci-cd-jenkins-helm-k8s.png)

**Q**: ж„џи°ўе€†дє«пјЊиЇ·й—®дё‹е¤љзЋЇеўѓ(test,stagingпјЊproduction)зљ„дёљеЉЎй…ЌзЅ®е¦‚дЅ•з®Ўзђ†е‘ўпјџйЂљиї‡hemlж‰“еЊ…configmapеђ—пјЊжЇ”е¦‚й…ЌзЅ®ж–‡д»¶ж›ґж–°пјЊд№џи¦Ѓй‡Ќж–°ж‰“chatsеЊ…еђ—пјџи°ўи°ўпјЊиї™еќ—ж€‘жЇ”иѕѓд№±<BR>
**A**пјљChartжЇж”ЇжЊЃеЏ‚ж•°ж›їжЌўзљ„пјЊеЏЇд»ҐжЉЉдёљеЉЎй…ЌзЅ®з›ёе…ізљ„еЏ‚ж•°и®ѕзЅ®дёєжЁЎжќїеЏй‡ЏгЂ‚дЅїз”ЁHelm install Chartзљ„ж—¶еЂ™еЏЇд»ҐжЊ‡е®љдёЂдёЄеЏ‚ж•°еЂјж–‡д»¶пјЊиї™ж ·е°±еЏЇд»ҐжЉЉдёљеЉЎеЏ‚ж•°д»ЋChartдё­е‰Ґз¦»дє†гЂ‚дѕ‹е­ђпјљ helm install --values=myvals.yaml wordpress

**Q**: helmиѓЅи§Је†іжњЌеЉЎдѕќиµ–еђ—пјџ<BR>
**A**пјљеЏЇд»Ґзљ„пјЊењЁchartеЏЇд»ҐйЂљиї‡requirements.yamlеЈ°жЋеЇ№е…¶д»–chartзљ„дѕќиµ–е…ізі»гЂ‚е¦‚дё‹йќўеЈ°жЋиЎЁжЋchartдѕќиµ–apacheе’Њmysqlиї™дё¤дёЄз¬¬дё‰ж–№chartгЂ‚
```yaml
dependencies:
  - name: apache
    version: 1.2.3
    repository: http://example.com/charts
  - name: mysql
    version: 3.2.1
    repository: http://another.example.com/charts
```

**Q**: chartзљ„reversion еЏЇд»Ґи‡Єе®љд№‰еђ—пјџжЇ”е¦‚и·џgitзљ„tag<BR>
**A**: иї™дЅЌжњ‹еЏ‹еє”иЇҐжЇжЉЉchartзљ„versionе’ЊReleaseзљ„reversionжђћж··дє†пјЊе‘µе‘µгЂ‚ ChartжЇжІЎжњ‰reversionзљ„пјЊChartйѓЁзЅІзљ„дёЂдёЄе®ћдѕ‹пј€Releaseпј‰ж‰Ќжњ‰ReversionпјЊReversionжЇReleaseиў«ж›ґж–°еђЋи‡ЄеЉЁз”џж€ђзљ„гЂ‚

**Q**: жІЎжњ‰зњ‹е€°helmжЊ‡еђ‘k8sзљ„й…ЌзЅ®пјЊжЂЋд№€зЎ®и®¤ењЁе“ЄдёЄK8sй›†зѕ¤иїђиЎЊзљ„пјџ<BR>
**A**: дЅїз”Ёе’Њkubectlз›ёеђЊзљ„й…ЌзЅ®пјЊењЁ  ~/.kube/config дё­гЂ‚

**Q**: иї™дёЄз®ЂеЌ•дѕ‹е­ђе№¶жІЎжњ‰зњ‹е‡є Helm з›ёжЇ” kubectl жњ‰е“Єдє›дјеЉїпјЊеЏЇд»Ґз®Ђи¦ЃиЇґдёЂдё‹еђ—пјџ<BR>
**A**пјљ Helmе°†kubernetesеє”з”ЁдЅњдёєдёЂдёЄиЅЇд»¶еЊ…ж•ґдЅ“з®Ўзђ†пјЊдѕ‹е¦‚дёЂдёЄеє”з”ЁеЏЇиѓЅжњ‰е‰Ќз«ЇжњЌеЉЎе™ЁпјЊеђЋз«ЇжњЌеЉЎе™ЁпјЊж•°жЌ®еє“пјЊиї™ж ·дјљж¶‰еЏЉе¤љдёЄKubernetes йѓЁзЅІй…ЌзЅ®ж–‡д»¶пјЊHelmе°±ж•ґдЅ“з®Ўзђ†дє†гЂ‚еЏ¦е¤–HelmиїжЏђдѕ›дє†иЅЇд»¶еЊ…з‰€жњ¬пјЊдёЂй”®е®‰иЈ…пјЊеЌ‡зє§пјЊе›ћйЂЂгЂ‚Kubectlе’ЊHelmе°±еҐЅжЇ”дЅ ж‰‹е·Ґдё‹иЅЅе®‰иЈ…дёЂдёЄеє”з”Ё е’Њ дЅїз”Ёapt-get е®‰иЈ…дёЂдёЄеє”з”Ёзљ„еЊєе€«гЂ‚

**Q**: е¦‚дЅ•ењЁhelm install ж—¶жЊ‡е®ље‘ЅеђЌз©єй—ґпјџ<BR>
**A**: helm install local/testapi-chart --name testapi --namespace mynamespace

## еЏ‚иЂѓ
- - -

* [Using Helm to deploy to Kubernetes](https://daemonza.github.io/2017/02/20/using-helm-to-deploy-to-kubernetes/)
* [Helm documentation](https://docs.helm.sh/helm/)
* [Helm - Application deployment management for Kubernetes](https://www.slideshare.net/alexLM/helm-application-deployment-management-for-kubernetes)



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-01-may-day-jiulonghu.md

---
layout:     post
title:      "е·ќиҐїз§еўѓжЋўй™©"
subtitle:   "2018дє”дёЂз”е Ўи—ЏеЇЁпјЊд№ќйѕ™ж№–и‡Єй©ѕжёёи®°"
date:       2018-05-01
author:     "иµµеЊ–е†°"
image: "/img/2018-05-01-may-day-jiulonghu/snowmountain.jpg"
publishDate: 2018-05-01
hide-in-home: true
tags:
    - Travel
categories: [ Life ]
URL: "/2018/05/01/may-day-jiulonghu"
---

## еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡

дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚
е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚

<!--more-->
ж”ѕеЃ‡з¬¬дёЂе¤©е’Њз¬¬дєЊе¤©дёЉеЌ€иЂЃе©†еЉ зЏ­пјЊж€‘ењЁе®¶й‡Њй™ЄеҐіе„їеЃљдЅњдёљпјЊжЏђе‰ЌжЉЉиЅ¦жІ№еЉ еҐЅпјЊе‡†е¤‡и·ЇдёЉзљ„иЎЈз‰©гЂ‚з¬¬дєЊе¤©дё­еЌ€иЂЃе©†дёЉе®ЊзЏ­пјЊж€‘иї«дёЌеЏЉеѕ…ејЂзќЂе°Џз‹®е­ђе°±еђ‘йѓЅж±¶й«йЂџе‡єеЏ‘дє†гЂ‚и™Ѕз„¶еЉ зЏ­иЂЅиЇЇдє†дёЂе¤©еЌЉпјЊдЅ†ж€‘д»¬иї™ж¬Ўд№џз®—й”™еі°е‡єиЎЊдє†пјЊдёЂи·ЇдёЉз•…йЂљж— й»пјЊеїѓжѓ…и‡Єз„¶д№џжЇ”иѕѓж„‰еї«гЂ‚ ејЂиЅ¦1дёЄе¤љз‚№е°Џж—¶е°±иµ¶е€°дє†ж±¶е·ќпјЊиї™ж—¶жњ‹еЏ‹дёЂе®¶е€љењЁж±¶е·ќеЋїеџЋеђѓе®ЊеЌ€йҐ­пјЊж€‘д»¬ењЁе‡єж±¶е·ќдёЌиїњпјЊжЎѓеќЄзѕЊеЇЁй™„иї‘иѓње€©дјљеё€дє†гЂ‚

дё¤дЅЌйў†еЇјдёЂиµ·еЌЏе•†дє†дёЂдё‹пјЊе†іе®ље…€ејЂиЅ¦еЋ»йЂљеЊ–д№Ўзљ„вЂњжµ®дє‘з‰§ењєвЂќзњ‹зњ‹гЂ‚вЂњжµ®дє‘з‰§ењєвЂќжЇжњЂиї‘зљ„дёЂдёЄзЅ‘зєўй…’еє—пјЊењЁйЂљеЊ–д№Ўе±±дёЉзљ„дёЂдёЄи—ЏеЇЁж—Ѓиѕ№гЂ‚жњ‰йЃ“жЇпјљвЂњжµ®дє‘з‰§ењєвЂќпјЊдёЌж”ѕз‰›зѕЉпјЊеЏЄз‰§жµ®дє‘е’Ње§‘еЁгЂ‚

вЂњжµ®дє‘з‰§ењєвЂќиµ°зљ„жЇзЅ‘зєўи·ЇзєїпјЊй©¬ињ‚зЄќпјЊеѕ®дїЎе…¬дј—еЏ·зљ„е®Јдј еЃљеѕ—еҐЅпјЊзџҐеђЌеє¦иѕѓй«пјЊж€їй—ґжЇ”иѕѓзґ§дїЏпјЊењЁдє”дёЂжњџй—ґж›ґжЇдёЂж€їйљѕж±‚пјЊиЂЊдё”д»·ж јд№џжЇ”иѕѓж„џдєєгЂ‚дё¤дЅЌйў†еЇјйѓЅжЊЃе®¶жњ‰ж–№пјЊжЊ‡з¤єж€‘д»¬дёЉеЋ»зњ‹зњ‹йЈЋж™ЇпјЊз„¶еђЋдё‹е±±е†Ќж‰ѕдЅЏе®їгЂ‚

иї‡дє†жЎѓеќЄзѕЊеЇЁе¤§ж¦‚е‡ е…¬й‡ЊпјЊ317е›ЅйЃ“еЏіиѕ№жњ‰дёЂдёЄжЇ”иѕѓжЋжѕзљ„жЊ‡и·Їз‰ЊпјЊеѕЂеЏідёЉе±±пјЊе°±жЇе€°жµ®дє‘з‰§ењєзљ„и·ЇгЂ‚ж€‘д»¬е…ґе†Іе†Іењ°ејЂиЅ¦дёЉдє†е±±пјЊж­¤ж—¶пјЊж€‘д»¬еїѓдё­еђ‘еѕЂзљ„жµ®дє‘з‰§ењєжЇиї™ж ·е­ђзљ„пј€еЏ–е›ѕи‡ЄзЅ‘з»њпј‰пјљ
![](/img/2018-05-01-may-day-jiulonghu/fuyunmuchang.jpeg)
дёЉе±±зљ„и·Їе†µиїеЏЇд»ҐпјЊдЅ†жЇ”иѕѓзЄ„пјЊе›ће¤ґејЇиѕѓе¤љпјЊйњЂи¦ЃжіЁж„ЏеЇ№ж–№жќҐиЅ¦гЂ‚ејЂдє†е°†иї‘1е°Џж—¶еђЋпјЊжќҐе€°дє†еЌЉе±±и…°пјЊеЇ№йќўжќҐдє†еҐЅе‡ иѕ†дё‹е±±зљ„иЅ¦гЂ‚з”±дєЋдё¤ж–№з›ёйЃ‡зљ„и·ЇйќўиѕѓзЄ„пјЊејЂе§‹е µиЅ¦дє†гЂ‚иї™ж—¶д№жњєеђ‘еЇ№ж–№ж‰“еђ¬дє†е±±дёЉзљ„жѓ…е†µпјЊеѕ—зџҐй…’еє—е°Ѓи·Їдє†пјЊеЏЄжњ‰йў„е®љдє†ж€їй—ґзљ„дєєж‰ЌиѓЅиї›е…Ґжµ®дє‘з‰§ењєгЂ‚

еѕ—зџҐиї™дёЄж¶€жЃЇпјЊж­¤ж—¶ж€‘д»¬зљ„е†…еїѓжЇеґ©жєѓзљ„пјЊе·Із»ЏејЂдє†дёЂе¤§еЌЉзљ„е±±и·ЇпјЊзЋ°ењЁеЌґеѕ—зџҐдёЌиѓЅиї›еЋ»гЂ‚жІЎжњ‰еЉћжі•пјЊе¤§е®¶е•†й‡ЏеђЋиїжЇе†іе®љдё‹е±±гЂ‚дёЌиї‡вЂњеЎћзїЃе¤±й©¬пјЊз„‰зџҐйќћз¦ЏвЂќпјЊиї™ж¬ЎжІЎиї›е…Ґжµ®дє‘з‰§ењєпјЊдёєз¬¬дєЊе¤©жЋўз§дёЂдёЄж–°ж™Їз‚№еџ‹дё‹дјЏз¬”пјЊзЋ°ењЁжљ‚ж—¶дёЌиЎЁгЂ‚дєЋжЇж€‘е’Њжњ‹еЏ‹и°ѓиЅ¬иЅ¦е¤ґпјЊж‚»ж‚»дё‹е±±пјЊиґҐж„ЏиЂЊе›ћгЂ‚


## е¤ње®їз”е Ўи—ЏеЇЁ
дё‹е±±еђЋпјЊе¤§е®¶е•†й‡Џж™љдёЉзљ„дЅЏе®їгЂ‚ж€‘и§‰еѕ—жЎѓеќЄзѕЊеЇЁйќ и·Їиѕ№пјЊзЋЇеўѓд№џдёЂи€¬пјЊжЏђи®®еЋ»йќ иї‘зђ†еЋїзљ„з”е Ўи—ЏеЇЁгЂ‚жњ‹еЏ‹е› дёєењЁжЎѓеќЄзѕЊеЇЁдЅЏиї‡дє†пјЊе› ж­¤д№џжѓіеЋ»еЏ¦е¤–зљ„ењ°ж–№иЇ•иЇ•гЂ‚дєЋжЇдёЂи·Їеђ‘зђ†еЋїж–№еђ‘иї›еЏ‘пјЊз”±дєЋй™ђйЂџиѕѓдЅЋпјЊиЅ¦иѕ†д№џејЂе§‹е¤љдє†иµ·жќҐпјЊж„џи§‰жІЎе¤љиїњзљ„и·ќз¦»пјЊејЂдє†жЋҐиї‘1е°Џж—¶пјЊ6з‚№е·¦еЏіжќҐе€°дє†з”е Ўи—ЏеЇЁгЂ‚

жњЂеђЋдёЂдёЄйќ е°ЏжІіиѕ№зљ„и—Џе®¶д№ђе…ҐдЅЏпјЊдёЂдёЄж ‡й—ґ240е…ѓпјЊеЊ…3дёЄдєєдёЂйЎїж™љйҐ­пјЊдёЂйЎїж—©йҐ­гЂ‚ж€‘е’Њжњ‹еЏ‹дё¤е®¶е€†е€«ењЁдєЊжҐје’Њдё‰жҐјзљ„дё¤й—ґж€їй—ґдЅЏдё‹гЂ‚иї™й‡Њеѕ—иЎЁж‰¬дёЂдё‹йў†еЇјпјЊжЇЏж¬Ўе‡єжќҐиЂЌйЂ‰ж‹©зљ„дЅЏе®їйѓЅжЊєеҐЅпјЊжЂ§д»·жЇ”й«пјЊдЅЏзќЂд№џи€’жњЌгЂ‚

иї™жЇдёЂдёЄжІіиѕ№зљ„е°Џй™ўпјЊжњ‰дё‰е±‚жҐјпјЊй™ўе­ђй‡Њйќўз§Ќж»Ўдє†еђ„з§Ќж¤Ќз‰©е’ЊиЉ±еЌ‰пјЊиЂЃжќїжЇдёЄеѕ€е’Њж°”зљ„дё­е№ґдєєпјЊжЉЉе°Џй™ўж”¶ж‹ѕеѕ—еѕ€и€’жњЌгЂ‚ж€їй—ґй‡ЊжЊєе®Ѕж•ћпјЊеєЉдёЉеҐ—зќЂй›Єз™Ѕзљ„еєЉеЌ•пјЊйќћеёёе№Іе‡Ђж•ґжґЃгЂ‚

й™ўе­ђй‡Њзљ„жґ‹ж§ђж ‘ж ‘е† дёЉејЂж»Ўдє†з™Ѕи‰Ізљ„е°ЏиЉ±пјЊй…ЌзќЂе«©з»їзљ„ж ‘еЏ¶е’Њж”Ђзјзљ„и”·и–‡пјЊж„џи§‰йќћеёёзљ„жё…ж–°е’Њжѓ¬ж„ЏгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale1.jpg)

иЂЃжќїзљ„дё‰е±‚е°ЏжҐјпјЊиї™й‡Њзљ„дї®ж€їзљ„жќђж–™дёЌжЇз –е¤ґпјЊиЂЊжЇе°±ењ°еЏ–жќђз”Ёе±±дёЉзљ„з‰‡зЉ¶еІ©зџідї®з ЊиЂЊж€ђзљ„пјЊеѕ€жњ‰з‰№и‰ІгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale3.jpg)

зЄ—ж€·ж—Ѓиѕ№жЊ‚зќЂй‡‘й»„и‰Ізљ„зЋ‰з±ігЂ‚
![](/img/2018-05-01-may-day-jiulonghu/nongjiale.jpg)

й™ўе­ђй‡Њз§Ќзљ„зЋ«з‘°иЉ±гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/rose.jpg)

ж€‘д»¬е’ЊиЂЃжќїй—ІиЃЉпјЊжЏђе€°д»Ље¤©жІЎеѕ—иї›е€°жµ®дє‘з‰§ењєпјЊиЂЃжќїз¬‘йЃ“пјљиї™жµ®дє‘з‰§ењєзљ„ж™Їи‰Іж€‘д»¬иї™й‡Ње€°е¤„йѓЅжњ‰пјЊеЏЄжЇжµ®дє‘з‰§ењєжњ‰иЂЃжќїжЉ•иµ„пјЊе®Јдј еЃљеѕ—еҐЅзЅўдє†гЂ‚иї™еђЋйќўе±±дёЉе°±жњ‰иЌ‰ењєпјЊиїжњ‰дёЂдёЄд№ќйѕ™ж№–пјЊе°±жЊєеҐЅиЂЌгЂ‚ж€‘д»¬еђ¬дє†пјЊиµ¶зґ§еђ‘иЂЃжќїд»”з»†ж‰“еђ¬зєїи·Їе’Њи·Їе†µпјЊи·ѓи·ѓж¬ІиЇ•пјЊж‰“з®—жЋе¤©еЋ»жЋўеЇ»иї™дёЄе°љжњЄејЂеЏ‘зљ„й‡Ћж™Їз‚№гЂ‚

дёЌдёЂдјље„їпјЊйє»е€©зљ„иЂЃжќїе’ЊиЂЃжќїеЁе°±жЉЉж™љй¤ђе‡†е¤‡еҐЅдє†гЂ‚ж€‘д»¬е’Ње…¶д»–е®ўдєєдёЂиµ·е›ґжЎЊеђѓж™љйҐ­гЂ‚ж™љй¤ђе‘ійЃ“дёЌй”™пјЊеҐЅдє›жЇеџЋй‡Ње№іж—¶еђѓдёЌе€°зљ„дёњиҐїгЂ‚дѕ‹е¦‚жњ‰иЂЃи…Љи‚‰пјЊж ёжЎѓиЉ±пјЊе’ЊдёЂдє›дёЌзџҐеђЌзљ„й‡ЋиЏњпјЊйќћеёёз€ЅеЏЈејЂиѓѓгЂ‚ж€‘её¦дє†дёЂз“¶зєўй…’пјЊе’Њжњ‹еЏ‹д»¬дёЂиµ·е°±зќЂиї™е±±й‡ЋзѕЋе‘іпјЊеҐЅдёЌз•…еї«гЂ‚

ж™љдёЉе°Џжњ‹еЏ‹й—№зќЂи¦ЃзЋ©жёёж€ЏпјЊдєЋжЇе…€дёЂиµ·зЋ©дє†дёЂдјље„їжёёж€ЏпјЊжґ—жј±д№‹еђЋпјЊдѕїеЂ’ењЁеєЉдёЉй…Јз„¶е…Ґжў¦гЂ‚жЇе¤њпјЊеЌЉжў¦еЌЉй†’д№‹й—ґпјЊзЄ—е¤–жЅєжЅєзљ„жІіж°ґеЈ°пјЊй™ўе­ђй‡Њж·Ўж·Ўзљ„ж§ђиЉ±й¦™д»їдЅ›д№џжЅње…Ґжў¦жќҐгЂ‚


## з”е Ўи—ЏеЇЁйЈЋжѓ…
жЁж™љи™Ѕз„¶зќЎеѕ—дёЌжЇеѕ€з†џпјЊдЅ†и—Џе®¶й™ўе­ђй‡Њз©єж°”жё…ж–°пјЊзІѕзҐћжЃўе¤Ќеѕ—еѕ€еї«пјЊж€‘жІЎе€°дёѓз‚№е°±й†’дє†гЂ‚иµ·еєЉе’Ње¤§е®¶дёЂиµ·еђѓдє†ж—©йҐ­пјЊж—©йҐ­жЇзѓ¤й¦ЌпјЊйёЎи›‹пјЊе’ёиЏње’ЊзЁЂйҐ­гЂ‚еђѓе®ЊйҐ­еђЋпјЊй™Єе­©е­ђд»¬еЋ»еЇЁе­ђй‡ЊйЂ›дє†дёЂдё‹гЂ‚еЇЁе­ђдёЌе¤§пјЊеЌЉдёЄе°Џж—¶е°±иѓЅиµ°е®ЊпјЊиЎ—дёЉж‘†зќЂдёЂдє›е°Џж‘ЉпјЊе”®еЌ–дёЂдє›ж°‘ж—Џз‰№и‰Ізљ„е°ЏйҐ°е“ЃгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village2.jpg)

дё¤дёЄе°Џжњ‹еЏ‹ењЁе°Џж‘ЉдёЉж‰ѕи‡Єе·±е–њж¬ўзљ„е°ЏйҐ°е“ЃпјЊж‘Љдё»жЇдёЂдёЄеЌЃе…«д№ќеІЃзљ„е°Џе§‘еЁпјЊеҐ№е№іж—¶ењЁж€ђйѓЅиЇ»д№¦пјЊж”ѕеЃ‡е›ћжќҐж‘†дёЄе°Џж‘Ље‹¤е·Ґдї­е­¦гЂ‚жњЂеђЋз…§йЎѕеҐ№з”џж„ЏпјЊз»™жЇЏдёЄе°Џжњ‹еЏ‹д№°дє†дёЂдёЄеЌЃе¤љеќ—й’±зљ„е°ЏзЋ©ж„ЏгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village3.jpg)

еЇЁе­ђеў™дёЉзљ„зџіжќїз”»пјЊз”»зљ„жЇи—Џж—Џдј иЇґдё­зљ„и‹±й›„дєєз‰©ж јиђЁе°”зЋ‹гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/geshaerwang.jpg)
## жЋўз§д№ќйѕ™ж№–
ж€‘йЂ›е®ЊеЇЁе­ђпјЊе…¶дЅ™дєєд№џж”¶ж‹ѕе¦ҐеЅ“дє†гЂ‚еђ‘иЂЃжќїе‘ЉиѕћеђЋпјЊж€‘д»¬е‡†е¤‡еђ‘д№ќйѕ™ж№–иї›еЏ‘гЂ‚з»†еїѓзљ„иЂЃжќїжЂ•ж€‘д»¬ж‰ѕдёЌе€°ењ°ж–№пјЊз‰№ж„Џз»™ж€‘д»¬з”»дє†дёЂеј ењ°е›ѕгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/map.jpg)

ејЂиЅ¦йЎєзќЂжІіиѕ№дёЂи·ЇдёЉе±±пјЊеѕ€еї«е°±дёЉдє†з›е±±е…¬и·ЇгЂ‚и·ЇйќўжЇж°ґжіҐзљ„пјЊжњ‰жЉ¤ж ЏпјЊеЏЄжЇи·ЇжЇ”иѕѓзЄ„пјЊеѕ€еЇ№ењ°ж–№еЏЄиѓЅе®№дёЂиЅ¦йЂљиї‡гЂ‚е·ќиҐїе±±еЊєзљ„и·Їеџєжњ¬йѓЅжЇиї™ж ·д№‹е­—еЅўзљ„пјЊе›ће¤ґејЇеѕ€е¤љпјЊиї™з§Ќе›ће¤ґејЇдёЂи€¬жњ‰30е€°40еє¦зљ„еќЎеє¦гЂ‚ж€‘е®¶зљ„е°Џз‹®е­ђжЇ1.6зљ„пјЊе¦‚жћњйЂџеє¦ејЂж…ўз‚№зљ„иЇќпјЊиї‡ејЇж—¶еѕ—з”ЁдёЂжЎЈгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/road1.jpg)

е±±и·Їдё¤иѕ№зљ„йЈЋж™Їеѕ€зѕЋпјЊдЅЋжµ·ж‹”ењ°еЊєжњ‰еѕ€е¤љжЁ±жЎѓж ‘пјЊж ёжЎѓж ‘д»ҐеЏЉејЂж»Ўдє†иЉ±зљ„жґ‹ж§ђж ‘гЂ‚жґ‹ж§ђиЉ±ињњиї‡дёЂж®µж—¶й—ґе°±дјљдёЉеё‚дє†пјЊеѕ€й¦™зљ„гЂ‚ж€‘д»¬ж‘дє†дёЂдє›иЉ±её¦е›ће®¶пјЊжќЁж§ђиЉ±з„Їж°ґеђЋеЏЇд»Ґз‚’и›‹пјЊд№џеЏЇд»Ґе’ЊењЁйќўй‡ЊйќўеђѓгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/yanghuaihua.jpg)

ж ‘дёЉз»“ж»Ўдє†жЁ±жЎѓпјЊе€«зњ‹жЁ±жЎѓж ‘дёЌй«пјЊдёЂжЈµж ‘еЏЇд»Ґдє§дё¤з™ѕж–¤жЁ±жЎѓгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/cherry.jpg)

е†ЌеѕЂдёЉејЂпјЊе€°дє†жµ·ж‹”й«дёЂз‚№зљ„ењ°ж–№пјЊд№”жњЁе°±жЇ”иѕѓе°‘дє†пјЊи·Їдё¤иѕ№е¤љжЇдЅЋзџ®зљ„з»їи‰ІзЃЊжњЁпјЊд»ҐеЏЉдёЌзџҐеђЌзљ„е°ЏиЉ±гЂ‚дє”жњ€й—ґзљ„ж¤Ќз‰©йѓЅжЇе«©з»їе«©з»їзљ„пјЊз…ћжЇеҐЅзњ‹гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/flower.jpg)
![](/img/2018-05-01-may-day-jiulonghu/flower1.jpg)

зњ‹е€°е‡ е¤ґз‰›ењЁи·Їиѕ№еђѓиЌ‰пјЊзњ‹иї™ж·Ўе®љзљ„зњјзҐћпјЃе±±и·Їиѕ№иїж—¶дёЌж—¶е†’е‡єдёЂзѕ¤е°Џй»‘зЊЄпјЊз›®жµ‹е°±жЇдёЂеЏЄе°±еЌЃе¤љж–¤й‡ЌпјЊжѓіз»™е®ѓд»¬ж‹Ќеј з…§з‰‡пјЊйЈћеї«ењ°й’»иї›зЃЊжњЁдё›й‡Њйќўдє†пјЊеЏЄеҐЅдЅњзЅўгЂ‚е·ќиҐїе±±й‡Ње’ЊиЌ‰еЋџдёЉиї™з§ЌзЊЄйѓЅжЇиї™ж ·еѓЏз‰›зѕЉдёЂж ·ж”ѕе…»зљ„гЂ‚ж€‘д»¬жµЃзќЂеЏЈж°ґиЇґиї™дёЄжЇиµ„ж јзљ„и·‘е±±зЊЄпјЊе‘ійЃ“и‚Їе®ље·ґйЂ‚пјЃ
![](/img/2018-05-01-may-day-jiulonghu/cattle.jpg)

еЌЉе±±дёЉзљ„е‡ ж€·и—Џе®¶гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village1.jpg)

ејЂе€°жњЂй«зљ„дёЂдёЄеЇЁе­ђеђЋпјЊеђЋйќўзљ„и·Їе°±жЇењџи·Їдє†гЂ‚еђ‘еЇЁе­ђй‡ЊдёЂдёЄе¤§е§ђж‰“еђ¬дє†дёЂдё‹пјЊе¤§е§ђдїЎиЄ“ж—¦ж—¦ењ°иЇґиї™дё¤е¤©жІЎдё‹е¤§й›ЁпјЊиЅїиЅ¦ејЂдёЉеЋ»жІЎй—®йўпјЊдєЋжЇж€‘д»¬е°±з»§з»­еѕЂдёЉејЂдє†гЂ‚

дёЉењџи·ЇеђЋдёЌд№…пјЊйЃ‡е€°дёЂдёЄжђ­иЅ¦зљ„иЂЃз€·е­ђпјЊд»–и¦ЃеЋ»е±±йЎ¶зљ„еЇєеє™зѓ§й¦™гЂ‚ж€‘д»¬зљ„иїђж°”д№џжЊєеҐЅпјЊи¦ЃдёЌжЇиЂЃдєєе®¶й™Єж€‘д»¬дёЂиµ·пјЊеђЋйќўж€‘д»¬дёЌдёЂе®љж‰ѕеѕ—е€°ењ°ж–№гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/oldman.jpg)

ејЂдє†дёЂж®µењџи·ЇеђЋпјЊеЏ‘зЋ°и·ЇжЇ”иѕѓзЄ„пјЊи·Їиѕ№е°±жЇж‚¬еґ–пјЊиЂЊдё”жІЎжњ‰жЉ¤ж ЏгЂ‚иЂЃе©†еЁѓе„їйѓЅиЇґиїжЇеЃњдё‹жќҐиµ°и·ЇдёЉеЋ»з®—дє†гЂ‚дєЋжЇе’Њжњ‹еЏ‹ж‰ѕдє†дёЂдёЄи·ЇеЏЈжЉЉиЅ¦еЃње€°и·Їиѕ№пјЊејЂе§‹иµ°и·ЇдёЉе±±гЂ‚жњ‹еЏ‹еЃњиЅ¦еђЋиЇґпјЊењЁе‰Ќйќўе‡ дёЄиЅ¬ејЇзљ„ењ°ж–№пјЊејЂиЅ¦ж—¶и„љи¶ѕж‹‡йѓЅжЉ“зґ§дє†гЂ‚

жњЂеђЋдёЂж®µе°±жЇиї™з§Ќи·ЇпјЊењ°йќўзЎ¬еЊ–зЁ‹еє¦дёЌй”™пјЊжІЎжњ‰дё‹й›Ёзљ„жѓ…е†µдё‹пјЊиѓ†е­ђе¤§з‚№зљ„иЂЃеё€е‚…еЏЇд»ҐејЂдёЉе±±гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/road.jpg)

иЂЃз€·е­ђиЇґиї™дёЄи·ЇејЂиЅ¦е®Ње…ЁжІЎеѕ—й—®йўе›пјЊд»–зњ‹е€°е€«дєєйѓЅејЂиЅ¦дёЉеЋ»зљ„гЂ‚ж€‘д»¬жЇдёЌж•ўз»§з»­еѕЂе‰ЌејЂдє†пјЊд»–д№џеЏЄеҐЅдё‹иЅ¦е’Њж€‘д»¬дёЂиµ·иµ°гЂ‚ж€‘дёЂиѕ№иµ°дёЂиѕ№е’ЊиЂЃдєєе®¶иЃЉе¤©пјЊеѕ—зџҐд»–е·Із»Џй«еЇї76дє†пјЊе®Ње…Ёзњ‹дёЌе‡єжќҐпјЊи…°жќїзЎ¬жњ—пјЊз‰™йЅїеЃҐе…ЁпјЊиµ°и·ЇжЇ”ж€‘д»¬е№ґиЅ»дєєиїеї«гЂ‚иЂЃдєєе®¶и‡Єи±Єењ°иЇґд»–еЇЁе­ђйіе…‰еҐЅпјЊењ°и‚ҐжІѓпјЊз§Ќд»Ђд№€зІ®йЈџдє§й‡ЏйѓЅй«гЂ‚

иЂЃдєєе®¶ж‰ЂењЁзљ„еЇЁе­ђпјЊењ°й‡Њйќўе·Із»Џз§ЌдёЉдє†зЋ‰з±ігЂ‚
![](/img/2018-05-01-may-day-jiulonghu/village.jpg)

ж€‘з»§з»­е’ЊиЂЃз€·е­ђиѕ№иµ°иѕ№иЃЉпјЊиЂЃз€·е­ђе‘ЉиЇ‰ж€‘пјЊиµ°е±±и·Їи¦ЃдёЌзґ§дёЌж…ўпјЊеї«дє†е®№ж“е‘јеђёдёЌз•…пјЊеј•иµ·й«еЋџеЏЌеє”гЂ‚иїз»™ж€‘д»‹з»Ќи·Їиѕ№зљ„еђ„з§Ќж¤Ќз‰©пјЊе“Єз§ЌеЏЇд»ҐйЈџз”ЁгЂ‚д»ЋиЃЉе¤©дё­еѕ—зџҐпјЊе¤§з€·е§“дЅ•пјЊзҐ–дёЉжЇд»Ћй™•иҐїиїЃз§»е€°иї™й‡Њзљ„пјЊе€°д»–иї™й‡Ње·Із»ЏжЇз¬¬д№ќд»Јдє†гЂ‚е®¶й‡Њжњ‰е››дёЄеҐіе„їпјЊйѓЅењЁзђ†еЋїеЃљз”џж„Џж€–иЂ…ж‰“е·ҐпјЊеЇЁе­ђзљ„е®¶й‡Ње°±д»–е’ЊиЂЃдјґгЂ‚д»–иЇґд»–е–њж¬ўдЅЏењЁе±±й‡ЊпјЊдёЂе№ґд№џе‡єдёЌдє†е‡ ж¬Ўе±±гЂ‚
зњ‹еѕ—е‡єиЂЃз€·е­ђеѕ€й«е…ґжњ‰дєєиѓЅй™Єд»–иЇґиЇґиЇќпјЊдЅЏењЁе±±й‡Њи™Ѕз„¶з©єж°”еҐЅпјЊдЅ†е­ђеҐідёЌењЁиє«иѕ№пјЊиЂЃдєєе№іж—¶дј°и®Ўд№џжЇ”иѕѓеЇ‚еЇћгЂ‚

иЂЃз€·е­ђиЇґиї™з§Ќй‡ЋиЏњз…®ж±¤е–ќеѕ€й¦™гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/yecai.jpg)

иЅ¬иї‡дёЂдёЄејЇпјЊеђ¬и§Ѓи·Їиѕ№зљ„зЃЊжњЁдё›дё­вЂње™—е™—вЂќзљ„еЈ°йџіпјЊйЈће‡єдёЂеЏЄй•їе°ѕе·ґзљ„е¤§йёџжќҐпјЊиЂЃз€·е­ђиЇґй‚ЈжЇй‡ЋйёЎгЂ‚е¤Єеї«дє†жІЎиѓЅж‹Ќе€°з…§з‰‡гЂ‚

е°±иї™д№€ж…ўж…ўењ°иµ°дє†е°†иї‘1е°Џж—¶пјЊжќҐе€°дє†е±±йЎ¶дёЉгЂ‚

д»¤дєєжѓЉеҐ‡зљ„жЇпјЊи™Ѕз„¶дёЉе±±зљ„и·Їеѕ€й™ЎпјЊдЅ†е±±йЎ¶дёЉеЌґйќћеёёејЂй”пјЊжњ‰дёЂе¤§з‰‡иЌ‰еќќе­ђгЂ‚д»Ће±±йЎ¶дёЉеЏЇд»Ґйљђзє¦зњ‹е€°еЇ№йќўе·ЌеіЁзљ„й›Єе±±пјЊд»Ље¤©е¤©ж°”дёЌжЇеѕ€еҐЅпјЊиѓЅи§Ѓеє¦дёЌй«пјЊе¦‚жћњжЇењЁж™ґе¤©зљ„иЇќпјЊи‚Їе®љйќћеёёеЈ®и§‚гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/snowmountain.jpg)

е±±йЎ¶жђ­е»єдє†дёЂдёЄеЏ°е­ђе’ЊдёЂдёЄиЌ‰ж€їгЂ‚е¤§з€·иЇґиї™жЇдёѕиЎЊиЉ‚ж—Ґзљ„ж—¶еЂ™зљ„дёґж—¶еЋЁж€їгЂ‚жЇЏе№ґжњ‰дё‰дёЄж—¶й—ґе±±йЎ¶зљ„иЌ‰еќќдёЉдјљдёѕиЎЊй”…еє„и€ћдјљгЂ‚иї™дёЄжњЁжќїдёЉж ‡жіЁдє†е±±йЎ¶дёЉжњ›иї‡еЋ»зљ„е‡ еє§й›Єе±±пјЊеЏЇд»Ґзњ‹е€°жњЂй«зљ„е¤§й»„еі°жњ‰е°†иї‘6000з±ій«гЂ‚
![](/img/2018-05-01-may-day-jiulonghu/snowmountain1.jpg)

е±±йЎ¶иїжњ‰дёЂдёЄе°Џз§‹еЌѓпјЊдё¤дёЄе°Џе­©ењЁдёЉйќўзЋ©еѕ—дёЌдє¦д№ђд№ЋгЂ‚
![](/img/2018-05-01-may-day-jiulonghu/swing.jpg)

ж€‘еЇ№жЇ”дє†зЅ‘дёЉжµ®дє‘з‰§ењєзљ„е›ѕз‰‡пјЊж„џи§‰иї™дёЄе±±йЎ¶зљ„й›Єе±±жЇ”жµ®дє‘з‰§ењєж›ґй›„дјџгЂ‚иї™еє§е±±зљ„йЈЋж™Їд№џж›ґеҐЅпјЊж ‘жњЁпјЊзЃЊжњЁпјЊиЌ‰ењ°е±‚ж¬Ўе€†жЋпј›иЂЊжµ®дє‘з‰§ењєдёЉе±±зљ„и·ЇдёЉеѕ€е¤љењ°ж–№жЇе…‰з§ѓз§ѓзљ„гЂ‚

е€°е±±йЎ¶еђЋпјЊе†ЌеѕЂе‰Ќиµ°е¤§зє¦500з±іпјЊзї»иї‡дёЂдёЄе°Џе±±еќЎе°±е€°дє†д№ќйѕ™ж№–пјЊдЅ†жЇж№–дё­й•їж»Ўдє†иЌ‰пјЊжІЎжњ‰ж°ґгЂ‚е¤§з€·иЇґзЋ°ењЁж°ґдёЌе¤љпјЊд№ќйѕ™ж№–дёЂе…±жњ‰д№ќдёЄжµ·е­ђпјЊе‰Ќйќўзљ„жµ·е­ђиїжЇ”иѕѓиїњгЂ‚ж­¤ж—¶е¤©з©єйЈиµ·дє†е°Џй›ЁпјЊз”±дєЋж‹…еїѓдё‹й›ЁеђЋдё‹е±±зљ„и·Їж№їж»‘дёЌе®‰е…ЁпјЊж€‘д»¬е’Ње¤§з€·е°±ж­¤е‘Ље€«пјЊејЂе§‹дё‹е±±дє†гЂ‚з¦»е€«ж—¶пјЊе¤§з€·зѓ­жѓ…ењ°з»™ж€‘иЇґд»–е®¶ењЁеЇЁе­ђй‡Њйќўзљ„дЅЌзЅ®пјЊи®©ж€‘д»¬дё‹ж¬Ўиї‡жќҐиЂЌж—¶е†ЌжќҐж‰ѕд»–гЂ‚е¤§з€·й’»иї›зЃЊжњЁпјЊеѕ€еї«е°±дёЌи§Ѓдє†пјЊзњ‹зќЂд»–ж¶€е¤±зљ„иѓЊеЅ±пјЊж€‘еїѓжѓіпјЊдё‹ж¬Ўе€°иї™иѕ№жќҐиЂЌж—¶пјЊеёЊжњ›иїиѓЅйЃ‡е€°иї™дёЄејЂжњ—д№ђи§‚зљ„дЅ•е¤§з€·гЂ‚

дё‹е±±зљ„и·ЇжЇ”дёЉе±±и¦ЃиЅ»жќѕе¤љдє†пјЊе¤§е®¶жњ‰иЇґжњ‰з¬‘пјЊеѕ€еї«е°±иµ°е€°дє†еЃњиЅ¦зљ„ењ°ж–№пјЊдёЂи·ЇејЂдё‹е±±гЂ‚з„¶еђЋиµ°317,йѓЅж±¶пјЊж€ђзЃЊе›ћдє†ж€ђйѓЅгЂ‚и·ЇдёЉжњ‰дёЂз‚№е°Џе µпјЊдЅ†дёЂе€‡йѓЅеѕ€йЎєе€©пјЊе›ће€°ж€ђйѓЅж—¶д№џж‰Ќ6з‚№е·¦еЏігЂ‚


> иЇ·жіЁж„Џпјље·ќиҐїењ°еЊєе±±и·Їи·Їе†µе¤Ќжќ‚пјЊиЇ·е‹їж №жЌ®еЌље®ўе†…е®№и‡ЄиЎЊе‰ЌеѕЂпјЊеђ¦е€™дёЂе€‡еђЋжћњи‡ЄиґџгЂ‚





==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-21-algolia-integration-with-jekyll.md

---
layout:     post
title:      "дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў"
subtitle:   ""
date:       2018-05-21 11:00:00
author:     "иµµеЊ–е†°"
image: "/img/2018-05-06-cryptocurrency_week1/bitcoin_header.jpg"
publishDate: 2018-05-21 11:00:00
tags:
    - Jekyll:q 
    - Bitcoin
categories: [ Tech ]
URL: "/2018/05/21/algolia-integration-with-jekyll"

---

> This series of articles are my notes of "Bitcoin and Cryptocurrency Technologies" online course.

## Table of Content 
{:.no_toc}

* Table of Content
{:toc}

## Scrooge Coin Transaction
Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn't explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:
![Scrooge Coin](/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png)

<!--more-->
Every transaction has a set of inputs and a set of outputs. An input in a transaction must use a hash pointer to refer to its corresponding output in the previous transaction, and it must be signed with the private key of the owner because the owner needs to prove he/she agrees to spend his/her coins.  

Every output is correlated to the public key of the receiver, which is his/her ScroogeCoin address. 

In the first transaction, we assume that Scrooge has created 10 coins and assigned them to himself, we don't doubt that because the system-Scroogecoin has a building rule which says that Scrooge has right to create coins.

In the second transaction,  Scrooge transferred 3.9 coins to Alice and 5.9 coins to Bob. The sum of the two outputs is 0.2 less than the input because the transaction fee was 0.2 coin.

In the third transaction,  there were two inputs and one output, Alice and Bob transferred 9.7 coins to mike, and the transaction fee was 0.1 coin.

## Unclaimed transaction outputs pool
Another trick we need to Note when doing the programming assignment is that an UTXOPool is introduced to track the unclaimed outputs (unspent coins), so we can know whether the corresponding output of an input of the transaction is available or not.

## TxHandler Java Code
```
import java.security.PublicKey;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

public class TxHandler {
	private UTXOPool utxoPool;

	/**
	 * Creates a public ledger whose current UTXOPool (collection of unspent
	 * transaction outputs) is {@code utxoPool}. This should make a copy of utxoPool
	 * by using the UTXOPool(UTXOPool uPool) constructor.
	 */
	public TxHandler(UTXOPool utxoPool) {
		this.utxoPool = new UTXOPool(utxoPool);
	}

	/**
	 * @return true if: (1) all outputs claimed by {@code tx} are in the current
	 *         UTXO pool, (2) the signatures on each input of {@code tx} are valid,
	 *         (3) no UTXO is claimed multiple times by {@code tx}, (4) all of
	 *         {@code tx}s output values are non-negative, and (5) the sum of
	 *         {@code tx}s input values is greater than or equal to the sum of its
	 *         output values; and false otherwise.
	 */
	public boolean isValidTx(Transaction tx) {
		Set<UTXO> claimedUTXO = new HashSet<UTXO>();
		double inputSum = 0;
		double outputSum = 0;

		List<Transaction.Input> inputs = tx.getInputs();
		for (int i = 0; i < inputs.size(); i++) {
			Transaction.Input input = inputs.get(i);

			if (!isConsumedCoinAvailable(input)) {
				return false;
			}

			if (!verifySignatureOfConsumeCoin(tx, i, input)) {
				return false;
			}

			if (isCoinConsumedMultipleTimes(claimedUTXO, input)) {
				return false;
			}

			UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
			Transaction.Output correspondingOutput = utxoPool.getTxOutput(utxo);
			inputSum += correspondingOutput.value;

		}

		List<Transaction.Output> outputs = tx.getOutputs();
		for (int i = 0; i < outputs.size(); i++) {
			Transaction.Output output = outputs.get(i);
			if (output.value <= 0) {
				return false;
			}

			outputSum += output.value;
		}

		// Should the input value and output value be equal? Otherwise the ledger will
		// become unbalanced.
		// The difference between inputSum and outputSum is the transaction fee
		if (outputSum > inputSum) {
			return false;
		}

		return true;
	}

	private boolean isCoinConsumedMultipleTimes(Set<UTXO> claimedUTXO, Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		return !claimedUTXO.add(utxo);
	}

	private boolean verifySignatureOfConsumeCoin(Transaction tx, int index, Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		Transaction.Output correspondingOutput = utxoPool.getTxOutput(utxo);
		PublicKey pk = correspondingOutput.address;
		return Crypto.verifySignature(pk, tx.getRawDataToSign(index), input.signature);
	}

	private boolean isConsumedCoinAvailable(Transaction.Input input) {
		UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
		return utxoPool.contains(utxo);
	}

	/**
	 * Handles each epoch by receiving an unordered array of proposed transactions,
	 * checking each transaction for correctness, returning a mutually valid array
	 * of accepted transactions, and updating the current UTXO pool as appropriate.
	 */
	public Transaction[] handleTxs(Transaction[] possibleTxs) {
		List<Transaction> acceptedTx = new ArrayList<Transaction>();
		for (int i = 0; i < possibleTxs.length; i++) {
			Transaction tx = possibleTxs[i];
			if (isValidTx(tx)) {
				acceptedTx.add(tx);

				removeConsumedCoinsFromPool(tx);
				addCreatedCoinsToPool(tx);
			}
		}

		Transaction[] result = new Transaction[acceptedTx.size()];
		acceptedTx.toArray(result);
		return result;
	}

	private void addCreatedCoinsToPool(Transaction tx) {
		List<Transaction.Output> outputs = tx.getOutputs();
		for (int j = 0; j < outputs.size(); j++) {
			Transaction.Output output = outputs.get(j);
			UTXO utxo = new UTXO(tx.getHash(), j);
			utxoPool.addUTXO(utxo, output);
		}
	}

	private void removeConsumedCoinsFromPool(Transaction tx) {
		List<Transaction.Input> inputs = tx.getInputs();
		for (int j = 0; j < inputs.size(); j++) {
			Transaction.Input input = inputs.get(j);
			UTXO utxo = new UTXO(input.prevTxHash, input.outputIndex);
			utxoPool.removeUTXO(utxo);
		}
	}

}
```
## All the Example Codes on GitHub
I wrap the codes into a maven project, just run ```mvn test``` then the example codes will build and run all the test cases.

[Scrooge Coin example in Java](https://github.com/zhaohuabing/scroogecoin)


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-22-user_authentication_authorization.md

---
layout:     post
title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ"
subtitle:   "з”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓ"
description: "иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚"
excerpt: "иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚"
date:      2018-05-23T10:00:00
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-22-user_authentication_authorization/background.jpg"
publishDate: 2018-05-23T10:00:00
tags:
    - Microservice
    - Security 
URL: "/2018/05/22/user_authentication_authorization"
categories: [ "Tech" ]    
---

> иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚
> 
> ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚

## з›®еЅ•
{:.no_toc}

* з›®еЅ•
{:toc}


## е‰ЌиЁЂ
еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚

з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚
![еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї](//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png)
<center>еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї</center>

## з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ

### з”Ёж€·иє«д»Ѕи®¤иЇЃ
дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ
* йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚
* е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚
* з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚

з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚ 

### з”Ёж€·зЉ¶жЂЃдїќжЊЃ
HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚

дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚

Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚

Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚[JWT(Json Web Token)](https://jwt.io)жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚

JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ
* Header<BR>
е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚
```
{
  "alg": "HS256",
  "typ": "JWT"
}
```
* Payload<BR>
еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚
```
{
  "sub": "1234567890",
  "name": "John Doe",
  "admin": true
}
```
* Signature<BR>
TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚
з­ѕеђЌз®—жі•
```
HMACSHA256(
  base64UrlEncode(header) + "." +
  base64UrlEncode(payload),
  secret)
```

иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё"."е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token
![xx](https://cdn.auth0.com/content/jwt/encoded-jwt3.png)
й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ[rfc6750](https://tools.ietf.org/html/rfc6750)иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚
```
Authorization: Bearer mF_9.B5f-4.1JqM
```
й‡‡з”ЁTokenж–№ејЏиї›иЎЊз”Ёж€·и®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
1. з”Ёж€·иѕ“е…Ґз”Ёж€·еђЌ,еЇ†з Ѓз­‰йЄЊиЇЃдїЎжЃЇпјЊеђ‘жњЌеЉЎе™ЁеЏ‘иµ·з™»еЅ•иЇ·ж±‚
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃз”Ёж€·з™»еЅ•дїЎжЃЇпјЊз”џж€ђJWT token
1. жњЌеЉЎе™Ёз«Їе°†Tokenиї”е›ћз»™е®ўж€·з«ЇпјЊе®ўж€·з«Їдїќе­ењЁжњ¬ењ°пј€дёЂи€¬д»ҐCookieзљ„ж–№ејЏдїќе­пј‰
1. е®ўж€·з«Їеђ‘жњЌеЉЎе™Ёз«ЇеЏ‘йЂЃи®їй—®иЇ·ж±‚пјЊиЇ·ж±‚дё­жђєеё¦д№‹е‰ЌйўЃеЏ‘зљ„Token
1. жњЌеЉЎе™Ёз«ЇйЄЊиЇЃTokenпјЊзЎ®и®¤з”Ёж€·зљ„иє«д»Ѕе’ЊеЇ№иµ„жєђзљ„и®їй—®жќѓй™ђпјЊе№¶иї›иЎЊз›ёеє”зљ„е¤„зђ†пј€ж‹’з»ќж€–иЂ…е…Ѓи®ёи®їй—®пј‰
![](https://cdn.auth0.com/content/jwt/jwt-diagram.png)
<center>й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃзљ„жµЃзЁ‹е›ѕ</center>

### е®ћзЋ°еЌ•з‚№з™»еЅ•
еЌ•з‚№з™»еЅ•зљ„зђ†еїµеѕ€з®ЂеЌ•пјЊеЌіз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•еє”з”ЁдёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®еє”з”Ёдё­ж‰Ђжњ‰зљ„еѕ®жњЌеЉЎгЂ‚API GatewayжЏђдѕ›дє†е®ўж€·з«Їи®їй—®еѕ®жњЌеЉЎеє”з”Ёзљ„е…ҐеЏЈпјЊTokenе®ћзЋ°дє†ж— зЉ¶жЂЃзљ„з”Ёж€·и®¤иЇЃгЂ‚з»“еђ€иї™дё¤з§ЌжЉЂжњЇпјЊеЏЇд»Ґдёєеѕ®жњЌеЉЎеє”з”Ёе®ћзЋ°дёЂдёЄеЌ•з‚№з™»еЅ•ж–№жЎ€гЂ‚

з”Ёж€·зљ„и®¤иЇЃжµЃзЁ‹е’Њй‡‡з”ЁTokenж–№ејЏи®¤иЇЃзљ„еџєжњ¬жµЃзЁ‹з±»дјјпјЊдёЌеђЊд№‹е¤„жЇеЉ е…Ґдє†API GatewayдЅњдёєе¤–йѓЁиЇ·ж±‚зљ„е…ҐеЏЈгЂ‚

з”Ёж€·з™»еЅ•
1. е®ўж€·з«ЇеЏ‘йЂЃз™»еЅ•иЇ·ж±‚е€°API Gateway
2. API Gatewayе°†з™»еЅ•иЇ·ж±‚иЅ¬еЏ‘е€°Security Service
3. Security ServiceйЄЊиЇЃз”Ёж€·иє«д»ЅпјЊе№¶йўЃеЏ‘Token

з”Ёж€·иЇ·ж±‚
1. е®ўж€·з«ЇиЇ·ж±‚еЏ‘йЂЃе€°API Gateway
1. API Gatewayи°ѓз”Ёзљ„Security ServiceеЇ№иЇ·ж±‚дё­зљ„Tokenиї›иЎЊйЄЊиЇЃпјЊжЈЂжџҐз”Ёж€·зљ„иє«д»Ѕ
2. е¦‚жћњиЇ·ж±‚дё­жІЎжњ‰TokenпјЊTokenиї‡жњџж€–иЂ…TokenйЄЊиЇЃйќћжі•пјЊе€™ж‹’з»ќз”Ёж€·иЇ·ж±‚гЂ‚
3. Security ServiceжЈЂжџҐз”Ёж€·жЇеђ¦е…·жњ‰иЇҐж“ЌдЅњжќѓ(еЏЇйЂ‰пјЊеЏ‚и§Ѓдё‹дёЂе°ЏиЉ‚)
4. е¦‚жћњз”Ёж€·е…·жњ‰иЇҐж“ЌдЅњжќѓй™ђпјЊе€™жЉЉиЇ·ж±‚еЏ‘йЂЃе€°еђЋз«Їзљ„Business ServiceпјЊеђ¦е€™ж‹’з»ќз”Ёж€·иЇ·ж±‚
![й‡‡з”ЁAPI Gatewayе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„SSO](/img/2018-05-22-user_authentication_authorization/api-gateway-sso.png)
<center>й‡‡з”ЁAPI Gatewayе’ЊTokenе®ћзЋ°еѕ®жњЌеЉЎеє”з”Ёзљ„еЌ•з‚№з™»еЅ•</center>

### з”Ёж€·жќѓй™ђжЋ§е€¶
з”Ёж€·жќѓй™ђжЋ§е€¶жњ‰дё¤з§ЌеЃљжі•пјЊењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†пјЊж€–иЂ…ењЁеђ„дёЄеѕ®жњЌеЉЎдё­еЌ•з‹¬е¤„зђ†гЂ‚
#### API Gatewayе¤„иї›иЎЊз»џдёЂзљ„жќѓй™ђжЋ§е€¶
е®ўж€·з«ЇеЏ‘йЂЃзљ„HTTPиЇ·ж±‚дё­еЊ…еђ«жњ‰иЇ·ж±‚зљ„ResourceеЏЉHTTP MethodгЂ‚е¦‚жћњзі»з»џйЃµеѕЄRESTи§„иЊѓпјЊд»ҐURIиµ„жєђж–№ејЏеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊе€™API GatewayеЏЇд»Ґд»ЋиЇ·ж±‚дё­з›ґжЋҐж€ЄеЏ–е€°и®їй—®зљ„иµ„жєђеЏЉйњЂи¦Ѓиї›иЎЊзљ„ж“ЌдЅњпјЊз„¶еђЋи°ѓз”ЁSecurity Serviceиї›иЎЊжќѓй™ђе€¤ж–­пјЊж №жЌ®е€¤ж–­з»“жћње†іе®љз”Ёж€·жЇеђ¦жњ‰жќѓй™ђеЇ№иЇҐиµ„жєђиї›иЎЊж“ЌдЅњпјЊе№¶иЅ¬еЏ‘е€°еђЋз«Їзљ„Business ServiceгЂ‚

еЃ‡и®ѕзі»з»џдё­жњ‰дё‰дёЄи§’и‰І:
* order_manager,еЏЇд»ҐжџҐзњ‹пјЊе€›е»єпјЊдї®ж”№пјЊе€ й™¤и®ўеЌ•
* order_editor, еЏЇд»ҐжџҐзњ‹пјЊе€›е»єпјЊдї®ж”№и®ўеЌ•
* order_inspectorпјЊеЏЄиѓЅжџҐзњ‹и®ўеЌ•

иї™дє›и§’и‰ІеЇ№иµ„жєђзљ„ж“ЌдЅњжќѓй™ђйѓЅеЏЇд»Ґж е°„е€°HTTP VerbдёЉпјЊе¦‚дё‹иЎЁж‰Ђз¤єгЂ‚

| Role            | Resource | Verbs                              |
|-----------------|----------|------------------------------------|
| order_manager   | /orders  | 'GET'   'POST'   'PUT'   'DELETE'  |
| order_editor    | /orders  | 'GET'    'POST'    'PUT'           |
| order_inspector | /orders  | 'GET'                              |

иї™з§Ќе®ћзЋ°ж–№ејЏењЁAPI Gatewayе¤„з»џдёЂе¤„зђ†й‰ґжќѓйЂ»иѕ‘пјЊеђ„дёЄеѕ®жњЌеЉЎдёЌйњЂи¦ЃиЂѓи™‘з”Ёж€·й‰ґжќѓпјЊеЏЄйњЂи¦Ѓе¤„зђ†дёљеЉЎйЂ»иѕ‘пјЊз®ЂеЊ–дє†еђ„еѕ®жњЌеЉЎзљ„е®ћзЋ°гЂ‚
#### з”±еђ„дёЄеѕ®жњЌеЉЎеЌ•з‹¬иї›иЎЊжќѓй™ђжЋ§е€¶
е¦‚жћњеѕ®жњЌеЉЎжњЄдёҐж јйЃµеѕЄRESTи§„иЊѓеЇ№и®їй—®еЇ№и±Ўиї›иЎЊе»єжЁЎпјЊж€–иЂ…еє”з”ЁйњЂи¦Ѓиї›иЎЊж›ґз»†зІ’еє¦зљ„жќѓй™ђжЋ§е€¶пјЊе€™йњЂи¦ЃењЁеѕ®жњЌеЉЎдё­еЌ•з‹¬еЇ№з”Ёж€·жќѓй™ђиї›иЎЊе€¤ж–­е’Ње¤„зђ†гЂ‚иї™з§Ќжѓ…е†µдё‹еѕ®жњЌеЉЎзљ„жќѓй™ђжЋ§е€¶ж›ґдёєзЃµжґ»пјЊдЅ†еђ„дёЄеѕ®жњЌеЉЎйњЂи¦ЃеЌ•з‹¬з»ґжЉ¤з”Ёж€·зљ„жЋ€жќѓж•°жЌ®пјЊе®ћзЋ°ж›ґе¤Ќжќ‚гЂ‚

з”±дєЋеѕ®жњЌеЉЎиї›иЎЊжќѓй™ђе€¤ж–­ж—¶йњЂи¦Ѓз”Ёж€·иє«д»ЅдїЎжЃЇпјЊиЇҐж–№жЎ€йњЂи¦Ѓе¤„зђ†зљ„еЏ¦дёЂдёЄй—®йўжЇе¦‚дЅ•жЉЉз™»еЅ•з”Ёж€·зљ„дїЎжЃЇд»ЋAPI Gatewayдј йЂ’е€°еѕ®жњЌеЉЎдё­гЂ‚е¦‚жћњжЇеџєдєЋHttpпјЊеЏЇд»Ґй‡‡з”ЁHttp headerе®ћзЋ°пјЊе¦‚жћњжЇе…¶д»–еЌЏи®®пјЊе€™йњЂи¦ЃењЁж¶€жЃЇдЅ“дё­еўћеЉ з”Ёж€·иє«д»Ѕз›ёе…ізљ„е­—ж®µгЂ‚




==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-23-external_system_auth.md

---
layout:     post
title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰"
subtitle:   "е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶"
description: "дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚"
excerpt: "дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚"
date:       2018-05-23T18:00:00
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-23-external_system_auth/background.jpg"
publishDate: 2018-05-23T18:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/23/external_system_auth/"
categories: [ "Tech" ]    
---

## е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶
й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚

### дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶
еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚

й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚

### API Token
жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚

дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ[Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў](https://github.com/settings/tokens)дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚

дЅїз”ЁAPI TokenжќҐи®їй—®Github API
```
curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user

```
> дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)

дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚


з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚
### OAuth
жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚

еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚
OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ
* з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚
* и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚
* з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚
* и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚
* е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚

>е¤‡жіЁпјљ
>1. OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚
>
>2. жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚
>дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚
>
>```
>POST /oauth/token HTTP/1.1
>Host: authorization-server.com
>  			
>grant_type=authorization_code
>&code=xxxxxxxxxxx
>&redirect_uri=https://example-app.com/redirect
>&client_id=xxxxxxxxxx
>&client_secret=xxxxxxxxxx
>```


![OAuthи®¤иЇЃжµЃзЁ‹](/img/2018-05-23-external_system_auth/oauth_web_server_flow.png)
<center>OAuthи®¤иЇЃжµЃзЁ‹</center>


еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:
  
ењЁе®ћзЋ°еѕ®жњЌеЉЎи‡Єиє«зљ„з”Ёж€·и®¤иЇЃж—¶пјЊд№џеЏЇд»Ґй‡‡з”ЁOAuthе°†еѕ®жњЌеЉЎзљ„з”Ёж€·и®¤иЇЃе§”ж‰з»™дёЂдёЄз¬¬дё‰ж–№зљ„и®¤иЇЃжњЌеЉЎжЏђдѕ›е•†пјЊдѕ‹е¦‚еѕ€е¤љеє”з”ЁйѓЅе°†з”Ёж€·з™»еЅ•е’Њеѕ®дїЎж€–иЂ…QQзљ„OAuthжњЌеЉЎиї›иЎЊдє†й›†ж€ђгЂ‚
  
з¬¬дё‰ж–№еє”з”ЁжЋҐе…Ґе’Њеѕ®жњЌеЉЎи‡Єиє«з”Ёж€·и®¤иЇЃй‡‡з”ЁOAuthзљ„з›®зљ„жЇдёЌеђЊзљ„пјЊе‰ЌиЂ…жЇдёєдє†е°†еѕ®жњЌеЉЎдё­з”Ёж€·зљ„з§Ѓжњ‰ж•°жЌ®и®їй—®жќѓй™ђжЋ€жќѓз»™з¬¬дё‰ж–№еє”з”ЁпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇи®¤иЇЃе’Њиµ„жєђжњЌеЉЎе™Ёзљ„и§’и‰Іпј›иЂЊеђЋиЂ…зљ„з›®зљ„жЇй›†ж€ђе№¶е€©з”ЁзџҐеђЌи®¤иЇЃжЏђдѕ›жњЌеЉЎе•†жЏђдѕ›зљ„OAuthи®¤иЇЃжњЌеЉЎпјЊз®ЂеЊ–з№Ѓзђђзљ„жіЁе†Њж“ЌдЅњпјЊеѕ®жњЌеЉЎењЁOAuthжћ¶жћ„дё­жЇе®ўж€·з«Їзљ„и§’и‰ІгЂ‚
  
е› ж­¤ењЁж€‘д»¬йњЂи¦ЃеЊєе€†иї™дё¤з§ЌдёЌеђЊзљ„ењєж™ЇпјЊд»Ґе…ЌйЂ ж€ђиЇЇи§ЈгЂ‚

## еђЋи®°

е‰Ќдё¤зЇ‡ж–‡з« ењЁењЁе…¬дј—еЏ·еЏ‘еёѓеђЋпјЊжњ‰жњ‹еЏ‹жЏђе€°иїи¦ЃжіЁж„Џз™»еЅ•еЇ†з ЃжЋж–‡й—®йўгЂЃйІж­ўй‡Ќж”ѕж”»е‡»гЂЃйІж­ўж—¶й—ґе·®ж”»е‡»гЂЃйІж­ўи„±иЈ¤еђЋзљ„еЅ©и™№иЎЁж”»е‡»...гЂ‚зљ„зЎ®пјЊе®‰е…ЁжЇдёЂдёЄеєће¤§зљ„иЇќйўпјЊжњ¬зі»е€—ж–‡з« еЏЄйђиї°дє†ж€‘е…ідєЋеѕ®жњЌеЉЎжћ¶жћ„еЇ№еє”з”Ёе®‰е…Ёеё¦жќҐзљ„еЅ±е“Ќзљ„дёЂз‚№е°Џе°ЏжЂќиЂѓгЂ‚ењЁдє§е“ЃејЂеЏ‘е’Њиїђз»ґдё­пјЊиїйњЂи¦ЃеЇ№е®‰е…Ёиї›иЎЊе…Ёж–№йќўзљ„иЂѓи™‘пјЊжњЂеҐЅйЃµеѕЄдёЂдє›дёљз•Њзљ„жњЂдЅіе®ћи·µпјЊе¦‚й‡‡з”Ёе®Ње–„зљ„йІзЃ«еў™еЇ№е¤–йѓЁжµЃй‡Џиї›иЎЊйљ”з¦»пјЊй‡‡з”ЁеЉ з›ђhashеЇ№з”Ёж€·еЇ†з Ѓиї›иЎЊе­е‚ЁпјЊй‡‡з”Ёtlsиї›иЎЊеЉ еЇ†дј иѕ“пјЊеЇ№з”Ёж€·иѕ“е…Ґиї›иЎЊдёҐж јжЈЂжџҐйІж­ўsqlжіЁе…ҐпјЊй‡‡з”Ёз»Џиї‡йЄЊиЇЃзљ„йЂљз”ЁеЉ еЇ†з®—жі•з­‰з­‰гЂ‚



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-23-istio-auto-injection-with-webhook.md

---
layout:     post

title:      "Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†"
subtitle:   "Kubernetes webhookж‰©е±•жњєе€¶и§Јжћђ"
description: "Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚"
excerpt: "Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚"
date:    2018-05-23
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-4-25-istio-auto-injection-with-webhook/lion.jpg"
publishDate: 2018-05-23
tags:
    - Kubernetes
    - Istio
URL: "/2018/05/23/istio-auto-injection-with-webhook/"
categories: [ Tech ]
---

## е‰ЌиЁЂ
- - -
Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚

дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚

Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚
<!--more-->
## д»Ђд№€жЇAdmission
---
AdmissionжЇKubernetsдё­зљ„дёЂдёЄжњЇиЇ­пјЊжЊ‡зљ„жЇKubernets API Serverиµ„жєђиЇ·ж±‚иї‡зЁ‹дё­зљ„дёЂдёЄй¶ж®µгЂ‚е¦‚дё‹е›ѕж‰Ђз¤єпјЊењЁAPI ServerжЋҐж”¶е€°иµ„жєђе€›е»єиЇ·ж±‚ж—¶пјЊй¦–е…€дјљеЇ№иЇ·ж±‚иї›иЎЊи®¤иЇЃе’Њй‰ґжќѓпјЊз„¶еђЋз»Џиї‡Admissionе¤„зђ†пјЊжњЂеђЋе†Ќдїќе­е€°etcdгЂ‚ 
![](/img/2018-4-25-istio-auto-injection-with-webhook/admission-phase.png)
д»Ће›ѕдё­зњ‹е€°пјЊAdmissionдё­жњ‰дё¤дёЄй‡Ќи¦Ѓзљ„й¶ж®µпјЊMutationе’ЊValidationпјЊиї™дё¤дёЄй¶ж®µдё­ж‰§иЎЊзљ„йЂ»иѕ‘е¦‚дё‹пјљ
* Mutation
  
  MutationжЇи‹±ж–‡вЂњзЄЃеЏвЂќзљ„ж„ЏжЂќ,д»Ће­—йќўдёЉеЏЇд»ҐзџҐйЃ“ењЁMutationй¶ж®µеЏЇд»ҐеЇ№иЇ·ж±‚е†…е®№иї›иЎЊдї®ж”№гЂ‚
* Validation

  ењЁValidationй¶ж®µдёЌе…Ѓи®ёдї®ж”№иЇ·ж±‚е†…е®№пјЊдЅ†еЏЇд»Ґж №жЌ®иЇ·ж±‚зљ„е†…е®№е€¤ж–­жЇз»§з»­ж‰§иЎЊиЇҐиЇ·ж±‚иїжЇж‹’з»ќиЇҐиЇ·ж±‚гЂ‚

## Admission webhook
---
йЂљиї‡Admission webhook,еЏЇд»ҐеЉ е…ҐMutationе’ЊValidationдё¤з§Ќз±»ећ‹зљ„webhookжЏ’д»¶пјЊиї™дє›жЏ’д»¶е’ЊKubernetsжЏђдѕ›зљ„йў„зј–иЇ‘зљ„AdmissionжЏ’д»¶е…·жњ‰з›ёеђЊзљ„иѓЅеЉ›гЂ‚еЏЇд»Ґжѓіе€°зљ„з”ЁйЂ”еЊ…ж‹¬пјљ
* дї®ж”№иµ„жєђгЂ‚дѕ‹е¦‚Istioе°±йЂљиї‡Admin WebhookењЁPodиµ„жєђдё­еўћеЉ дє†Envoy sidecarе®№е™ЁгЂ‚
* и‡Єе®љд№‰ж ЎйЄЊйЂ»иѕ‘пјЊдѕ‹е¦‚еЇ№иµ„жєђеђЌз§°жњ‰дёЂдє›з‰№ж®Љи¦Ѓж±‚гЂ‚ж€–иЂ…еЇ№и‡Єе®љд№‰иµ„жєђзљ„еђ€жі•жЂ§иї›иЎЊж ЎйЄЊгЂ‚

## й‡‡з”ЁWebhookи‡ЄеЉЁжіЁе…ҐIstio Sidecar
---
### Kubernetsз‰€жњ¬и¦Ѓж±‚
webhookж”ЇжЊЃйњЂи¦ЃKubernets1.9ж€–иЂ…ж›ґй«зљ„з‰€жњ¬,дЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤зЎ®и®¤kube-apiserverзљ„Admin webhookеЉџиѓЅе·ІеђЇз”ЁгЂ‚

```
kubectl api-versions | grep admissionregistration

admissionregistration.k8s.io/v1beta1
```
### з”џж€ђsidecar injection webhookзљ„еЇ†й’Ґе’ЊиЇЃд№¦
WebhookдЅїз”Ёж•°е­—иЇЃд№¦еђ‘kube-apiserverиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊе› ж­¤йњЂи¦Ѓе…€дЅїз”Ёе·Ґе…·з”џж€ђеЇ†й’ҐеЇ№пјЊе№¶еђ‘Istio CAз”іиЇ·ж•°е­—иЇЃд№¦гЂ‚

```
./install/kubernetes/webhook-create-signed-cert.sh /
    --service istio-sidecar-injector /
    --namespace istio-system /
    --secret sidecar-injector-certs
```

### е°†з”џж€ђзљ„ж•°е­—иЇЃд№¦й…ЌзЅ®е€°webhookдё­

```
cat install/kubernetes/istio-sidecar-injector.yaml | /
     ./install/kubernetes/webhook-patch-ca-bundle.sh > /
     install/kubernetes/istio-sidecar-injector-with-ca-bundle.yaml
```

### е€›е»єsidecar injection configmap

```
kubectl apply -f install/kubernetes/istio-sidecar-injector-configmap-release.yaml
```

### йѓЁзЅІsidecar injection webhook

```
kubectl apply -f install/kubernetes/istio-sidecar-injector-with-ca-bundle.yaml
```

йЂљиї‡е‘Ѕд»¤жџҐзњ‹йѓЁзЅІеҐЅзљ„webhook injector

````
kubectl -n istio-system get deployment -listio=sidecar-injector
Copy
NAME                     DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
istio-sidecar-injector   1         1         1            1           1d
```

### ејЂеђЇйњЂи¦Ѓи‡ЄеЉЁжіЁе…Ґsidecarзљ„namespace 

```
kubectl label namespace default istio-injection=enabled

kubectl get namespace -L istio-injection

NAME           STATUS    AGE       ISTIO-INJECTION
default        Active    1h        enabled
istio-system   Active    1h        
kube-public    Active    1h        
kube-system    Active    1h  
```

## еЏ‚иЂѓ

* [Extensible Admission is Beta](https://kubernetes.io/blog/2018/01/extensible-admission-is-beta)
* [Installing the Istio Sidecar](https://istio.io/docs/setup/kubernetes/sidecar-injection.html)


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-23-service_2_service_auth.md

---
layout:     post

title:      "еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ"
subtitle:   "жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ"
description: "й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚"
showonlyimage: false
excerpt: "й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚"
author: В  В  "иµµеЊ–е†°"
date:     2018-05-23T15:00:00
image: "/img/2018-05-23-service_2_service_auth/background.jpg"
publishDate: 2018-05-23T15:00:00
tags:
    - Microservice
    - Security
URL: "/2018/05/23/service_2_service_auth/"
categories: [ Tech ]    
---


## жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ

й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ
* з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®<BR>
  дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚ 
* йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®<BR>
  дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚

ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚
<!--more-->
### еЇ№еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®дёЌиї›иЎЊе®‰е…ЁжЋ§е€¶
ењЁжџђдє›ењєж™Їдё‹пјЊеЏЇд»ҐеЃ‡и®ѕеђЊдёЂеє”з”Ёдё­еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®йѓЅжЇеЏЇдїЎзљ„гЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊеє”з”Ёдѕќиµ–дєЋе†…йѓЁзЅ‘з»њзљ„йІзЃ«еў™еЏЉе…¶д»–зЅ‘з»ње®‰е…ЁжЋЄж–ЅжќҐдїќиЇЃе®‰е…ЁжЂ§гЂ‚ењЁиї™з§Ќжѓ…е†µеЇ№е…ҐдѕµиЂ…ж”»е‡»иї›е…Ґе†…йѓЁзЅ‘з»њеђЋжІЎжњ‰дїќжЉ¤жЋЄж–ЅгЂ‚е…ҐдѕµиЂ…еЏЇд»ҐеЇ№еѕ®жњЌеЉЎй—ґзљ„йЂљдїЎиї›иЎЊе…ёећ‹зљ„дё­й—ґдєєж”»е‡»пјЊдѕ‹е¦‚зЄѓеђ¬йЂљдїЎе†…е®№пјЊдјЄйЂ е’Њдї®ж”№йЂљдїЎж•°жЌ®пјЊз”љи‡іеЃ‡иЈ…дёєдёЂдёЄеђ€жі•зљ„еѕ®жњЌеЉЎиї›иЎЊйЂљдїЎгЂ‚

### й‡‡з”ЁService Account(жњЌеЉЎиґ¦еЏ·)иї›иЎЊе®‰е…ЁжЋ§е€¶
вЂње†…йѓЁзЅ‘з»њдё­еѕ®жњЌеЉЎд№‹й—ґзљ„ж‰Ђжњ‰йЂљдїЎйѓЅжЇеЏЇдїЎзљ„вЂќиї™дёЄеЃ‡и®ѕењЁжџђдє›ењєж™Їдё‹жЇдёЌж€ђз«‹зљ„пјЊз‰№е€«жЇењЁеѕ®жњЌеЉЎдё­дїќе­жњ‰з”Ёж€·дїЎжЃЇиї™з§Ќйќћеёёй‡Ќи¦Ѓзљ„ж•°жЌ®зљ„жѓ…е†µдё‹гЂ‚е°†ж•Џж„џдїЎжЃЇз›ґжЋҐжљґйњІењЁе†…йѓЁж”»е‡»дё‹зљ„еЃљжі•жЇйќћеёёеЌ±й™©зљ„гЂ‚ и§Је†іиЇҐй—®йўзљ„дёЂз§Ќж–№жЎ€жЇдЅїз”ЁжњЌеЉЎиґ¦еЏ·жќҐеЇ№еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®иї›иЎЊжЋ§е€¶гЂ‚

з”Ёж€·жќѓй™ђжЋ§е€¶зљ„дёЂдёЄж™®йЃЌж–№жі•жЇдЅїз”ЁвЂќз”Ёж€·иґ¦еЏ·пј€User Accountпј‰вЂќжќҐж ‡иЇ†дёЂдёЄзі»з»џз”Ёж€·пјЊе№¶еЇ№е…¶иї›иЎЊиє«д»Ѕи®¤иЇЃе’Њж“ЌдЅњй‰ґжќѓгЂ‚з±»дјјењ°пјЊеЏЇд»Ґдёєзі»з»џдё­жЇЏдёЂдёЄжњЌеЉЎд№џе€›е»єдёЂдёЄиґ¦еЏ·пјЊз§°дёєвЂќжњЌеЉЎиґ¦еЏ·(Service Accout)вЂњгЂ‚ иЇҐжњЌеЉЎиґ¦еЏ·иЎЁз¤єдє†еѕ®жњЌеЉЎзљ„иє«д»ЅпјЊд»Ґз”ЁдєЋжЋ§е€¶иЇҐеѕ®жњЌеЉЎеЇ№зі»з»џдё­е…¶е®ѓеѕ®жњЌеЉЎзљ„и®їй—®жќѓй™ђпјЊе¦‚еЏЇд»ҐеЇ№е“Єдє›еѕ®жњЌеЉЎзљ„е“Єдє›иµ„жєђиї›иЎЊдЅ•з§Ќж“ЌдЅњгЂ‚еЅ“дёЂдёЄеѕ®жњЌеЉЎи®їй—®еЏ¦дёЂдёЄеѕ®жњЌеЉЎж—¶пјЊиў«и®їй—®зљ„еѕ®жњЌеЉЎйњЂи¦ЃйЄЊиЇЃи®їй—®иЂ…зљ„жњЌеЉЎиґ¦еЏ·пјЊд»ҐзЎ®е®ље…¶иє«д»Ѕе’Њиµ„жєђж“ЌдЅњжќѓй™ђгЂ‚

#### SPIFEEж ‡е‡†
[Secure Production Identity Framework For Everyone (SPIFFE)](https://spiffe.io/)жЇдёЂеҐ—жњЌеЉЎд№‹й—ґз›ёдє’иї›иЎЊиє«д»ЅиЇ†е€«зљ„ж ‡е‡†пјЊдё»и¦ЃеЊ…еђ«д»Ґдё‹е†…е®№пјљ
* SPIFFE IDж ‡е‡†пјЊSPIFFE IDжЇжњЌеЉЎзљ„е”ЇдёЂж ‡иЇ†пјЊе®ћзЋ°дёєз»џдёЂиµ„жєђж ‡иЇ†"Uniform Resource Identifier (URI)вЂќз¬¦гЂ‚
* SVID(SPIFFE Verifiable Identity Document)ж ‡е‡†,е°†SPIFFE IDзј–з Ѓе€°дёЂдёЄеЉ еЇ†зљ„еЏЇйЄЊиЇЃж–‡жЎЈдё­гЂ‚
* йўЃеЏ‘/ж’¤й”Ђ SVIDзљ„дёЂеҐ—APIж ‡е‡†гЂ‚

SPIFFE SVIDз›®е‰Ќж”ЇжЊЃзљ„е®ћзЋ°ж–№ејЏжЇX.509ж•°е­—иЇЃд№¦пјЊењЁx.509 SVIDдё­пјЊй‡‡з”ЁX.509ж•°е­—иЇЃд№¦зљ„SAN(Subject Alternative Name)ж‰©е±•е­—ж®µжќҐдїќе­SPIFFE IDгЂ‚

#### Istio AuthејЂжєђе®ћзЋ°
IstioжњЌеЉЎзЅ‘ж јйЎ№з›®зљ„Authз»„д»¶е®ћзЋ°дє†SPIFFEж ‡е‡†пјЊеЏЇд»ҐдёєзЅ‘ж јдё­жњЌеЉЎйўЃеЏ‘з¬¦еђ€SPIFFE SVIDж ‡е‡†зљ„иЇЃд№¦пјЊе№¶дёєжњЌеЉЎжЏђдѕ›иє«д»Ѕи®¤иЇЃпјЊз»†зІ’еє¦зљ„ж“ЌдЅњй‰ґжќѓд»ҐеЏЉйЂљдїЎеЉ еЇ†гЂ‚Istioзљ„жћ¶жћ„е¦‚дё‹е›ѕж‰Ђз¤єпјљ
![](/img/2018-05-23-service_2_service_auth/auth.png)

Istio Authй‡‡з”Ёдє†Kubernetesзљ„service accountжќҐдЅњдёєжњЌеЉЎж ‡иЇ†пјЊе…¶SPIFFE IDзљ„ж јејЏдёєspiffe://&lt;domain&gt;/ns/&lt;namespace&gt;/sa/&lt;serviceaccount&gt;пјЊе…¶дё­еђ„з»„ж€ђйѓЁе€†е¦‚дё‹пјљ
* domain еџџеђЌ
* namespace kubernetes service accountж‰ЂењЁзљ„Namespace
* serviceaccount kubernetesдё­е®љд№‰зљ„service accountеђЌ

Istio AuthжЏђдѕ›дє†дёЂдёЄз”ЁдєЋйўЃеЏ‘иЇЃд№¦зљ„CAгЂ‚ењЁжњЌеЉЎйѓЁзЅІж—¶пјЊCAз›‘еђ¬Kubernetes API Server, дёєй›†зѕ¤дё­зљ„жЇЏдёЂдёЄService Accountе€›е»єдёЂеЇ№еЇ†й’Ґе’ЊиЇЃд№¦гЂ‚еЅ“Podе€›е»єж—¶пјЊKubernetesж №жЌ®иЇҐPodе…іиЃ”зљ„Service Accountе°†еЇ†й’Ґе’ЊиЇЃд№¦д»ҐKubernetes Secretsиµ„жєђзљ„ж–№ејЏеЉ иЅЅдёєPodзљ„VolumeпјЊд»Ґдѕ›EnvoyдЅїз”ЁгЂ‚

ењЁжњЌеЉЎиїђиЎЊж—¶пјЊжњЌеЉЎй—ґзљ„йЂљдїЎиў«EnvoyжЋҐз®ЎпјЊEnvoyдЅїз”ЁиЇЃд№¦ењЁжњЌеЉЎй—ґиї›иЎЊеЏЊеђ‘SSLжЏЎж‰‹йЄЊиЇЃйЂљдїЎеЏЊж–№жњЌеЉЎзљ„иє«д»ЅпјЊе№¶жЏђдѕ›еЉ еЇ†зљ„йЂљдїЎйЂљйЃ“гЂ‚

### й‡‡з”Ёз”Ёж€·иє«д»Ѕиї›иЎЊе®‰е…ЁжЋ§е€¶
й‡‡з”ЁжњЌеЉЎиґ¦еЏ·иї›иЎЊжњЌеЉЎй—ґдє¤дє’зљ„й‰ґжќѓдёЌиѓЅжЋ§е€¶е€°з”Ёж€·зІ’еє¦зљ„и®їй—®жќѓй™ђпјЊиї™ењЁжџђдє›ењєж™Їдё‹еЏЇиѓЅе‡єзЋ°ж•°жЌ®жі„йњІй—®йўгЂ‚

дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎйњЂи¦Ѓи®їй—®еЏ¦дёЂдёЄеѕ®жњЌеЉЎдё­зљ„з”Ёж€·еЋ†еЏІиґ­з‰©ж•°жЌ®гЂ‚е¦‚жћњеЏЄй‡‡з”ЁжњЌеЉЎиґ¦еЏ·еЇ№иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊе®‰е…ЁжЋ§е€¶пјЊе­ењЁз”Ёж€·AйЂљиї‡иґ­з‰©иЅ¦еѕ®жњЌеЉЎеђ‘еђЋз«Їеѕ®жњЌеЉЎеЏ‘иµ·дёЂдёЄиЋ·еЏ–з”Ёж€·BеЋ†еЏІиґ­з‰©ж•°жЌ®иЇ·ж±‚зљ„йЈЋй™©гЂ‚е› дёєеђЋз«Їзљ„еѕ®жњЌеЉЎе№¶дёЌиѓЅеѕ—зџҐеЏ‘иµ·иЇ·ж±‚зљ„жЇе“ЄдёЂдёЄз”Ёж€·пјЊе› ж­¤дјљдёЌеЉ е€¤ж–­ењ°иї”е›ћиґ­з‰©иЅ¦еѕ®жњЌеЉЎиЇ·ж±‚зљ„з”Ёж€·еЋ†еЏІиґ­з‰©ж•°жЌ®гЂ‚

и§Је†іж–№жЎ€жЇе°†з”Ёж€·дїЎжЃЇд»Ћз”Ёж€·з›ґжЋҐи®їй—®зљ„з¬¬дёЂдёЄеѕ®жњЌеЉЎеђ‘еђЋдј йЂ’е€°и°ѓз”Ёй“ѕдёЉзљ„жЇЏдёЂдёЄеѕ®жњЌеЉЎпјЊи°ѓз”Ёй“ѕдёЉзљ„жЇЏдёЂдёЄеѕ®жњЌеЉЎйѓЅдЅїз”ЁиЇҐз”Ёж€·дїЎжЃЇеЇ№з”Ёж€·иѓЅи®їй—®зљ„иµ„жєђиї›иЎЊе€¤ж–­гЂ‚ењЁдёЂдёЄе¤§ећ‹зљ„еѕ®жњЌеЉЎзі»з»џдё­пјЊдёЂдёЄи°ѓз”Ёй“ѕеЏЇиѓЅдјљйќћеёёй•їпјЊеЇји‡ґиЇҐж–№жЎ€зљ„е®ћзЋ°жЇ”иѕѓе¤Ќжќ‚гЂ‚

ж€‘д»¬йњЂи¦Ѓж №жЌ®еє”з”Ёзљ„дЅїз”Ёењєж™ЇпјЊжЇЏдёЄеѕ®жњЌеЉЎдё­ж•°жЌ®зљ„ж•Џж„џзЁ‹еє¦жќҐе†іе®љйЂ‰ж‹©е“ЄдёЂз§ЌжњЌеЉЎй—ґе®‰е…Ёзљ„е®ћж–Ѕж–№ејЏгЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-05-24-set_up_my_ubuntu_desktop.md

---
layout:     post
title:      "Everything about Setting Up My Ubuntu Desktop"
description: "Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later"
excerpt: "Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later"
date:    2018-05-24
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-05-23-service_2_service_auth/background.jpg"
publishDate: 2018-05-24
tags:
    - ubuntu 
URL: "/2018/05/24/set_up_my_ubuntu_desktop/"
categories: [ "Tips" ]    
---

## Generate SSH Key Pair

```
ssh-keygen -C "zhaohuabing@gmail.com"
```

## Shadowsocks

Install shadowsokcs    

```
sudo apt-get install python3-pip

sudo pip3 install shadowsocks
```

Create config at ```config/shadowsocks.json```, with the following content:    

```
{
	"server":"remote-shadowsocks-server-ip-addr",
	"server_port":443,
	"local_address":"127.0.0.1",
	"local_port":1080,
	"password":"your-passwd",
	"timeout":300,
	"method":"aes-256-cfb",
	"fast_open":false,
	"workers":1
}
```

Start a local socks proxy 

```
sudo sslocal -c config/shadowsocks.json -d start
```

In case there is an openssl error, modify shadowsocks source file.

```
sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py 

:%s/cleanup/reset/gc
```

Convert shadowsocks socks proxy to http proxy

```
sudo apt-get install polipo

echo "socksParentProxy = localhost:1080" | sudo tee -a /etc/polipo/config 
sudo service polipo restart
```

Http proxy now is available at port 8123

# Set bing wallpaper as desktop background

```
sudo add-apt-repository ppa:whizzzkid/bingwallpaper
sudo apt-get update
sudo apt-get install bingwallpaper
```

# Use vim mode in bash

```
echo 'set -o vi'>> ~/.bashrc
```


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-06-02-istio08.md

---
layout:     post

title:      "Istio 0.8 ReleaseеЏ‘еёѓ"
subtitle:   "жќҐи‡ЄIstioзљ„е„їз«ҐиЉ‚з¤јз‰©"
excerpt: "Istio 0.8 Releaseж–°з‰№жЂ§"
author: В  В  "иµµеЊ–е†°"
date:       2018-06-02
description: "ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ"
image: "/img/2018-06-02-istio08/background.jpg"
publishDate: 2018-06-02
tags:
    - Istio 

categories: [ Tech ]
URL: "/2018/06/02/istio08/"
---

> ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ
<!--more-->
## Networking

### ж”№иї›зљ„жµЃй‡Џз®Ўзђ†жЁЎећ‹
0.8з‰€жњ¬й‡‡з”Ёдє†ж–°зљ„жµЃй‡Џз®Ўзђ†й…ЌзЅ®жЁЎећ‹[v1alpha3 Route API](https://istio.io/blog/2018/v1alpha3-routing/)гЂ‚ж–°з‰€жњ¬зљ„жЁЎећ‹ж·»еЉ дє†дёЂдє›ж–°зљ„з‰№жЂ§пјЊе№¶ж”№е–„дє†д№‹е‰Ќз‰€жњ¬жЁЎећ‹дё­зљ„еЏЇз”ЁжЂ§й—®йўгЂ‚дё»и¦Ѓзљ„ж”№еЉЁеЊ…ж‹¬пјљ

#### Gateway
ж–°з‰€жњ¬дё­дёЌе†ЌдЅїз”ЁK8sдё­зљ„IngressпјЊиЅ¬иЂЊй‡‡з”ЁGatewayжќҐз»џдёЂй…ЌзЅ®Service Meshдё­зљ„еђ„дёЄHTTP/TCPиґџиЅЅеќ‡иЎЎе™ЁгЂ‚GatewayеЏЇд»ҐжЇе¤„зђ†е…ҐеЏЈжµЃй‡Џзљ„Ingress GatewayпјЊиґџиґЈService Meshе†…йѓЁеђ„дёЄжњЌеЉЎй—ґйЂљдїЎзљ„Sidecar ProxyпјЊд№џеЏЇд»ҐжЇиґџиґЈе‡єеЏЈжµЃй‡Џзљ„Egress GatewayгЂ‚

Meshдё­ж¶‰еЏЉе€°зљ„дё‰з±»Gateway:    
![Gateway](/img/2018-06-02-istio08/gateways.svg)    

иЇҐеЏеЊ–зљ„еЋџе› жЇK8sдё­зљ„IngressеЇ№и±ЎеЉџиѓЅиї‡дєЋз®ЂеЌ•пјЊдёЌиѓЅж»Ўи¶іIstioзЃµжґ»зљ„и·Їз”±и§„е€™йњЂж±‚гЂ‚ењЁ0.8з‰€жњ¬дё­пјЊL4-L6зљ„й…ЌзЅ®е’ЊL7зљ„й…ЌзЅ®иў«е€†е€«е¤„зђ†пјЊGatewayдё­еЏЄй…ЌзЅ®L4-L6зљ„еЉџиѓЅпјЊдѕ‹е¦‚жљґйњІзљ„з«ЇеЏЈпјЊTLSи®ѕзЅ®гЂ‚з„¶еђЋз”Ёж€·еЏЇд»Ґй‡‡з”ЁVirtualServiceжќҐй…ЌзЅ®ж ‡е‡†зљ„Istioи§„е€™пјЊе№¶е’ЊGatewayиї›иЎЊз»‘е®љгЂ‚


#### VirtualService

й‡‡з”ЁVirtualServiceд»Јж›їдє†alpha2жЁЎећ‹дё­зљ„RouteRuleгЂ‚й‡‡з”ЁVirtualServiceжњ‰дё¤дёЄдјеЉїпјљ

**еЏЇд»ҐжЉЉдёЂдёЄжњЌеЉЎз›ёе…ізљ„и§„е€™ж”ѕењЁдёЂиµ·з®Ўзђ†**

дѕ‹е¦‚дё‹йќўзљ„и·Їз”±и§„е€™пјЊеЏ‘еђ‘reviewsзљ„иЇ·ж±‚жµЃй‡ЏзјєзњЃdestinationдёєv1пјЊе¦‚жћњuserдёєjasonе€™и·Їз”±е€°v2гЂ‚ењЁv1жЁЎећ‹дё­йњЂи¦Ѓй‡‡з”Ёдё¤жќЎи§„е€™жќҐе®ћзЋ°пјЊй‡‡з”ЁVirtualServiceеђЋж”ѕе€°дёЂдёЄи§„е€™дё‹е°±еЏЇд»Ґе®ћзЋ°гЂ‚
```
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: reviews
spec:
  hosts:
    - reviews
  http:
  - match:
    - headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
    route:
    - destination:
        host: reviews
        subset: v2
  - route:
    - destination:
        host: reviews
        subset: v1
```

**еЏЇд»ҐеЇ№е¤–жљґйњІдёЂдёЄе№¶дёЌе­ењЁзљ„вЂњи™љж‹џжњЌеЉЎвЂќпјЊз„¶еђЋе°†иЇҐвЂњи™љж‹џжњЌеЉЎвЂќж е°„е€°Istioдё­зљ„ServiceдёЉ**

дё‹йќўи§„е€™дё­зљ„bookinfo.comжЇеЇ№е¤–жљґйњІзљ„вЂњи™љж‹џжњЌеЉЎвЂќпјЊbookinfo.com/reviewsиў«ж е°„е€°дє†reviewsжњЌеЉЎпјЊbookinfo.com/ratingsиў«ж е°„е€°дє†ratingsжњЌеЉЎгЂ‚йЂљиї‡й‡‡з”ЁVirtualServiceпјЊжћЃе¤§ењ°еўћејєдє†Istioи·Їз”±и§„е€™зљ„зЃµжґ»жЂ§пјЊжњ‰е€©дєЋLegacyзі»з»џе’ЊIstioзљ„й›†ж€ђгЂ‚
```
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    - destination:
        host: reviews
  - match:
    - uri:
        prefix: /ratings
    route:
    - destination:
        host: ratings
  ...
```

### Envoy V2
жЋ§е€¶йќўе’Њж•°жЌ®йќўж ‡е‡†жЋҐеЏЈж”ЇжЊЃEnvoy 

### з”ЁGatewayд»Јж›ї Ingress/Engress
е‰Ќйќўе·Із»Џд»‹з»Ќе€°пјЊж–°зљ„з‰€жњ¬дё­дёЌе†Ќж”ЇжЊЃе°†Kubernetesзљ„Ingressе’ЊIstioи·Їз”±и§„е€™дёЂиµ·дЅїз”ЁгЂ‚Istio 0.8ж”ЇжЊЃе№іеЏ°ж— е…ізљ„ Ingress/Egress Gateway,еЏЇд»ҐењЁKubernetesпјЊCloud Foundryдё­е’ЊIstioи·Їз”±и§„е€™ж— зјќй›†ж€ђгЂ‚

### еЇ№е…Ґз«™з«ЇеЏЈиї›иЎЊй™ђе€¶
0.8з‰€жњ¬еЏЄе…Ѓи®ёи®їй—®Podе†…е·ІеЈ°жЋз«ЇеЏЈзљ„е…Ґз«™жµЃй‡ЏгЂ‚

## Security
### е®‰е…Ёз»„д»¶Citadel
е°†Istioзљ„е®‰е…Ёз»„д»¶Istio-Auth/Istio-CAж­ЈејЏе‘ЅеђЌдёєCitadelпј€е Ўећ’пј‰гЂ‚

### и·Ёй›†зѕ¤ж”ЇжЊЃ
йѓЁзЅІењЁе¤љдёЄClusterдё­зљ„CitadelеЏЇд»Ґе…±дє«еђЊдёЂRoot CertificateпјЊд»Ґж”ЇжЊЃдёЌеђЊClusterе†…зљ„жњЌеЉЎеЏЇд»Ґи·ЁClusterиї›иЎЊи®¤иЇЃгЂ‚

### и®¤иЇЃз­–з•Ґ 
и®¤иЇЃз­–з•Ґж—ўж”ЇжЊЃService-to-Serviceи®¤иЇЃпјЊд№џж”ЇжЊЃеЇ№з»€з«Їз”Ёж€·иї›иЎЊи®¤иЇЃгЂ‚

## йЃҐжµ‹
Mixerе’ЊPilotе°†дёЉжЉҐи‡Єиє«зљ„йЃҐжµ‹ж•°жЌ®пјЊе…¶дёЉжЉҐзљ„жµЃзЁ‹е’ЊMeshдё­зљ„ж™®йЂљжњЌеЉЎз›ёеђЊгЂ‚

## е®‰иЈ…
жЊ‰йњЂе®‰иЈ…йѓЁе€†з»„д»¶пјљж”ЇжЊЃеЏЄе®‰иЈ…ж‰ЂйњЂзљ„з»„д»¶пјЊе¦‚жћњеЏЄйњЂи¦ЃдЅїз”ЁIstioзљ„и·Їз”±и§„е€™пјЊеЏЇд»ҐйЂ‰ж‹©еЏЄе®‰иЈ…PilotпјЊиЂЊдёЌе®‰иЈ…Mixerе’ЊCitadelгЂ‚

## Mixer
CloudWatchпјљеўћеЉ дє†дёЂдёЄCloudWatchжЏ’д»¶пјЊеЏЇд»Ґеђ‘AWS CloudWatchдёЉжЉҐеє¦й‡Џж•°жЌ®гЂ‚

## е·ІзџҐж•…йљњпјљ
* е¦‚жћњGatewayз»‘е®љзљ„VirtualServiceжЊ‡еђ‘зљ„жЇheadless serviceпјЊе€™иЇҐи§„е€™дёЌиѓЅж­Јеёёе·ҐдЅњгЂ‚
* 0.8з‰€жњ¬е’ЊKubernetes1.10.2е­ењЁе…је®№й—®йўпјЊз›®е‰Ќе»єи®®й‡‡з”Ё1.9з‰€жњ¬гЂ‚
* convert-networking-configе·Ґе…·е­ењЁж•…йљњпјЊдёЂдёЄе…¶е®ѓзљ„namespaceеЏЇиѓЅдјљиў«дї®ж”№дёєistio-system namespaceгЂ‚еЏЇд»ҐењЁе…Ѓи®ёиЅ¬жЌўе·Ґе…·еђЋж‰‹еЉЁдї®ж”№ж–‡д»¶жќҐйЃїе…ЌгЂ‚

## жЂ»з»“
0.8з‰€жњ¬её¦жќҐзљ„жњЂе¤§еЏеЊ–жЇжµЃй‡Џй…ЌзЅ®жЁЎећ‹зљ„й‡Ќжћ„пјЊй‡Ќжћ„еђЋзљ„жЁЎећ‹ж•ґеђ€дє†е¤–йѓЁGatewayе’Ње†…йѓЁSidecar Proxyзљ„и·Їз”±й…ЌзЅ®гЂ‚еђЊж—¶VirtualServiceзљ„еј•е…ҐдЅїи·Їз”±и§„е€™зљ„й…ЌзЅ®ж›ґдёєй›†дё­е’ЊзЃµжґ»гЂ‚


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\2018-06-04-introducing-the-istio-v1alpha3-routing-api.md

---
showonlyimage: true
title:      "Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰"
subtitle:   ""
excerpt: "д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™"
description: "д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™"
date:       2018-06-04
author: В  В  "иµµеЊ–е†°"
image: "/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/background.jpg"
publishDate: 2018-06-04
tags:
    - Istio 

categories: [ Tech ]
URL: "/2018/06/04/introducing-the-istio-v1alpha3-routing-api/"
---

е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚

<!--more-->
и™Ѕз„¶з›®е‰ЌAPIзљ„еЉџиѓЅе·Іиў«иЇЃжЋжЇIstioйќћеёёеј•дєєжіЁз›®зљ„дёЂйѓЁе€†пјЊдЅ†з”Ёж€·зљ„еЏЌй¦€д№џиЎЁжЋпјЊиї™дёЄAPIзЎ®е®ћжњ‰дёЂдє›зјєз‚№пјЊе°¤е…¶жЇењЁдЅїз”Ёе®ѓжќҐз®Ўзђ†еЊ…еђ«ж•°еЌѓдёЄжњЌеЉЎзљ„йќћеёёе¤§зљ„еє”з”ЁзЁ‹еєЏпјЊд»ҐеЏЉдЅїз”ЁHTTPд»Ґе¤–зљ„еЌЏи®®ж—¶гЂ‚ ж­¤е¤–пјЊдЅїз”ЁKubernetes Ingressиµ„жєђжќҐй…ЌзЅ®е¤–йѓЁжµЃй‡Џзљ„ж–№ејЏе·Іиў«иЇЃжЋдёЌиѓЅж»Ўи¶ійњЂж±‚гЂ‚

дёєдє†и§Је†ідёЉиї°зјєй™·е’Ње…¶д»–зљ„дёЂдє›й—®йўпјЊIstioеј•е…Ґдє†ж–°зљ„жµЃй‡Џз®Ўзђ†API v1alpha3пјЊж–°з‰€жњ¬зљ„APIе°†е®Ње…ЁеЏ–д»Јд№‹е‰Ќзљ„APIгЂ‚ е°Ѕз®Ўv1alpha3е’Њд№‹е‰Ќзљ„жЁЎећ‹ењЁжњ¬иґЁдёЉжЇеџєжњ¬з›ёеђЊзљ„пјЊдЅ†е®ѓе№¶дёЌеђ‘еђЋе…је®№зљ„пјЊеџєдєЋж—§APIзљ„жЁЎећ‹йњЂи¦Ѓиї›иЎЊж‰‹еЉЁиЅ¬жЌўгЂ‚ IstioжЋҐдё‹жќҐзљ„е‡ дёЄз‰€жњ¬дё­дјљжЏђдѕ›дёЂдёЄж–°ж—§жЁЎећ‹зљ„иЅ¬жЌўе·Ґе…·гЂ‚


дёєдє†иЇЃжЋиЇҐйќће…је®№еЌ‡зє§зљ„еї…и¦ЃжЂ§пјЊv1alpha3 APIз»ЏеЋ†дє†жј«й•їиЂЊи‰°и‹¦зљ„з¤ѕеЊєиЇ„дј°иї‡зЁ‹пјЊд»ҐеёЊжњ›ж–°зљ„APIиѓЅе¤џе¤§е№…ж”№иї›пјЊе№¶з»Џеѕ—иµ·ж—¶й—ґиЂѓйЄЊгЂ‚ ењЁжњ¬ж–‡дё­пјЊж€‘д»¬е°†д»‹з»Ќж–°зљ„й…ЌзЅ®жЁЎећ‹пјЊе№¶иЇ•е›ѕи§Јй‡Ље…¶еђЋйќўзљ„дёЂдє›еЉЁжњєе’Њи®ѕи®ЎеЋџе€™гЂ‚

## и®ѕи®ЎеЋџе€™
и·Їз”±жЁЎећ‹зљ„й‡Ќжћ„иї‡зЁ‹дё­йЃµеѕЄдє†дёЂдє›е…ій”®зљ„и®ѕи®ЎеЋџе€™пјљ

* й™¤ж”ЇжЊЃеЈ°жЋејЏпј€ж„Џе›ѕпј‰й…ЌзЅ®е¤–пјЊд№џж”ЇжЊЃжѕејЏжЊ‡е®љжЁЎећ‹дѕќиµ–зљ„еџєзЎЂи®ѕж–ЅгЂ‚дѕ‹е¦‚пјЊй™¤дє†й…ЌзЅ®е…ҐеЏЈзЅ‘е…іпј€зљ„еЉџиѓЅз‰№жЂ§пј‰д№‹е¤–пјЊиґџиґЈе®ћзЋ° е…ҐеЏЈзЅ‘е…іеЉџиѓЅзљ„з»„д»¶пј€Controllerпј‰д№џеЏЇд»ҐењЁжЁЎећ‹жЊ‡е®љгЂ‚
* зј–е†™жЁЎећ‹ж—¶еє”иЇҐвЂњз”џдє§иЂ…еЇјеђ‘вЂќе’ЊвЂњд»ҐHostдёєдё­еїѓвЂќпјЊиЂЊдёЌжЇйЂљиї‡з»„еђ€е¤љдёЄи§„е€™жќҐзј–е†™жЁЎећ‹гЂ‚ дѕ‹е¦‚пјЊж‰Ђжњ‰дёЋз‰№е®љHostе…іиЃ”зљ„и§„е€™иў«й…ЌзЅ®ењЁдёЂиµ·пјЊиЂЊдёЌжЇеЌ•з‹¬й…ЌзЅ®гЂ‚
* е°†и·Їз”±дёЋи·Їз”±еђЋиЎЊдёєжё…ж™°е€†ејЂгЂ‚

## v1alpha3дё­зљ„й…ЌзЅ®иµ„жєђ

ењЁдёЂдёЄе…ёећ‹зљ„зЅ‘ж јдё­пјЊйЂљеёёжњ‰дёЂдёЄж€–е¤љдёЄз”ЁдєЋз»€з»“е¤–йѓЁTLSй“ѕжЋҐпјЊе°†жµЃй‡Џеј•е…ҐзЅ‘ж јзљ„иґџиЅЅеќ‡иЎЎе™Ёпј€ж€‘д»¬з§°д№‹дёєgatewayпј‰гЂ‚ з„¶еђЋжµЃй‡ЏйЂљиї‡иѕ№иЅ¦зЅ‘е…іпј€sidecar gatewayпј‰жµЃз»Џе†…йѓЁжњЌеЉЎгЂ‚ еє”з”ЁзЁ‹еєЏдЅїз”Ёе¤–йѓЁжњЌеЉЎзљ„жѓ…е†µд№џеѕ€еёёи§Ѓпј€дѕ‹е¦‚и®їй—®Google Maps APIпј‰пјЊдёЂдє›жѓ…е†µдё‹пјЊиї™дє›е¤–йѓЁжњЌеЉЎеЏЇиѓЅиў«з›ґжЋҐи°ѓз”Ёпј›дЅ†ењЁжџђдє›йѓЁзЅІдё­пјЊзЅ‘ж јдё­ж‰Ђжњ‰и®їй—®е¤–йѓЁжњЌеЉЎзљ„жµЃй‡ЏеЏЇиѓЅиў«и¦Ѓж±‚ејєе€¶йЂљиї‡дё“з”Ёзљ„е‡єеЏЈзЅ‘е…іпј€Egress gatewayпј‰гЂ‚ дё‹е›ѕжЏЏз»дє†зЅ‘е…іењЁзЅ‘ж јдё­зљ„дЅїз”Ёжѓ…е†µгЂ‚

![Gateway](/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/gateways.svg)

иЂѓи™‘е€°дёЉиї°е› зґ пјЊ`v1alpha3`еј•е…Ґдє†д»Ґдё‹иї™дє›ж–°зљ„й…ЌзЅ®иµ„жєђжќҐжЋ§е€¶иї›е…ҐзЅ‘ж јпјЊзЅ‘ж је†…йѓЁе’Њз¦»ејЂзЅ‘ж јзљ„жµЃй‡Џи·Їз”±гЂ‚

1. `Gateway`
1. `VirtualService`
1. `DestinationRule`
1. `ServiceEntry`

`VirtualService`пјЊ`DestinationRule`е’Њ`ServiceEntry`е€†е€«ж›їжЌўдє†еЋџAPIдё­зљ„`RouteRule`пјЊ`DestinationPolicy`е’Њ`EgressRule`гЂ‚ `Gateway`жЇдёЂдёЄз‹¬з«‹дєЋе№іеЏ°зљ„жЉЅи±ЎпјЊз”ЁдєЋеЇ№жµЃе…Ґдё“з”Ёдё­й—ґи®ѕе¤‡зљ„жµЃй‡Џиї›иЎЊе»єжЁЎгЂ‚

дё‹е›ѕжЏЏиї°дє†и·Ёе¤љдёЄй…ЌзЅ®иµ„жєђзљ„жЋ§е€¶жµЃзЁ‹гЂ‚
![дёЌеђЊй…ЌзЅ®иµ„жєђд№‹й—ґзљ„е…ізі»](/img/2018-06-04-introducing-the-istio-v1alpha3-routing-api/virtualservices-destrules.svg)

### Gateway
[Gateway](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#Gateway)з”ЁдєЋдёєHTTP / TCPжµЃй‡Џй…ЌзЅ®иґџиЅЅеќ‡иЎЎе™ЁпјЊе№¶дёЌз®ЎиЇҐиґџиЅЅеќ‡иЎЎе™Ёе°†ењЁе“Єй‡ЊиїђиЎЊгЂ‚ зЅ‘ж јдё­еЏЇд»Ґе­ењЁд»»ж„Џж•°й‡Џзљ„GatewayпјЊе№¶дё”е¤љдёЄдёЌеђЊзљ„Gatewayе®ћзЋ°еЏЇд»Ґе…±е­гЂ‚ е®ћй™…дёЉпјЊйЂљиї‡ењЁй…ЌзЅ®дё­жЊ‡е®љдёЂз»„е·ҐдЅњиґџиЅЅпј€Podпј‰ж ‡з­ѕпјЊеЏЇд»Ґе°†Gatewayй…ЌзЅ®з»‘е®ље€°з‰№е®љзљ„е·ҐдЅњиґџиЅЅпјЊд»ЋиЂЊе…Ѓи®ёз”Ёж€·йЂљиї‡зј–е†™з®ЂеЌ•зљ„Gateway ControllerжќҐй‡Ќз”ЁзЋ°ж€ђзљ„зЅ‘з»њи®ѕе¤‡гЂ‚

еЇ№дєЋе…ҐеЏЈжµЃй‡Џз®Ўзђ†пјЊж‚ЁеЏЇиѓЅдјљй—®пјљ дёєд»Ђд№€дёЌз›ґжЋҐдЅїз”ЁKubernetes Ingress API пјџ еЋџе› жЇIngress APIж— жі•иЎЁиѕѕIstioзљ„и·Їз”±йњЂж±‚гЂ‚ IngressиЇ•е›ѕењЁдёЌеђЊзљ„HTTPд»Јзђ†д№‹й—ґеЏ–дёЂдёЄе…¬е…±зљ„дє¤й›†пјЊе› ж­¤еЏЄиѓЅж”ЇжЊЃжњЂеџєжњ¬зљ„HTTPи·Їз”±пјЊжњЂз»€еЇји‡ґйњЂи¦Ѓе°†д»Јзђ†зљ„е…¶д»–й«зє§еЉџиѓЅж”ѕе…Ґе€°жіЁи§Јпј€annotationпј‰дё­пјЊиЂЊжіЁи§Јзљ„ж–№ејЏењЁе¤љдёЄд»Јзђ†д№‹й—ґжЇдёЌе…је®№зљ„пјЊж— жі•з§»ж¤ЌгЂ‚

Istio `Gateway` йЂљиї‡е°†L4-L6й…ЌзЅ®дёЋL7й…ЌзЅ®е€†з¦»зљ„ж–№ејЏе…‹жњЌдє†`Ingress`зљ„иї™дє›зјєз‚№гЂ‚ `Gateway`еЏЄз”ЁдєЋй…ЌзЅ®L4-L6еЉџиѓЅпј€дѕ‹е¦‚пјЊеЇ№е¤–е…¬ејЂзљ„з«ЇеЏЈпјЊTLSй…ЌзЅ®пј‰пјЊж‰Ђжњ‰дё»жµЃзљ„L7д»Јзђ†еќ‡д»Ґз»џдёЂзљ„ж–№ејЏе®ћзЋ°дє†иї™дє›еЉџиѓЅгЂ‚ з„¶еђЋпјЊйЂљиї‡ењЁ`Gateway`дёЉз»‘е®љ`VirtualService`зљ„ж–№ејЏпјЊеЏЇд»ҐдЅїз”Ёж ‡е‡†зљ„Istioи§„е€™жќҐжЋ§е€¶иї›е…Ґ`Gateway`зљ„HTTPе’ЊTCPжµЃй‡ЏгЂ‚

дѕ‹е¦‚пјЊдё‹йќўиї™дёЄз®ЂеЌ•зљ„`Gateway`й…ЌзЅ®дє†дёЂдёЄLoad BalancerпјЊд»Ґе…Ѓи®ёи®їй—®host bookinfo.comзљ„httpsе¤–йѓЁжµЃй‡Џе…Ґmeshдё­пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: Gateway
metadata:
  name: bookinfo-gateway
spec:
  servers:
  - port:
      number: 443
      name: https
      protocol: HTTPS
    hosts:
    - bookinfo.com
    tls:
      mode: SIMPLE
      serverCertificate: /tmp/tls.crt
      privateKey: /tmp/tls.key
```

и¦Ѓдёєиї›е…ҐдёЉйќўзљ„Gatewayзљ„жµЃй‡Џй…ЌзЅ®з›ёеє”зљ„и·Їз”±пјЊеї…йЎ»дёєеђЊдёЂдёЄhostе®љд№‰дёЂдёЄ`VirtualService`пј€ењЁдё‹дёЂиЉ‚дё­жЏЏиї°пј‰пјЊе№¶дЅїз”Ёй…ЌзЅ®дё­зљ„`gateways`е­—ж®µз»‘е®ље€°е‰Ќйќўе®љд№‰зљ„`Gateway` дёЉпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  gateways:
  - bookinfo-gateway # <---- bind to gateway
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    ...
```
GatewayеЏЇд»Ґз”ЁдєЋе»єжЁЎиѕ№зјд»Јзђ†ж€–зєЇзІ№зљ„е†…йѓЁд»Јзђ†пјЊе¦‚з¬¬дёЂеј е›ѕж‰Ђз¤єгЂ‚ ж— и®єењЁе“ЄдёЄдЅЌзЅ®пјЊж‰Ђжњ‰зЅ‘е…ійѓЅеЏЇд»Ґз”Ёз›ёеђЊзљ„ж–№ејЏиї›иЎЊй…ЌзЅ®е’ЊжЋ§е€¶гЂ‚

### VirtualService
з”ЁдёЂз§ЌеЏ«еЃљвЂњVirtual servicesвЂќзљ„дёњиҐїд»Јж›їи·Їз”±и§„е€™еЏЇиѓЅзњ‹иµ·жќҐжњ‰з‚№еҐ‡жЂЄпјЊдЅ†еЇ№дєЋе®ѓй…ЌзЅ®зљ„е†…е®№иЂЊиЁЂпјЊиї™дє‹е®ћдёЉжЇдёЂдёЄж›ґеҐЅзљ„еђЌз§°пјЊз‰№е€«жЇењЁй‡Ќж–°и®ѕи®ЎAPIд»Ґи§Је†іе…€е‰ЌжЁЎећ‹зљ„еЏЇж‰©е±•жЂ§й—®йўд№‹еђЋгЂ‚

е®ћй™…дёЉпјЊеЏ‘з”џзљ„еЏеЊ–жЇпјљењЁд№‹е‰Ќзљ„жЁЎећ‹дё­пјЊйњЂи¦Ѓз”ЁдёЂз»„з›ёдє’з‹¬з«‹зљ„й…ЌзЅ®и§„е€™жќҐдёєз‰№е®љзљ„з›®зљ„жњЌеЉЎи®ѕзЅ®и·Їз”±и§„е€™пјЊе№¶йЂљиї‡precedenceе­—ж®µжќҐжЋ§е€¶иї™дє›и§„е€™зљ„йЎєеєЏпј›ењЁж–°зљ„APIдё­пјЊе€™з›ґжЋҐеЇ№пј€и™љж‹џпј‰жњЌеЉЎиї›иЎЊй…ЌзЅ®пјЊиЇҐи™љж‹џжњЌеЉЎзљ„ж‰Ђжњ‰и§„е€™д»ҐдёЂдёЄжњ‰еєЏе€—иЎЁзљ„ж–№ејЏй…ЌзЅ®ењЁеЇ№еє”зљ„[VirtualService](/docs/reference/config/istio.networking.v1alpha3/#VirtualService) иµ„жєђдё­гЂ‚

дѕ‹е¦‚пјЊд№‹е‰ЌењЁ[Bookinfo](/docs/guides/bookinfo/) еє”з”ЁзЁ‹еєЏзљ„reviewsжњЌеЉЎдё­жњ‰дё¤дёЄRouteRuleиµ„жєђпјЊе¦‚дё‹ж‰Ђз¤єпјљ

```yaml
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
---
apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-test-v2
spec:
  destination:
    name: reviews
  precedence: 2
  match:
    request:
      headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
  route:
  - labels:
      version: v2
```

ењЁ`v1alph3`пјЊеЏЇд»ҐењЁеЌ•дёЄ`VirtualService`иµ„жєђдё­жЏђдѕ›з›ёеђЊзљ„й…ЌзЅ®пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: reviews
spec:
  hosts:
    - reviews
  http:
  - match:
    - headers:
        cookie:
          regex: "^(.*?;)?(user=jason)(;.*)?$"
    route:
    - destination:
        host: reviews
        subset: v2
  - route:
    - destination:
        host: reviews
        subset: v1
```
ж­Је¦‚дЅ ж‰Ђзњ‹е€°зљ„пјЊ е’ЊreviewsжњЌеЉЎз›ёе…ізљ„дё¤дёЄи§„е€™й›†дё­е†™ењЁдє†дёЂдёЄењ°ж–№гЂ‚иї™дёЄж”№еЏд№ЌдёЂзњ‹еЏЇиѓЅи§‰еѕ—е№¶жІЎжњ‰д»Ђд№€з‰№е€«зљ„дјеЉїпјЊ з„¶иЂЊпјЊе¦‚жћњд»”з»†и§‚еЇџиї™дёЄж–°жЁЎећ‹пјЊдјљеЏ‘зЋ°е®ѓе’Њд№‹е‰Ќзљ„APIд№‹й—ґе­ењЁзќЂж №жњ¬зљ„е·®еј‚пјЊиї™дЅїеѕ—v1alpha3еЉџиѓЅж›ґеЉ ејєе¤§гЂ‚

й¦–е…€пјЊиЇ·жіЁж„Џ`VirtualService`зљ„з›®ж ‡жњЌеЉЎжЇдЅїз”Ё`hosts`е­—ж®µпј€е®ћй™…дёЉжЇй‡Ќе¤Ќе­—ж®µпј‰жЊ‡е®љзљ„пјЊз„¶еђЋе†ЌењЁжЇЏдёЄи·Їз”±зљ„`destination`е­—ж®µдё­жЊ‡е®љгЂ‚ иї™жЇдёЋд»Ґе‰ЌжЁЎећ‹зљ„й‡Ќи¦ЃеЊєе€«гЂ‚

`VirtualService`жЏЏиї°дє†дёЂдёЄж€–е¤љдёЄз”Ёж€·еЏЇеЇ»еќЂз›®ж ‡е€°зЅ‘ж је†…е®ћй™…е·ҐдЅњиґџиЅЅд№‹й—ґзљ„ж е°„гЂ‚ењЁдёЉйќўзљ„з¤єдѕ‹дё­пјЊиї™дё¤дёЄењ°еќЂжЇз›ёеђЊзљ„пјЊдЅ†е®ћй™…дёЉз”Ёж€·еЏЇеЇ»еќЂз›®ж ‡еЏЇд»ҐжЇд»»дЅ•з”ЁдєЋе®љдЅЌжњЌеЉЎзљ„пјЊе…·жњ‰еЏЇйЂ‰йЂљй…Ќз¬¦е‰ЌзјЂж€–CIDRе‰ЌзјЂзљ„DNSеђЌз§°гЂ‚
иї™еЇ№дєЋеє”з”Ёд»ЋеЌ•дЅ“жћ¶жћ„е€°еѕ®жњЌеЉЎжћ¶жћ„зљ„иїЃз§»иї‡зЁ‹з‰№е€«жњ‰з”ЁпјЊеЌ•дЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄз‹¬з«‹зљ„еѕ®жњЌеЉЎеђЋпјЊй‡‡з”ЁVirtaulServiceеЏЇд»Ґз»§з»­жЉЉе¤љдёЄеѕ®жњЌеЉЎеЇ№е¤–жљґйњІдёєеђЊдёЂдёЄз›®ж ‡ењ°еќЂпјЊиЂЊдёЌйњЂи¦ЃжњЌеЉЎж¶€иґ№иЂ…иї›иЎЊдї®ж”№д»ҐйЂ‚еє”иЇҐеЏеЊ–гЂ‚ 
 
дѕ‹е¦‚пјЊд»Ґдё‹и§„е€™е…Ѓи®ёжњЌеЉЎж¶€иґ№иЂ…и®їй—®Bookinfoеє”з”ЁзЁ‹еєЏзљ„reviewsе’ЊratingsжњЌеЉЎпјЊе°±еҐЅеѓЏе®ѓд»¬жЇ`http://bookinfo.com/`пј€и™љж‹џпј‰жњЌеЉЎзљ„дёЂйѓЁе€†пјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: VirtualService
metadata:
  name: bookinfo
spec:
  hosts:
    - bookinfo.com
  http:
  - match:
    - uri:
        prefix: /reviews
    route:
    - destination:
        host: reviews
  - match:
    - uri:
        prefix: /ratings
    route:
    - destination:
        host: ratings
  ...
```
е®ћй™…дёЉењЁпЅЂVirtualServiceпЅЂдё­hostsйѓЁе€†и®ѕзЅ®еЏЄжЇи™љж‹џзљ„з›®зљ„ењ°,е› ж­¤дёЌдёЂе®љжЇе·ІењЁзЅ‘ж јдё­жіЁе†Њзљ„жњЌеЉЎгЂ‚иї™е…Ѓи®ёз”Ёж€·дёєењЁзЅ‘ж је†…жІЎжњ‰еЏЇи·Їз”±жќЎз›®зљ„и™љж‹џдё»жњєзљ„жµЃй‡Џиї›иЎЊе»єжЁЎгЂ‚ йЂљиї‡е°†`VirtualService`з»‘е®ље€°еђЊдёЂHostзљ„`Gateway`й…ЌзЅ®пј€е¦‚е‰ЌдёЂиЉ‚ж‰Ђиї° пј‰пјЊеЏЇеђ‘зЅ‘ж је¤–йѓЁжљґйњІиї™дє›HostгЂ‚

й™¤дє†иї™дёЄй‡Ќе¤§зљ„й‡Ќжћ„д№‹е¤–пјЊ `VirtualService`иїеЊ…ж‹¬е…¶д»–дёЂдє›й‡Ќи¦Ѓзљ„ж”№еЏпјљ

1. еЏЇд»ҐењЁ`VirtualService`й…ЌзЅ®дё­иЎЁз¤єе¤љдёЄеЊ№й…ЌжќЎд»¶пјЊд»ЋиЂЊе‡Џе°‘еЇ№е†—дЅ™зљ„и§„е€™и®ѕзЅ®гЂ‚

1. жЇЏдёЄжњЌеЉЎз‰€жњ¬йѓЅжњ‰дёЂдёЄеђЌз§°пј€з§°дёєжњЌеЉЎе­ђй›†пј‰гЂ‚ е±ћдєЋжџђдёЄе­ђй›†зљ„дёЂз»„Pod/VMењЁ`DestinationRule`е®љд№‰пјЊе…·дЅ“е®љд№‰еЏ‚и§Ѓдё‹иЉ‚гЂ‚

1. йЂљиї‡дЅїз”Ёеё¦йЂљй…Ќз¬¦е‰ЌзјЂзљ„DNSжќҐжЊ‡е®љ`VirtualService`зљ„hostпјЊеЏЇд»Ґе€›е»єеЌ•дёЄи§„е€™д»ҐдЅњз”ЁдєЋж‰Ђжњ‰еЊ№й…Ќзљ„жњЌеЉЎгЂ‚ дѕ‹е¦‚пјЊењЁKubernetesдё­пјЊењЁ'VirtualService'дё­дЅїз”Ё*.foo.svc.cluster.localдЅњдёєhost,еЏЇд»ҐеЇ№`foo`е‘ЅеђЌз©єй—ґдё­зљ„ж‰Ђжњ‰жњЌеЉЎеє”з”Ёз›ёеђЊзљ„й‡Ќе†™и§„е€™гЂ‚

### DestinationRule

[DestinationRule](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#DestinationRule)й…ЌзЅ®е°†жµЃй‡ЏиЅ¬еЏ‘е€°жњЌеЉЎж—¶еє”з”Ёзљ„з­–з•Ґй›†гЂ‚ иї™дє›з­–з•Ґеє”з”±з”±жњЌеЉЎжЏђдѕ›иЂ…ж’°е†™пјЊз”ЁдєЋжЏЏиї°ж–­и·Їе™ЁпјЊиґџиЅЅеќ‡иЎЎи®ѕзЅ®пјЊTLSи®ѕзЅ®з­‰гЂ‚
й™¤дє†дё‹иї°ж”№еЏе¤–пјЊ`DestinationRule`дёЋе…¶е‰Ќиє«`DestinationPolicy`е¤§и‡ґз›ёеђЊгЂ‚

1. [DestinationRule](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#DestinationRule)зљ„`host`еЏЇд»ҐеЊ…еђ«йЂљй…Ќз¬¦е‰ЌзјЂпјЊд»Ґе…Ѓи®ёеЌ•дёЄи§„е€™еє”з”ЁдєЋе¤љдёЄжњЌеЉЎгЂ‚
1. `DestinationRule`е®љд№‰дє†з›®зљ„hostзљ„е­ђй›†`subsets` пј€дѕ‹е¦‚пјље‘ЅеђЌз‰€жњ¬пј‰гЂ‚ иї™дє›subsetз”ЁдєЋпЅЂVirtualServiceпЅЂзљ„и·Їз”±и§„е€™и®ѕзЅ®дё­пјЊеЏЇд»Ґе°†жµЃй‡ЏеЇјеђ‘жњЌеЉЎзљ„жџђдє›з‰№е®љз‰€жњ¬гЂ‚ йЂљиї‡иї™з§Ќж–№ејЏдёєз‰€жњ¬е‘ЅеђЌеђЋпјЊеЏЇд»ҐењЁдёЌеђЊзљ„virtual serviceдё­жЋзЎ®ењ°еј•з”Ёиї™дє›е‘ЅеђЌз‰€жњ¬зљ„ubsetпјЊз®ЂеЊ–Istioд»Јзђ†еЏ‘е‡єзљ„з»џи®Ўж•°жЌ®пјЊе№¶еЏЇд»Ґе°†subsetsзј–з Ѓе€°SNIе¤ґдё­гЂ‚
дёєreviewsжњЌеЉЎй…ЌзЅ®з­–з•Ґе’Њsubsetsзљ„`DestinationRule`еЏЇиѓЅе¦‚дё‹ж‰Ђз¤єпјљ

```yaml
apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: reviews
spec:
  host: reviews
  trafficPolicy:
    loadBalancer:
      simple: RANDOM
  subsets:
  - name: v1
    labels:
      version: v1
  - name: v2
    labels:
      version: v2
    trafficPolicy:
      loadBalancer:
        simple: ROUND_ROBIN
  - name: v3
    labels:
      version: v3
```

жіЁж„ЏпјЊдёЋ`DestinationPolicy`дёЌеђЊзљ„жЇпјЊеЏЇењЁеЌ•дёЄ`DestinationRule`дё­жЊ‡е®ље¤љдёЄз­–з•Ґпј€дѕ‹е¦‚дёЉйќўе®ћдѕ‹дё­зљ„зјєзњЃз­–з•Ґе’Њv2з‰€жњ¬з‰№е®љзљ„з­–з•Ґпј‰гЂ‚
### ServiceEntry

[ServiceEntry](https://istio.io/docs/reference/config/istio.networking.v1alpha3/#ServiceEntry)з”ЁдєЋе°†й™„еЉ жќЎз›®ж·»еЉ е€°Istioе†…йѓЁз»ґжЉ¤зљ„жњЌеЉЎжіЁе†ЊиЎЁдё­гЂ‚
е®ѓжњЂеёёз”ЁдєЋеЇ№и®їй—®зЅ‘ж је¤–йѓЁдѕќиµ–зљ„жµЃй‡Џиї›иЎЊе»єжЁЎпјЊдѕ‹е¦‚и®їй—®WebдёЉзљ„APIж€–йЃ—з•™еџєзЎЂи®ѕж–Ѕдё­зљ„жњЌеЉЎгЂ‚

ж‰Ђжњ‰д»Ґе‰ЌдЅїз”Ё`EgressRule`иї›иЎЊй…ЌзЅ®зљ„е†…е®№йѓЅеЏЇд»ҐйЂљиї‡`ServiceEntry`иЅ»жќѕе®Њж€ђгЂ‚ дѕ‹е¦‚пјЊеЏЇд»ҐдЅїз”Ёз±»дјјиї™ж ·зљ„й…ЌзЅ®жќҐе…Ѓи®ёд»ЋзЅ‘ж је†…йѓЁи®їй—®дёЂдёЄз®ЂеЌ•зљ„е¤–йѓЁжњЌеЉЎпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: ServiceEntry
metadata:
  name: foo-ext
spec:
  hosts:
  - foo.com
  ports:
  - number: 80
    name: http
    protocol: HTTP
```
д№џе°±жЇиЇґпјЊ`ServiceEntry`жЇ”е®ѓзљ„е‰Ќиє«е…·жњ‰ж›ґе¤љзљ„еЉџиѓЅгЂ‚й¦–е…€пјЊ`ServiceEntry`дёЌй™ђдєЋе¤–йѓЁжњЌеЉЎй…ЌзЅ®пјЊе®ѓеЏЇд»Ґжњ‰дё¤з§Ќз±»ећ‹пјљзЅ‘ж је†…йѓЁж€–зЅ‘ж је¤–йѓЁгЂ‚зЅ‘ж је†…йѓЁжќЎз›®еЏЄжЇз”ЁдєЋеђ‘зЅ‘ж јжѕејЏж·»еЉ жњЌеЉЎпјЊж·»еЉ зљ„жњЌеЉЎдёЋе…¶д»–е†…йѓЁжњЌеЉЎдёЂж ·гЂ‚й‡‡з”ЁзЅ‘ж је†…йѓЁжќЎз›®пјЊеЏЇд»ҐжЉЉеЋџжњ¬жњЄиў«зЅ‘ж јз®Ўзђ†зљ„еџєзЎЂи®ѕж–Ѕд№џзєіе…Ґе€°зЅ‘ж јдё­пј€дѕ‹е¦‚пјЊжЉЉи™љжњєдё­зљ„жњЌеЉЎж·»еЉ е€°еџєдєЋKubernetesзљ„жњЌеЉЎзЅ‘ж јдё­пј‰гЂ‚зЅ‘ж је¤–йѓЁжќЎз›®е€™д»ЈиЎЁдє†зЅ‘ж је¤–йѓЁзљ„жњЌеЉЎгЂ‚еЇ№дєЋиї™дє›е¤–йѓЁжњЌеЉЎжќҐиЇґпјЊmTLSиє«д»ЅйЄЊиЇЃжЇз¦Ѓз”Ёзљ„пјЊе№¶дё”з­–з•ҐжЇењЁе®ўж€·з«Їж‰§иЎЊзљ„пјЊиЂЊдёЌжЇењЁеѓЏе†…йѓЁжњЌеЉЎиЇ·ж±‚дёЂж ·ењЁжњЌеЉЎе™Ёз«Їж‰§иЎЊз­–з•ҐгЂ‚

з”±дєЋ`ServiceEntry`й…ЌзЅ®еЏЄжЇе°†жњЌеЉЎж·»еЉ е€°зЅ‘ж је†…йѓЁзљ„жњЌеЉЎжіЁе†ЊиЎЁдё­пјЊе› ж­¤е®ѓеЏЇд»ҐеѓЏжіЁе†ЊиЎЁдё­зљ„д»»дЅ•е…¶д»–жњЌеЉЎдёЂж ·,дёЋ`VirtualService`е’Њ/ж€–`DestinationRule`дёЂиµ·дЅїз”ЁгЂ‚дѕ‹е¦‚пјЊд»Ґдё‹`DestinationRule`еЏЇз”ЁдєЋеђЇеЉЁе¤–йѓЁжњЌеЉЎзљ„mTLSиїћжЋҐпјљ
```yaml
apiVersion: networking.istio.io/v1alpha3
kind: DestinationRule
metadata:
  name: foo-ext
spec:
  name: foo.com
  trafficPolicy:
    tls:
      mode: MUTUAL
      clientCertificate: /etc/certs/myclientcert.pem
      privateKey: /etc/certs/client_private_key.pem
      caCertificates: /etc/certs/rootcacerts.pem
```
й™¤дє†ж‰©е±•йЂљз”ЁжЂ§д»Ґе¤–пјЊ`ServiceEntry`иїжЏђдѕ›дє†е…¶д»–дёЂдє›жњ‰е…і`EgressRule`ж”№иї›пјЊе…¶дё­еЊ…ж‹¬пјљ

1. дёЂдёЄ`ServiceEntry`еЏЇд»Ґй…ЌзЅ®е¤љдёЄжњЌеЉЎз«Їз‚№пјЊиї™ењЁд№‹е‰ЌйњЂи¦Ѓй‡‡з”Ёе¤љдёЄ`EgressRules`жќҐе®ћзЋ°гЂ‚
1. зЋ°ењЁеЏЇд»Ґй…ЌзЅ®жњЌеЉЎз«Їз‚№зљ„и§ЈжћђжЁЎејЏпј€`NONE`пјЊ`STATIC`ж€–`DNS`пј‰гЂ‚
1. ж­¤е¤–пјЊж€‘д»¬ж­ЈењЁеЉЄеЉ›и§Је†іеЏ¦дёЂдёЄйљѕйўпјљз›®е‰ЌйњЂи¦ЃйЂљиї‡зєЇж–‡жњ¬з«ЇеЏЈи®їй—®е®‰е…Ёзљ„е¤–йѓЁжњЌеЉЎпј€дѕ‹е¦‚`http://google.com:443`пј‰гЂ‚иЇҐй—®йўе°†дјљењЁжњЄжќҐе‡ е‘Ёе†…еѕ—е€°и§Је†іпјЊе±Љж—¶е°†е…Ѓи®ёд»Ћеє”з”ЁзЁ‹еєЏз›ґжЋҐи®їй—®`https://google.com`гЂ‚иЇ·з»§з»­е…іжіЁи§Је†іж­¤й™ђе€¶зљ„IstioиЎҐдёЃз‰€жњ¬пј€0.8.xпј‰гЂ‚

## е€›е»єе’Ње€ й™¤v1alpha3и·Їз”±и§„е€™
з”±дєЋдёЂдёЄз‰№е®љз›®зљ„ењ°зљ„ж‰Ђжњ‰и·Їз”±и§„е€™зЋ°ењЁйѓЅе­е‚ЁењЁеЌ•дёЄ`VirtualService`иµ„жєђзљ„дёЂдёЄжњ‰еєЏе€—иЎЁдё­пјЊе› ж­¤дёєиЇҐз›®зљ„ењ°ж·»еЉ ж–°зљ„и§„е€™дёЌйњЂи¦Ѓе†Ќе€›е»єж–°зљ„`RouteRule`пјЊиЂЊжЇйЂљиї‡ж›ґж–°иЇҐз›®зљ„ењ°зљ„`VirtualService`иµ„жєђжќҐе®ћзЋ°гЂ‚

ж—§зљ„и·Їз”±и§„е€™пјљ
```command
$ istioctl create -f my-second-rule-for-destination-abc.yaml
```
`v1alpha3`и·Їз”±и§„е€™пјљ
```command
$ istioctl replace -f my-updated-rules-for-destination-abc.yaml
```

е€ й™¤и·Їз”±и§„е€™д№џдЅїз”Ёistioctl replaceе®Њж€ђпјЊеЅ“з„¶е€ й™¤жњЂеђЋдёЂдёЄи·Їз”±и§„е€™й™¤е¤–пј€е€ й™¤жњЂеђЋдёЂдёЄи·Їз”±и§„е€™йњЂи¦Ѓе€ й™¤`VirtualService`пј‰гЂ‚

ењЁж·»еЉ ж€–е€ й™¤еј•з”ЁжњЌеЉЎз‰€жњ¬зљ„и·Їз”±ж—¶пјЊйњЂи¦ЃењЁиЇҐжњЌеЉЎз›ёеє”зљ„`DestinationRule`ж›ґж–°subsets гЂ‚ ж­Је¦‚дЅ еЏЇиѓЅзЊње€°зљ„пјЊиї™д№џжЇдЅїз”Ё`istioctl replace`е®Њж€ђзљ„гЂ‚

## жЂ»з»“
Istio `v1alpha3`и·Їз”±APIе…·жњ‰жЇ”е…¶е‰Ќиє«ж›ґе¤љзљ„еЉџиѓЅпјЊдЅ†дёЌе№ёзљ„жЇж–°зљ„APIе№¶дёЌеђ‘еђЋе…је®№пјЊж—§зљ„жЁЎећ‹еЌ‡зє§йњЂи¦ЃдёЂж¬Ўж‰‹еЉЁиЅ¬жЌўгЂ‚ Istio 0.9д»ҐеђЋе°†дёЌе†Ќж”ЇжЊЃ`RouteRule`пјЊ`DesintationPolicy`е’Њ`EgressRule`иї™дє›д»Ґе‰Ќзљ„й…ЌзЅ®иµ„жєђ гЂ‚Kubernetesз”Ёж€·еЏЇд»Ґз»§з»­дЅїз”Ё`Ingress`й…ЌзЅ®иѕ№зјиґџиЅЅеќ‡иЎЎе™ЁжќҐе®ћзЋ°еџєжњ¬зљ„и·Їз”±гЂ‚ дЅ†жЇпјЊй«зє§и·Їз”±еЉџиѓЅпј€дѕ‹е¦‚пјЊи·Ёдё¤дёЄз‰€жњ¬зљ„жµЃй‡Џе€†е‰Іпј‰е€™йњЂи¦ЃдЅї`з”ЁGateway` пјЊиї™жЇдёЂз§ЌеЉџиѓЅж›ґејєе¤§пјЊIstioжЋЁиЌђзљ„`Ingress`ж›їд»Је“ЃгЂ‚

## и‡ґи°ў
ж„џи°ўд»Ґдё‹дєєе‘дёєж–°з‰€жњ¬зљ„и·Їз”±жЁЎећ‹й‡Ќжћ„е’Ње®ћзЋ°е·ҐдЅњеЃље‡єзљ„иґЎзЊ®пј€жЊ‰е­—жЇЌйЎєеєЏпј‰

* Frank Budinsky (IBM)
* Zack Butcher (Google)
* Greg Hanson (IBM)
* Costin Manolache (Google)
* Martin Ostrowski (Google)
* Shriram Rajagopalan (VMware)
* Louis Ryan (Google)
* Isaiah Snell-Feikema (IBM)
* Kuat Yessenov (Google)

## еЋџж–‡ 

* [Introducing the Istio v1alpha3 routing API](https://kubernetes.io/blog/2018/01/extensible-admission-is-beta)


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\post\readme.md

---
layout:     post
title:      "Clean White Theme for Hugo"
subtitle:   "How to set up this theme"
date:       2019-01-09
author:     "иµµеЊ–е†°"
image:      "https://img.zhaohuabing.com/post-bg-2015.jpg"
---

# Clean White Theme for Hugo

CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live [demo site](https://zhaohuabing.com) using this theme.  

It is based on [huxblog Jekyll Theme](https://github.com/Huxpro/huxpro.github.io)
and [Clean Blog Jekyll Theme](https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll).

These two upstream projects have done awesome jobs to create a blog theme, what I'm doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I'd like to make it as simple as possible and only focus on blog purpose, at least for now.
While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.

## Screenshots

**Home**
![screenshot](/img/fullscreenshot.png)

**Post**
![screenshot](/img/post.png)

**Search**
![screenshot](/img/sitesearch.png)

**Disqus**
![screenshot](/img/disqus.png)

**Wechat Pay & Alipay**
![screenshot](/img/rewards.png)

## Quick Start
Go to the directory where you have your Hugo site and run:

```
$ mkdir themes
$ cd themes
$ git clone https://github.com/zhaohuabing/hugo-theme-cleanwhite.git
```

If your site is already a git project, you may want to choose to add the cleanwhite theme as a submodule to avoid messing up your existing git repository.

```
$ mkdir themes
$ git submodule add https://github.com/zhaohuabing/hugo-theme-cleanwhite.git themes/hugo-theme-cleanwhite
```
Run  Hugo Built-in Server Locally

```
$ hugo serve -t  hugo-theme-cleanwhite
```
Now enter [`localhost:1313`](http://localhost:1313) in the address bar of your browser.

If you start from scratch, there is a working Hugo site configured with the CleanWhite theme in the [exampleSite](https://github.com/zhaohuabing/hugo-theme-cleanwhite/tree/master/exampleSite) directory.  You can use it as a starting point for your site.

For more information read the official [setup guide](https://gohugo.io/overview/installing/) of Hugo 

## Configuration
First, let's take a look at the [hugo.toml](https://github.com/zhaohuabing/hugo-cleanwhite-theme/tree/master/exampleSite/hugo.toml). It will be useful to learn how to customize your site. Feel free to play around with the settings.

### Comments
The optional comments system is powered by [Disqus](https://disqus.com). If you want to enable comments, create an account in Disqus and write down your shortname.

```toml
[services]
  [services.disqus]
    shortname = "your-disqus-short-name"
```
You can disable the comments system by leaving the `shortname` empty.

### Disqus in China
Disqus is inaccessible in China. To get it to work, we can set up a proxy with [disqus-php-api](https://github.com/zhaohuabing/disqus-php-api) in a host which sets between the client browser and the Disqus server. The idea is that if Disqus can be reached in the guest network, the blog page will show the original Disqus comments UI, otherwise, it will downgrade and use the proxy to access the Disqus, the UI will be a little different, but the visitors can still write their comments on the page.

The client side java script has already been integrated to CleanWhite them, but you need to set up a proxy server yourself.

The proxy is written in php, which can be found here: https://github.com/zhaohuabing/disqus-php-api/tree/master/api

You need to specify  your Disqus account information in the config.php.
```
define('PUBLIC_KEY', '');
define('SECRET_KEY', '');
define('DISQUS_USERNAME', '');
define('DISQUS_EMAIL', '');
define('DISQUS_PASSWORD', '');
define('DISQUS_WEBSITE', '');
define('DISQUS_SHORTNAME', '');
```
Set the proxy server address in the site config file of your Hugo project.
```toml
disqus_proxy = "http://yourdisqusproxy.com"
```
### Site Search with Algolia
Follow this [tutorial](https://forestry.io/blog/search-with-algolia-in-hugo/#3-create-your-index-in-algolia) to create your index in Algolia. The index is just the storage of the indexing data of your site in the the cloud . The search page of CleanWhite theme will utilize this indexing data to do the search.

Go to the directory where you have your Hugo site and run the following commands:
```bash
$ npm init
$ npm install atomic-algolia --save
```
Next, open up the newly created package.json, where weвЂ™ll add an NPM script to update your index at Algolia. Find "scripts", and add the following:
```josn
"algolia": "atomic-algolia"
```
Algolia index output format has already been supported by the CleanWhite theme, so you can just build your site, then youвЂ™ll find a file called algolia.json in the root, which we can use to update your index in Algolia.
Generate index file:
```bash
$ hugo
```
Create a new file in the root of your Hugo project called .env, and add the following contents:
```bash
ALGOLIA_APP_ID={{ YOUR_APP_ID }}
ALGOLIA_ADMIN_KEY={{ YOUR_ADMIN_KEY }}
ALGOLIA_INDEX_NAME={{ YOUR_INDEX_NAME }}
ALGOLIA_INDEX_FILE={{ PATH/TO/algolia.json }}
```
Now you can push your index to Algolia by simply running:
```bash
$ npm run algolia
```
Add the following variables to your hugo site config so the search page can get access to algolia index data in the cloud:
 ```
algolia_search = true
algolia_appId = {{ YOUR_APP_ID }}
algolia_indexName = {{ YOUR_INDEX_NAME }}
algolia_apiKey = {{ YOUR_SEARCH_ONLY_KEY }}
```
Open search page in your browser: http://localhost:1313/search

### Analytics

You can optionally enable Google or Baidu Analytics. Type your tracking code in the 

```toml
[services]
  [services.googleAnalytics]
    id = "G-XXXXX"
```
Leave the `id` key empty to disable it.

### Baidu Analytics

You can optionally enable Baidu Analytics. Type your tracking code in the

```toml
ba_track_id  = "XXXXXXXXXXXXXXXX"
```
Leave the 'ba_track_id ' key empty to disable it.

### Wechat Pay & Alipay Rewards

You can enable Wechat Pay & Alipay to allow readers send you money. So if they like your articles, you may even get rewards from your writing. Now you must be motivated to write more.

* Enable Wechat Pay & Alipay in the site config
```toml
reward = true
```
* Replace the QR codes of Wechat Pay & Alipay by overriding the photos in folder /static/img/reward/, otherwise the money will be sent to my accounts!


## Thank
Thanks for the great jobs of [huxblog Jekyll Theme](https://github.com/Huxpro/huxpro.github.io) and [Clean Blog Jekyll Theme](https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll) which are the the two upstream projects CleanWhite Hugo theme is based on.

## Feedback
If you find any problems, please feel free to [raise an issue](https://github.com/zhaohuabing/hugo-theme-cleanwhite/issues/new) or create a pull request to fix it. 

If it's helpful for you, I would appreciate it if you could star this repository, thanks!



==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\posts\my-post.md

+++
date = '2025-07-24T23:32:25+03:00'
draft = true
title = 'My Post'
+++


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\search\placeholder.md


==============================

File: D:\github\bynet\site\content_backup_2025-08-09_112717\content\services\index.md

---
title: "Наши услуги"
layout: page
---

## Комплексные решения для защиты ваших инвестиций

Мы предлагаем полный спектр услуг для инвесторов, девелоперов и заказчиков строительства, обеспечивая контроль на всех этапах жизненного цикла проекта.

### 1. Финансово-технический аудит
Проводим комплексную проверку проектной и сметной документации. Наша цель — исключить завышение объемов работ, цен на материалы и выявить скрытые риски до начала строительства.
> **Результат:** Экономия до 25% от первоначального бюджета.

### 2. Строительный контроль (Технический надзор)
Наши инженеры осуществляют постоянный контроль качества строительно-монтажных работ на площадке. Мы гарантируем, что каждый этап выполняется в строгом соответствии с проектом и нормативными требованиями.
> **Результат:** Предотвращение критических дефектов и соблюдение технологий.

### 3. Управление проектами и стоимостью
Берем на себя функции службы заказчика, управляя бюджетом, сроками и взаимодействием с подрядчиками. Наша система отчетности обеспечивает полную прозрачность для инвестора.
> **Результат:** Проект сдан в срок и в рамках утвержденного бюджета.

### 4. Экспертиза и разрешение споров
Готовим экспертные заключения для досудебного урегулирования и представляем ваши интересы в суде. Помогаем доказать правоту в спорах о качестве, объемах и стоимости выполненных работ.
> **Результат:** Сильная юридическая позиция и защита ваших активов.



==============================

File: D:\github\bynet\site\post\index.xml

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on </title>
    <link>//localhost:1313/post/</link>
    <description>Recent content in Posts on </description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Wed, 09 Jan 2019 00:00:00 +0000</lastBuildDate>
    <atom:link href="//localhost:1313/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>РќР°С€Рё РїСЂРѕРµРєС‚С‹</title>
      <link>//localhost:1313/post/readme/</link>
      <pubDate>Wed, 09 Jan 2019 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/post/readme/</guid>
      <description>&lt;h1 id=&#34;clean-white-theme-for-hugo&#34;&gt;РќР°С€Рё РїСЂРѕРµРєС‚С‹&lt;/h1&gt;&#xA;&lt;p&gt;CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live &lt;a href=&#34;https://zhaohuabing.com&#34;&gt;demo site&lt;/a&gt; using this theme.&lt;/p&gt;&#xA;&lt;p&gt;It is based on &lt;a href=&#34;https://github.com/Huxpro/huxpro.github.io&#34;&gt;huxblog Jekyll Theme&lt;/a&gt;&#xA;and &lt;a href=&#34;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll&#34;&gt;Clean Blog Jekyll Theme&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;These two upstream projects have done awesome jobs to create a blog theme, what I&amp;rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&amp;rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.&#xA;While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</link>
      <pubDate>Mon, 04 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</guid>
      <description>&lt;p&gt;е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio 0.8 ReleaseеЏ‘еёѓ</title>
      <link>//localhost:1313/2018/06/02/istio08/</link>
      <pubDate>Sat, 02 Jun 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/06/02/istio08/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ&lt;/p&gt;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Everything about Setting Up My Ubuntu Desktop</title>
      <link>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</link>
      <pubDate>Thu, 24 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/24/set_up_my_ubuntu_desktop/</guid>
      <description>&lt;h2 id=&#34;generate-ssh-key-pair&#34;&gt;Generate SSH Key Pair&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen -C &amp;#34;zhaohuabing@gmail.com&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;shadowsocks&#34;&gt;Shadowsocks&lt;/h2&gt;&#xA;&lt;p&gt;Install shadowsokcs&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install python3-pip&#xD;&#xA;&#xD;&#xA;sudo pip3 install shadowsocks&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Create config at &lt;code&gt;config/shadowsocks.json&lt;/code&gt;, with the following content:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;&#x9;&amp;#34;server&amp;#34;:&amp;#34;remote-shadowsocks-server-ip-addr&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;server_port&amp;#34;:443,&#xD;&#xA;&#x9;&amp;#34;local_address&amp;#34;:&amp;#34;127.0.0.1&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;local_port&amp;#34;:1080,&#xD;&#xA;&#x9;&amp;#34;password&amp;#34;:&amp;#34;your-passwd&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;timeout&amp;#34;:300,&#xD;&#xA;&#x9;&amp;#34;method&amp;#34;:&amp;#34;aes-256-cfb&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;fast_open&amp;#34;:false,&#xD;&#xA;&#x9;&amp;#34;workers&amp;#34;:1&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start a local socks proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo sslocal -c config/shadowsocks.json -d start&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case there is an openssl error, modify shadowsocks source file.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py &#xD;&#xA;&#xD;&#xA;:%s/cleanup/reset/gc&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Convert shadowsocks socks proxy to http proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install polipo&#xD;&#xA;&#xD;&#xA;echo &amp;#34;socksParentProxy = localhost:1080&amp;#34; | sudo tee -a /etc/polipo/config &#xD;&#xA;sudo service polipo restart&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Http proxy now is available at port 8123&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰</title>
      <link>//localhost:1313/2018/05/23/external_system_auth/</link>
      <pubDate>Wed, 23 May 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/external_system_auth/</guid>
      <description>&lt;h2 id=&#34;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&#34;&gt;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&lt;/h2&gt;&#xA;&lt;p&gt;й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&#34;&gt;дЅїз”Ёиґ¦еЏ·иї›иЎЊжЋ§е€¶&lt;/h3&gt;&#xA;&lt;p&gt;еЏЇд»Ґдёєе¤–йѓЁзі»з»џе€›е»єдёЂдёЄз”Ёж€·иґ¦еЏ·пјЊз±»дјјж™®йЂљз”Ёж€·дёЂж ·еЇ№е¤–йѓЁзі»з»џзљ„иґ¦еЏ·иї›иЎЊз®Ўзђ†пјЊе№¶дЅїз”ЁиЇҐиґ¦еЏ·еЇ№е¤–йѓЁзі»з»џиї›иЎЊи®¤иЇЃе’Њжќѓй™ђжЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”Ёиї™з§Ќж–№ејЏзљ„й—®йўжЇйљѕд»Ґе¤„зђ†з”Ёж€·з›ёе…ізљ„ж•Џж„џж•°жЌ®гЂ‚е› дёєе¤–йѓЁзі»з»џи‡Єиє«д№џжЇеѕ®жњЌеЉЎзі»з»џдё­зљ„дёЂдёЄз”Ёж€·иґ¦еЏ·пјЊе› ж­¤иЇҐе¤–йѓЁзі»з»џеЏЄиѓЅи®їй—®иЇҐиґ¦еЏ·и‡Єиє«зљ„ж•°жЌ®е’ЊдёЂдє›дёЌж•Џж„џзљ„е…¬е…±ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е’Њз”Ёж€·з›ёе…ізљ„ж•°жЌ®гЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзі»з»џеЏЇд»Ґй‡‡з”ЁиЇҐж–№ејЏи®їй—®е•†е“Ѓз›®еЅ•дїЎжЃЇпјЊдЅ†дёЌеє”е…Ѓи®ёи®їй—®з”Ёж€·еЋ†еЏІиґ­д№°и®°еЅ•пјЊз”Ёж€·дЅ™йўќз­‰дїЎжЃЇгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;api-token&#34;&gt;API Token&lt;/h3&gt;&#xA;&lt;p&gt;жЇдёЂдёЄAPI Tokenпј€еЏ€з§°API Keyпј‰еЏЇд»ҐжЋ§е€¶еЇ№з”Ёж€·ж•Џж„џж•°жЌ®зљ„и®їй—®гЂ‚еѕ®жњЌеЉЎеє”з”ЁжЏђдѕ›дёЂдёЄAPI Tokenзљ„з”џж€ђз•ЊйќўпјЊз”Ёж€·з™»еЅ•еђЋеЏЇд»Ґз”џж€ђи‡Єе·±зљ„API TokenпјЊе№¶ењЁз¬¬дё‰ж–№еє”з”ЁдЅїз”ЁиЇҐAPI Tokenи®їй—®еѕ®жњЌеЉЎзљ„APIгЂ‚ењЁиї™з§Ќжѓ…е†µдё‹пјЊдёЂи€¬еЏЄе…Ѓи®ёз¬¬дё‰ж–№еє”з”Ёи®їй—®иЇҐTokenж‰Ђе±ћз”Ёж€·и‡Єиє«зљ„ж•°жЌ®пјЊиЂЊдёЌиѓЅи®їй—®е…¶д»–з”Ёж€·зљ„ж•Џж„џз§Ѓжњ‰ж•°жЌ®гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дѕ‹е¦‚Githubе°±жЏђдѕ›дє†Personal API TokenеЉџиѓЅпјЊз”Ёж€·еЏЇд»ҐењЁ&lt;a href=&#34;https://github.com/settings/tokens&#34;&gt;Githubзљ„ејЂеЏ‘иЂ…и®ѕзЅ®з•Њйќў&lt;/a&gt;дё­е€›е»єTokenпјЊз„¶еђЋдЅїз”ЁиЇҐTokenжќҐи®їй—®Githubзљ„APIгЂ‚ењЁе€›е»єTokenж—¶пјЊеЏЇд»Ґи®ѕзЅ®иЇҐTokenеЏЇд»Ґи®їй—®з”Ёж€·зљ„е“Єдє›ж•°жЌ®пјЊе¦‚жџҐзњ‹RepoдїЎжЃЇпјЊе€ й™¤RepoпјЊжџҐзњ‹з”Ёж€·дїЎжЃЇпјЊж›ґж–°з”Ёж€·дїЎжЃЇз­‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenжќҐи®їй—®Github API&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -u zhaohuabing:fbdf8e8862252ed0f3ba9dba4e328c01ac93aeec https://api.github.com/user&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;blockquote&gt;&#xA;&lt;p&gt;дёЌз”ЁиЇ•дє†,иї™дёЌжЇж€‘зљ„зњџе®ћAPI Token, just for demonstration :-)&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI TokenиЂЊдёЌжЇз›ґжЋҐдЅїз”Ёз”Ёж€·еђЌ/еЇ†з ЃжќҐи®їй—®APIзљ„еҐЅе¤„жЇй™ЌдЅЋдє†з”Ёж€·еЇ†з ЃжљґйњІзљ„йЈЋй™©пјЊе№¶дё”еЏЇд»ҐйљЏж—¶ж”¶е›ћTokenзљ„жќѓй™ђиЂЊдёЌз”Ёдї®ж”№еЇ†з ЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”±дєЋAPI TokenеЏЄиѓЅи®їй—®жЊ‡е®љз”Ёж€·зљ„ж•°жЌ®пјЊе› ж­¤йЂ‚еђ€дєЋз”Ёж€·и‡Єе·±ејЂеЏ‘дёЂдє›и„љжњ¬ж€–е°ЏзЁ‹еєЏеЇ№еє”з”Ёдё­и‡Єе·±зљ„ж•°жЌ®иї›иЎЊж“ЌдЅњгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;oauth&#34;&gt;OAuth&lt;/h3&gt;&#xA;&lt;p&gt;жџђдє›з¬¬дё‰ж–№еє”з”ЁйњЂи¦Ѓи®їй—®дёЌеђЊз”Ёж€·зљ„ж•°жЌ®пјЊж€–иЂ…еЇ№е¤љдёЄз”Ёж€·зљ„ж•°жЌ®иї›иЎЊж•ґеђ€е¤„зђ†пјЊе€™еЏЇд»ҐиЂѓи™‘й‡‡з”ЁOAuthгЂ‚й‡‡з”ЁOAuthпјЊеЅ“з¬¬дё‰ж–№еє”з”Ёи®їй—®жњЌеЉЎж—¶пјЊеє”з”ЁдјљжЏђз¤єз”Ёж€·жЋ€жќѓз¬¬дё‰ж–№еє”з”Ёз›ёеє”зљ„и®їй—®жќѓй™ђпјЊж №жЌ®з”Ёж€·зљ„жЋ€жќѓж“ЌдЅњз»“жћњз”џж€ђз”ЁдєЋи®їй—®зљ„TokenпјЊд»ҐеЇ№з¬¬дё‰ж–№еє”з”Ёзљ„ж“ЌдЅњиЇ·ж±‚иї›иЎЊи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еђЊж ·д»ҐGithubдёєдѕ‹пјЊдёЂдє›з¬¬дё‰ж–№еє”з”Ёе¦‚Travis CIпјЊGitBookз­‰е°±жЇйЂљиї‡OAuthе’ЊGithubиї›иЎЊй›†ж€ђзљ„гЂ‚&#xA;OAuthй’€еЇ№дёЌеђЊењєж™Їжњ‰дёЌеђЊзљ„и®¤иЇЃжµЃзЁ‹пјЊдёЂдёЄе…ёећ‹зљ„и®¤иЇЃжµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·еђ‘OAuthе®ўж€·з«ЇзЁ‹еєЏеЏ‘иµ·дёЂдёЄиЇ·ж±‚пјЊOAuthе®ўж€·з«ЇзЁ‹еєЏењЁе¤„зђ†иЇҐиЇ·ж±‚ж—¶еЏ‘зЋ°йњЂи¦Ѓи®їй—®з”Ёж€·ењЁиµ„жєђжњЌеЉЎе™Ёдё­зљ„ж•°жЌ®гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†з”Ёж€·иЇ·ж±‚й‡Ќе®љеђ‘е€°и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇҐиЇ·ж±‚дё­еЊ…еђ«дёЂдёЄcallbackзљ„URLгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™Ёиї”е›ћжЋ€жќѓйЎµйќўпјЊи¦Ѓж±‚з”Ёж€·еЇ№OAuthе®ўж€·з«Їзљ„иµ„жєђиЇ·ж±‚иї›иЎЊжЋ€жќѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·еЇ№иЇҐж“ЌдЅњиї›иЎЊжЋ€жќѓеђЋпјЊи®¤иЇЃжњЌеЉЎе™Ёе°†иЇ·ж±‚й‡Ќе®љеђ‘е€°е®ўж€·з«ЇзЁ‹еєЏзљ„callback urlпјЊе°†жЋ€жќѓз Ѓиї”е›ћз»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏе°†жЋ€жќѓз ЃеЏ‘йЂЃз»™и®¤иЇЃжњЌеЉЎе™ЁпјЊиЇ·ж±‚tokenгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;и®¤иЇЃжњЌеЉЎе™ЁйЄЊиЇЃжЋ€жќѓз ЃеђЋе°†tokenйўЃеЏ‘з»™е®ўж€·з«ЇзЁ‹еєЏгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁйўЃеЏ‘зљ„tokenи®їй—®иµ„жєђпјЊе®Њж€ђз”Ёж€·иЇ·ж±‚гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљ&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;OAuthдё­жЊ‰з…§еЉџиѓЅеЊєе€†дє†иµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™Ёиї™дё¤дёЄи§’и‰ІпјЊењЁе®ћзЋ°ж—¶иї™дё¤дёЄи§’и‰ІеёёеёёжЇеђЊдёЂдёЄеє”з”ЁгЂ‚е°†иЇҐжµЃзЁ‹е›ѕдё­зљ„еђ„дёЄи§’и‰ІеЇ№еє”е€°Githubзљ„дѕ‹е­ђдё­пјЊиµ„жєђжњЌеЉЎе™Ёе’Њи®¤иЇЃжњЌеЉЎе™ЁйѓЅжЇGithubпјЊе®ўж€·з«ЇзЁ‹еєЏжЇTravis CIж€–иЂ…GitBookпјЊз”Ёж€·е€™жЇдЅїз”ЁTravis CIж€–иЂ…GitBookзљ„з›ґжЋҐз”Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;жњ‰дєєеЏЇиѓЅдјљз–‘жѓ‘ењЁиЇҐжµЃзЁ‹дё­дёєдЅ•и¦ЃдЅїз”ЁдёЂдёЄжЋ€жќѓз Ѓ(Authorization Code)жќҐз”іиЇ·TokenпјЊиЂЊдёЌжЇз”±и®¤иЇЃжњЌеЉЎе™Ёз›ґжЋҐиї”е›ћTokenз»™е®ўж€·з«ЇгЂ‚OAuthиї™ж ·и®ѕи®Ўзљ„еЋџе› жЇењЁй‡Ќе®љеђ‘е€°е®ўж€·з«ЇCallback URLзљ„иї‡зЁ‹дё­дјљз»Џиї‡з”Ёж€·д»Јзђ†пј€жµЏи§€е™Ёпј‰пјЊе¦‚жћњз›ґжЋҐдј йЂ’Tokenе­ењЁиў«зЄѓеЏ–зљ„йЈЋй™©гЂ‚й‡‡з”ЁжЋ€жќѓз Ѓзљ„ж–№ејЏпјЊз”іиЇ·Tokenж—¶е®ўж€·з«Їз›ґжЋҐе’Њи®¤иЇЃжњЌеЉЎе™Ёиї›иЎЊдє¤дє’пјЊе№¶дё”и®¤иЇЃжњЌеЉЎжњџењЁе¤„зђ†е®ўж€·з«Їзљ„Tokenз”іиЇ·иЇ·ж±‚ж—¶иїдјљеЇ№е®ўж€·з«Їиї›иЎЊиє«д»Ѕи®¤иЇЃпјЊйЃїе…Ќе…¶д»–дєєдјЄйЂ е®ўж€·з«Їиє«д»ЅжќҐдЅїз”Ёи®¤иЇЃз Ѓз”іиЇ·TokenгЂ‚&#xA;дё‹йќўжЇдёЂдёЄе®ўж€·з«ЇзЁ‹еєЏй‡‡з”ЁAuthorization CodeжќҐз”іиЇ·Tokenзљ„з¤єдѕ‹пјЊclient_idе’Њclient_secretиў«з”ЁжќҐйЄЊиЇЃе®ўж€·з«Їзљ„иє«д»ЅгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;POST /oauth/token HTTP/1.1&#xD;&#xA;Host: authorization-server.com&#xD;&#xA; &#x9;&#x9;&#x9;&#xD;&#xA;grant_type=authorization_code&#xD;&#xA;&amp;amp;code=xxxxxxxxxxx&#xD;&#xA;&amp;amp;redirect_uri=https://example-app.com/redirect&#xD;&#xA;&amp;amp;client_id=xxxxxxxxxx&#xD;&#xA;&amp;amp;client_secret=xxxxxxxxxx&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-05-23-external_system_auth/oauth_web_server_flow.png&#34; alt=&#34;OAuthи®¤иЇЃжµЃзЁ‹&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;p&gt;еЏ¦е¤–ењЁи°€еЏЉOAuthж—¶пјЊж€‘д»¬йњЂи¦ЃжіЁж„Џеѕ®жњЌеЉЎеє”з”ЁдЅњдёєOAuthе®ўж€·з«Їе’ЊOAuthжњЌеЉЎе™Ёзљ„дё¤з§ЌдёЌеђЊењєж™Ї:&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ</title>
      <link>//localhost:1313/2018/05/23/service_2_service_auth/</link>
      <pubDate>Wed, 23 May 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/service_2_service_auth/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&#34;&gt;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;p&gt;й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;!-- raw HTML omitted --&gt;&#xA;дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Wed, 23 May 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁиї™дёЂзі»е€—ж–‡з« й‡ЊпјЊж€‘е°†е°ќиЇ•е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;з›®еЅ•&#34;&gt;з›®еЅ•&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з›®еЅ•&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з›ёеЇ№дєЋдј з»џеЌ•дЅ“еє”з”ЁпјЊеѕ®жњЌеЉЎжћ¶жћ„дё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°ењєж™Їж›ґдёєе¤Ќжќ‚пјЊж¶‰еЏЉе€°з”Ёж€·и®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊз¬¬дё‰ж–№еє”з”Ёи®їй—®еѕ®жњЌеЉЎеє”з”ЁпјЊеє”з”Ёе†…е¤љдёЄеѕ®жњЌеЉЎд№‹й—ґз›ёдє’и®їй—®з­‰е¤љз§Ќењєж™ЇпјЊжЇЏз§Ќењєж™Їдё‹зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€йѓЅйњЂи¦ЃиЂѓи™‘е€°пјЊд»ҐдїќиЇЃеє”з”ЁзЁ‹еєЏзљ„е®‰е…ЁжЂ§гЂ‚жњ¬зі»е€—еЌљж–‡е°†е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&#xA;&lt;img src=&#34;//img/2018-02-03-authentication-and-authorization-of-microservice/auth-scenarios.png&#34; alt=&#34;еѕ®жњЌеЉЎи®¤иЇЃе’Њй‰ґжќѓж¶‰еЏЉе€°зљ„дё‰з§Ќењєж™Ї&#34;&gt;&lt;/p&gt;&#xA;&lt;!-- raw HTML omitted --&gt;&#xA;&lt;h2 id=&#34;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&#34;&gt;з”Ёж€·и®¤иЇЃе’Њй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·иє«д»Ѕи®¤иЇЃ&#34;&gt;з”Ёж€·иє«д»Ѕи®¤иЇЃ&lt;/h3&gt;&#xA;&lt;p&gt;дёЂдёЄе®Њж•ґзљ„еѕ®жњЌеЉЎеє”з”ЁжЇз”±е¤љдёЄз›ёдє’з‹¬з«‹зљ„еѕ®жњЌеЉЎиї›зЁ‹з»„ж€ђзљ„пјЊеЇ№жЇЏдёЄеѕ®жњЌеЉЎзљ„и®їй—®йѓЅйњЂи¦Ѓиї›иЎЊз”Ёж€·и®¤иЇЃгЂ‚е¦‚жћње°†з”Ёж€·и®¤иЇЃзљ„е·ҐдЅњж”ѕе€°жЇЏдёЄеѕ®жњЌеЉЎдё­пјЊе­ењЁдё‹йќўдёЂдє›й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;йњЂи¦ЃењЁеђ„дёЄеѕ®жњЌеЉЎдё­й‡Ќе¤Ќе®ћзЋ°иї™йѓЁе€†е…¬е…±йЂ»иѕ‘гЂ‚и™Ѕз„¶ж€‘д»¬еЏЇд»ҐдЅїз”Ёд»Јз Ѓеє“е¤Ќз”ЁйѓЁе€†д»Јз ЃпјЊдЅ†иї™еЏ€дјљеЇји‡ґж‰Ђжњ‰еѕ®жњЌеЉЎеЇ№з‰№е®љд»Јз Ѓеє“еЏЉе…¶з‰€жњ¬е­ењЁдѕќиµ–пјЊеЅ±е“Ќеѕ®жњЌеЉЎиЇ­иЁЂ/жЎ†жћ¶йЂ‰ж‹©зљ„зЃµжґ»жЂ§гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†и®¤иЇЃе’Њй‰ґжќѓзљ„е…¬е…±йЂ»иѕ‘ж”ѕе€°еѕ®жњЌеЉЎе®ћзЋ°дё­иїќиѓЊдє†еЌ•дёЂиЃЊиґЈеЋџзђ†пјЊејЂеЏ‘дєєе‘еє”й‡Ќз‚№е…іжіЁеѕ®жњЌеЉЎи‡Єиє«зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;з”Ёж€·йњЂи¦Ѓе€†е€«з™»еЅ•д»Ґи®їй—®зі»з»џдё­дёЌеђЊзљ„жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;з”±дєЋењЁеѕ®жњЌеЉЎжћ¶жћ„дё­д»ҐAPI GatewayдЅњдёєеЇ№е¤–жЏђдѕ›жњЌеЉЎзљ„е…ҐеЏЈпјЊе› ж­¤еЏЇд»ҐењЁAPI Gatewayе¤„жЏђдѕ›з»џдёЂзљ„з”Ёж€·и®¤иЇЃпјЊз”Ёж€·еЏЄйњЂи¦Ѓз™»еЅ•дёЂж¬ЎпјЊе°±еЏЇд»Ґи®їй—®зі»з»џдё­ж‰Ђжњ‰еѕ®жњЌеЉЎжЏђдѕ›зљ„жњЌеЉЎгЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&#34;&gt;з”Ёж€·зЉ¶жЂЃдїќжЊЃ&lt;/h3&gt;&#xA;&lt;p&gt;HTTPжЇдёЂдёЄж— зЉ¶жЂЃзљ„еЌЏи®®пјЊеЇ№жњЌеЉЎе™ЁжќҐиЇґпјЊз”Ёж€·зљ„жЇЏж¬ЎHTTPиЇ·ж±‚жЇз›ёдє’з‹¬з«‹зљ„гЂ‚дє’иЃ”зЅ‘жЇдёЂдёЄе·Ёе¤§зљ„е€†еёѓејЏзі»з»џпјЊHTTPеЌЏи®®дЅњдёєдє’иЃ”зЅ‘дёЉзљ„дёЂдёЄй‡Ќи¦ЃеЌЏи®®пјЊењЁи®ѕи®Ўд№‹е€ќи¦ЃиЂѓи™‘е€°е¤§й‡Џеє”з”Ёи®їй—®зљ„ж•€зЋ‡й—®йўгЂ‚ж— зЉ¶жЂЃж„Џе‘ізќЂжњЌеЉЎз«ЇеЏЇд»ҐжЉЉе®ўж€·з«Їзљ„иЇ·ж±‚ж №жЌ®йњЂи¦ЃеЏ‘йЂЃе€°й›†зѕ¤дё­зљ„д»»дЅ•дёЂдёЄиЉ‚з‚№пјЊHTTPзљ„ж— зЉ¶жЂЃи®ѕи®ЎеЇ№иґџиЅЅеќ‡иЎЎжњ‰жЋжѕзљ„еҐЅе¤„пјЊз”±дєЋжІЎжњ‰зЉ¶жЂЃпјЊз”Ёж€·иЇ·ж±‚еЏЇд»Ґиў«е€†еЏ‘е€°д»»ж„ЏдёЂдёЄжњЌеЉЎе™ЁпјЊеє”з”Ёд№џеЏЇд»ҐењЁйќ иї‘з”Ёж€·зљ„зЅ‘з»њиѕ№зјйѓЁзЅІзј“е­жњЌеЉЎе™ЁгЂ‚еЇ№дєЋдёЌйњЂи¦Ѓиє«д»Ѕи®¤иЇЃзљ„жњЌеЉЎпјЊдѕ‹е¦‚жµЏи§€ж–°й—»зЅ‘йЎµз­‰пјЊиї™жЇжІЎжњ‰д»»дЅ•й—®йўзљ„гЂ‚дЅ†HTTPж€ђдёєдјЃдёљеє”з”Ёзљ„дёЂдёЄдє‹е®ћж ‡е‡†еђЋпјЊдјЃдёљеє”з”ЁйњЂи¦Ѓдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃе’Њиє«д»Ѕд»Ґиї›иЎЊж›ґдёҐж јзљ„жќѓй™ђжЋ§е€¶гЂ‚е› ж­¤йњЂи¦ЃењЁHTTPеЌЏи®®еџєзЎЂдёЉй‡‡з”ЁдёЂз§Ќж–№ејЏдїќе­з”Ёж€·зљ„з™»еЅ•зЉ¶жЂЃпјЊйЃїе…Ќз”Ёж€·жЇЏеЏ‘иµ·дёЂж¬ЎиЇ·ж±‚йѓЅйњЂи¦Ѓиї›иЎЊйЄЊиЇЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дј з»џж–№ејЏжЇењЁжњЌеЉЎе™Ёз«Їй‡‡з”ЁCookieжќҐдїќе­з”Ёж€·зЉ¶жЂЃпјЊз”±дєЋењЁжњЌеЉЎе™ЁжЇжњ‰зЉ¶жЂЃзљ„пјЊеЇ№жњЌеЉЎе™Ёзљ„ж°ґе№іж‰©е±•жњ‰еЅ±е“ЌгЂ‚ењЁеѕ®жњЌеЉЎжћ¶жћ„дё‹е»єи®®й‡‡з”ЁTokenжќҐи®°еЅ•з”Ёж€·з™»еЅ•зЉ¶жЂЃгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenе’ЊSeesionдё»и¦Ѓзљ„дёЌеђЊз‚№жЇе­е‚Ёзљ„ењ°ж–№дёЌеђЊгЂ‚SessionжЇй›†дё­е­е‚ЁењЁжњЌеЉЎе™Ёдё­зљ„пј›иЂЊTokenжЇз”Ёж€·и‡Єе·±жЊЃжњ‰зљ„пјЊдёЂи€¬д»Ґcookieзљ„еЅўејЏе­е‚ЁењЁжµЏи§€е™Ёдё­гЂ‚Tokenдё­дїќе­дє†з”Ёж€·зљ„иє«д»ЅдїЎжЃЇпјЊжЇЏж¬ЎиЇ·ж±‚йѓЅдјљеЏ‘йЂЃз»™жњЌеЉЎе™ЁпјЊжњЌеЉЎе™Ёе› ж­¤еЏЇд»Ґе€¤ж–­и®їй—®иЂ…зљ„иє«д»ЅпјЊе№¶е€¤ж–­е…¶еЇ№иЇ·ж±‚зљ„иµ„жєђжњ‰жІЎжњ‰и®їй—®жќѓй™ђгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Tokenз”ЁдєЋиЎЁжЋз”Ёж€·иє«д»ЅпјЊе› ж­¤йњЂи¦ЃеЇ№е…¶е†…е®№иї›иЎЊеЉ еЇ†пјЊйЃїе…Ќиў«иЇ·ж±‚ж–№ж€–иЂ…з¬¬дё‰иЂ…зЇЎж”№гЂ‚&lt;a href=&#34;https://jwt.io&#34;&gt;JWT(Json Web Token)&lt;/a&gt;жЇдёЂдёЄе®љд№‰Tokenж јејЏзљ„ејЂж”ѕж ‡е‡†(RFC 7519),е®љд№‰дє†Tokenзљ„е†…е®№пјЊеЉ еЇ†ж–№ејЏпјЊе№¶жЏђдѕ›дє†еђ„з§ЌиЇ­иЁЂзљ„libгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;JWT Tokenзљ„з»“жћ„йќћеёёз®ЂеЌ•пјЊеЊ…ж‹¬дё‰йѓЁе€†пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Header&lt;!-- raw HTML omitted --&gt;&#xA;е¤ґйѓЁеЊ…еђ«з±»ећ‹,дёєе›єе®љеЂјJWTгЂ‚з„¶еђЋжЇJWTдЅїз”Ёзљ„Hashз®—жі•гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;alg&amp;#34;: &amp;#34;HS256&amp;#34;,&#xD;&#xA;  &amp;#34;typ&amp;#34;: &amp;#34;JWT&amp;#34;&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Payload&lt;!-- raw HTML omitted --&gt;&#xA;еЊ…еђ«еЏ‘еёѓиЂ…пјЊиї‡жњџж—¶й—ґпјЊз”Ёж€·еђЌз­‰ж ‡е‡†дїЎжЃЇпјЊд№џеЏЇд»Ґж·»еЉ з”Ёж€·и§’и‰ІпјЊз”Ёж€·и‡Єе®љд№‰зљ„дїЎжЃЇгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;  &amp;#34;sub&amp;#34;: &amp;#34;1234567890&amp;#34;,&#xD;&#xA;  &amp;#34;name&amp;#34;: &amp;#34;John Doe&amp;#34;,&#xD;&#xA;  &amp;#34;admin&amp;#34;: true&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;&#xA;&lt;li&gt;Signature&lt;!-- raw HTML omitted --&gt;&#xA;TokenйўЃеЏ‘ж–№зљ„з­ѕеђЌпјЊз”ЁдєЋе®ўж€·з«ЇйЄЊиЇЃTokenйўЃеЏ‘ж–№зљ„иє«д»ЅпјЊд№џз”ЁдєЋжњЌеЉЎе™ЁйІж­ўTokenиў«зЇЎж”№гЂ‚&#xA;з­ѕеђЌз®—жі•&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;HMACSHA256(&#xD;&#xA;  base64UrlEncode(header) + &amp;#34;.&amp;#34; +&#xD;&#xA;  base64UrlEncode(payload),&#xD;&#xA;  secret)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;иї™дё‰йѓЁе€†дЅїз”ЁBase64зј–з ЃеђЋз»„еђ€ењЁдёЂиµ·пјЊж€ђдёєжњЂз»€иї”е›ћз»™е®ўж€·з«Їзљ„TokenдёІпјЊжЇЏйѓЁе€†д№‹й—ґй‡‡з”Ё&amp;quot;.&amp;ldquo;е€†йљ”гЂ‚дё‹е›ѕжЇдёЉйќўдѕ‹е­ђжњЂз»€еЅўж€ђзљ„Token&#xA;&lt;img src=&#34;https://cdn.auth0.com/content/jwt/encoded-jwt3.png&#34; alt=&#34;xx&#34;&gt;&#xA;й‡‡з”ЁTokenиї›иЎЊз”Ёж€·и®¤иЇЃпјЊжњЌеЉЎе™Ёз«ЇдёЌе†Ќдїќе­з”Ёж€·зЉ¶жЂЃпјЊе®ўж€·з«ЇжЇЏж¬ЎиЇ·ж±‚ж—¶йѓЅйњЂи¦Ѓе°†TokenеЏ‘йЂЃе€°жњЌеЉЎе™Ёз«Їиї›иЎЊиє«д»ЅйЄЊиЇЃгЂ‚TokenеЏ‘йЂЃзљ„ж–№ејЏ&lt;a href=&#34;https://tools.ietf.org/html/rfc6750&#34;&gt;rfc6750&lt;/a&gt;иї›иЎЊдє†и§„е®љпјЊй‡‡з”ЁдёЂдёЄ Authorization: Bearer HHTP Headerиї›иЎЊеЏ‘йЂЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†</title>
      <link>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</link>
      <pubDate>Wed, 23 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/23/istio-auto-injection-with-webhook/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў</title>
      <link>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</link>
      <pubDate>Mon, 21 May 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/21/algolia-integration-with-jekyll/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;This series of articles are my notes of &amp;ldquo;Bitcoin and Cryptocurrency Technologies&amp;rdquo; online course.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;table-of-content&#34;&gt;Table of Content&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Table of Content&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;scrooge-coin-transaction&#34;&gt;Scrooge Coin Transaction&lt;/h2&gt;&#xA;&lt;p&gt;Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn&amp;rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:&#xA;&lt;img src=&#34;//localhost:1313/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png&#34; alt=&#34;Scrooge Coin&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е·ќиҐїз§еўѓжЋўй™©</title>
      <link>//localhost:1313/2018/05/01/may-day-jiulonghu/</link>
      <pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/01/may-day-jiulonghu/</guid>
      <description>&lt;h2 id=&#34;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&#34;&gt;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&lt;/h2&gt;&#xA;&lt;p&gt;дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚&#xA;е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Helmд»‹з»Ќ</title>
      <link>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</link>
      <pubDate>Mon, 16 Apr 2018 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/16/using-helm-to-deploy-to-kubernetes/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&#34;&gt;Kubernetesеє”з”ЁйѓЁзЅІзљ„жЊ‘ж€&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬й¦–е…€жќҐзњ‹зњ‹KubernetesпјЊkubernetesжЏђдѕ›дє†еџєдєЋе®№е™Ёзљ„еє”з”Ёй›†зѕ¤з®Ўзђ†пјЊдёєе®№е™ЁеЊ–еє”з”ЁжЏђдѕ›дє†йѓЁзЅІиїђиЎЊгЂЃиµ„жєђи°ѓеє¦гЂЃжњЌеЉЎеЏ‘зЋ°е’ЊеЉЁжЂЃдјёзј©з­‰дёЂзі»е€—е®Њж•ґеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;kubernetesзљ„ж ёеїѓи®ѕи®Ўзђ†еїµжЇ: з”Ёж€·е®љд№‰еє”з”ЁзЁ‹еєЏзљ„и§„ж јпјЊиЂЊkubernetesе€™иґџиґЈжЊ‰з…§е®љд№‰зљ„и§„е€™йѓЁзЅІе№¶иїђиЎЊеє”з”ЁзЁ‹еєЏпјЊе¦‚жћњеє”з”Ёзі»з»џе‡єзЋ°й—®йўеЇји‡ґеЃЏз¦»дє†е®љд№‰зљ„и§„ж јпјЊkubernetesиґџиґЈеЇ№е…¶иї›иЎЊи‡ЄеЉЁдї®ж­ЈгЂ‚дѕ‹е¦‚еє”з”Ёи§„ж ји¦Ѓж±‚йѓЁзЅІдё¤дёЄе®ћдѕ‹пјЊе…¶дё­дёЂдёЄе®ћдѕ‹еј‚еёёз»€ж­ўдє†пјЊkubernetesдјљжЈЂжџҐе€°е№¶й‡Ќж–°еђЇеЉЁдёЂдёЄж–°зљ„е®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;з”Ёж€·йЂљиї‡дЅїз”Ёkubernetes APIеЇ№и±ЎжќҐжЏЏиї°еє”з”ЁзЁ‹еєЏи§„ж јпјЊеЊ…ж‹¬PodпјЊServiceпјЊVolumeпјЊNamespaceпјЊReplicaSetпјЊDeploymentпјЊJobз­‰з­‰гЂ‚дёЂи€¬иї™дє›еЇ№и±ЎйњЂи¦Ѓе†™е…ҐдёЂзі»е€—зљ„yamlж–‡д»¶дё­пјЊз„¶еђЋйЂљиї‡kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectlиї›иЎЊйѓЁзЅІгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»Ґдё‹йќўзљ„wordpressеє”з”ЁзЁ‹еєЏдёєдѕ‹пјЊж¶‰еЏЉе€°е¤љдёЄkubernetes APIеЇ№и±ЎпјЊиї™дє›kubernetes APIеЇ№и±Ўе€†ж•ЈењЁе¤љдёЄyamlж–‡д»¶дё­гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ Wordpressеє”з”ЁзЁ‹еєЏдё­ж¶‰еЏЉе€°зљ„kubernetes APIеЇ№и±Ў&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/wordpress.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»Ґзњ‹е€°пјЊењЁиї›иЎЊkubernetesиЅЇд»¶йѓЁзЅІж—¶пјЊж€‘д»¬йќўдёґдё‹иї°й—®йўпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е¦‚дЅ•з®Ўзђ†пјЊзј–иѕ‘е’Њж›ґж–°иї™дє›иї™дє›е€†ж•Јзљ„kubernetesеє”з”Ёй…ЌзЅ®ж–‡д»¶пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•жЉЉдёЂеҐ—зљ„з›ёе…ій…ЌзЅ®ж–‡д»¶дЅњдёєдёЂдёЄеє”з”Ёиї›иЎЊз®Ўзђ†пјџ&lt;/li&gt;&#xA;&lt;li&gt;е¦‚дЅ•е€†еЏ‘е’Њй‡Ќз”Ёkubernetesзљ„еє”з”Ёй…ЌзЅ®пјџ&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Helmзљ„еј•е…Ґеѕ€еҐЅењ°и§Је†ідёЉйќўиї™дє›й—®йўгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmжЇд»Ђд№€&#34;&gt;HelmжЇд»Ђд№€пјџ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;еѕ€е¤љдєєйѓЅдЅїз”Ёиї‡Ubuntuдё‹зљ„ap-getж€–иЂ…CentOSдё‹зљ„yum, иї™дё¤иЂ…йѓЅжЇLinuxзі»з»џдё‹зљ„еЊ…з®Ўзђ†е·Ґе…·гЂ‚й‡‡з”Ёapt-get/yum,еє”з”ЁејЂеЏ‘иЂ…еЏЇд»Ґз®Ўзђ†еє”з”ЁеЊ…д№‹й—ґзљ„дѕќиµ–е…ізі»пјЊеЏ‘еёѓеє”з”Ёпј›з”Ёж€·е€™еЏЇд»Ґд»Ґз®ЂеЌ•зљ„ж–№ејЏжџҐж‰ѕгЂЃе®‰иЈ…гЂЃеЌ‡зє§гЂЃеЌёиЅЅеє”з”ЁзЁ‹еєЏгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ж€‘д»¬еЏЇд»Ґе°†Helmзњ‹дЅњKubernetesдё‹зљ„apt-get/yumгЂ‚HelmжЇDeis (&lt;a href=&#34;https://deis.com/&#34;&gt;https://deis.com/&lt;/a&gt;) ејЂеЏ‘зљ„дёЂдёЄз”ЁдєЋkubernetesзљ„еЊ…з®Ўзђ†е™ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋеє”з”ЁеЏ‘еёѓиЂ…иЂЊиЁЂпјЊеЏЇд»ҐйЂљиї‡Helmж‰“еЊ…еє”з”ЁпјЊз®Ўзђ†еє”з”Ёдѕќиµ–е…ізі»пјЊз®Ўзђ†еє”з”Ёз‰€жњ¬е№¶еЏ‘еёѓеє”з”Ёе€°иЅЇд»¶д»“еє“гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЇ№дєЋдЅїз”ЁиЂ…иЂЊиЁЂпјЊдЅїз”ЁHelmеђЋдёЌз”ЁйњЂи¦Ѓдє†и§ЈKubernetesзљ„YamlиЇ­жі•е№¶зј–е†™еє”з”ЁйѓЁзЅІж–‡д»¶пјЊеЏЇд»ҐйЂљиї‡Helmдё‹иЅЅе№¶ењЁkubernetesдёЉе®‰иЈ…йњЂи¦Ѓзљ„еє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й™¤ж­¤д»Ґе¤–пјЊHelmиїжЏђдѕ›дє†kubernetesдёЉзљ„иЅЇд»¶йѓЁзЅІпјЊе€ й™¤пјЊеЌ‡зє§пјЊе›ћж»љеє”з”Ёзљ„ејєе¤§еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&#34;&gt;Helmз»„д»¶еЏЉз›ёе…іжњЇиЇ­&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;ејЂе§‹жЋҐи§¦Helmж—¶йЃ‡е€°зљ„дёЂдёЄеёёи§Ѓй—®йўе°±жЇHelmдё­зљ„дёЂдє›ж¦‚еїµе’ЊжњЇиЇ­йќћеёёи®©дєєиї·жѓ‘пјЊж€‘ејЂе§‹е­¦д№ Helmе°±йЃ‡е€°иї™дёЄй—®йўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬е…€дє†и§ЈдёЂдё‹Helmзљ„иї™дє›з›ёе…іж¦‚еїµе’ЊжњЇиЇ­гЂ‚&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Helm&lt;/p&gt;&#xA;&lt;p&gt;Kubernetesзљ„еє”з”Ёж‰“еЊ…е·Ґе…·пјЊд№џжЇе‘Ѕд»¤иЎЊе·Ґе…·зљ„еђЌз§°гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Tiller&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„жњЌеЉЎз«ЇпјЊйѓЁзЅІењЁKubernetesй›†зѕ¤дё­пјЊз”ЁдєЋе¤„зђ†Helmзљ„з›ёе…іе‘Ѕд»¤гЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Chart&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„ж‰“еЊ…ж јејЏпјЊе†…йѓЁеЊ…еђ«дє†дёЂз»„з›ёе…ізљ„kubernetesиµ„жєђгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Repoistory&lt;/p&gt;&#xA;&lt;p&gt;Helmзљ„иЅЇд»¶д»“еє“пјЊrepositoryжњ¬иґЁдёЉжЇдёЂдёЄwebжњЌеЉЎе™ЁпјЊиЇҐжњЌеЉЎе™Ёдїќе­дє†chartиЅЇд»¶еЊ…д»Ґдѕ›дё‹иЅЅпјЊе№¶жњ‰жЏђдѕ›дёЂдёЄиЇҐrepositoryзљ„chartеЊ…зљ„жё…еЌ•ж–‡д»¶д»Ґдѕ›жџҐиЇўгЂ‚ењЁдЅїз”Ёж—¶пјЊHelmеЏЇд»ҐеЇ№жЋҐе¤љдёЄдёЌеђЊзљ„RepositoryгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;Release&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”ЁHelm installе‘Ѕд»¤ењЁKubernetesй›†зѕ¤дё­е®‰иЈ…зљ„Chartз§°дёєReleaseгЂ‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;йњЂи¦Ѓз‰№е€«жіЁж„Џзљ„жЇпјЊ Helmдё­жЏђе€°зљ„Releaseе’Њж€‘д»¬йЂљеёёж¦‚еїµдё­зљ„з‰€жњ¬жњ‰ж‰ЂдёЌеђЊпјЊиї™й‡Њзљ„ReleaseеЏЇд»Ґзђ†и§ЈдёєHelmдЅїз”ЁChartеЊ…йѓЁзЅІзљ„дёЂдёЄеє”з”Ёе®ћдѕ‹гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е…¶е®ћHelmдё­зљ„ReleaseеЏ«еЃљDeploymentж›ґеђ€йЂ‚гЂ‚дј°и®Ўе› дёєDeploymentиї™дёЄж¦‚еїµе·Із»Џиў«KubernetesдЅїз”Ёдє†пјЊе› ж­¤Helmж‰Ќй‡‡з”Ёдє†Releaseиї™дёЄжњЇиЇ­гЂ‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;дё‹йќўиї™еј е›ѕжЏЏиї°дє†Helmзљ„е‡ дёЄе…ій”®з»„д»¶Helmпј€е®ўж€·з«Їпј‰пјЊTillerпј€жњЌеЉЎе™Ёпј‰пјЊRepositoryпј€ChartиЅЇд»¶д»“еє“пј‰пјЊChartпј€иЅЇд»¶еЊ…пј‰д№‹е‰Ќзљ„е…ізі»гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ2пјљ HelmиЅЇд»¶жћ¶жћ„&#xA;&lt;img src=&#34;//localhost:1313/img/2018-04-16-using-helm-to-deploy-to-kubernetes/helm-architecture.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;е®‰иЈ…helm&#34;&gt;е®‰иЈ…Helm&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;дё‹йќўж€‘д»¬йЂљиї‡дёЂдёЄе®Њж•ґзљ„з¤єдѕ‹жќҐд»‹з»ЌHelmзљ„з›ёе…іж¦‚еїµпјЊе№¶е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂkubernetesеє”з”ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐеЏ‚иЂѓHelmзљ„её®еЉ©ж–‡жЎЈhttps://docs.helm.sh/using_helm/#installing-helm е®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁдєЊиї›е€¶зљ„ж–№ејЏе®‰иЈ…Helm&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;дё‹иЅЅ Helm &lt;a href=&#34;https://github.com/kubernetes/helm/releases&#34;&gt;https://github.com/kubernetes/helm/releases&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;и§ЈеЋ‹ tar -zxvf helm-v2.0.0-linux-amd64.tgz&lt;/li&gt;&#xA;&lt;li&gt;ж‹·иґќе€°binз›®еЅ• mv linux-amd64/helm /usr/local/bin/helm&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;з„¶еђЋдЅїз”Ёдё‹йќўзљ„е‘Ѕд»¤е®‰иЈ…жњЌеЉЎе™Ёз«Їз»„д»¶Tiller&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Helm init&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;жћ„е»єдёЂдёЄhelm-chart&#34;&gt;жћ„е»єдёЂдёЄHelm chart&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;и®©ж€‘д»¬ењЁе®ћи·µдё­жќҐдє†и§ЈHelmгЂ‚иї™й‡Ње°†дЅїз”ЁдёЂдёЄGoжµ‹иЇ•е°ЏзЁ‹еєЏпјЊи®©ж€‘д»¬е…€дёєиї™дёЄе°ЏзЁ‹еєЏе€›е»єдёЂдёЄHelm chartгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰</title>
      <link>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</link>
      <pubDate>Wed, 11 Apr 2018 09:32:00 +0000</pubDate>
      <guid>//localhost:1313/2018/04/11/service-mesh-vs-api-gateway/</guid>
      <description>&lt;h2 id=&#34;service-mesh-vs-api-gateway&#34;&gt;Service Mesh vs API Gateway&lt;/h2&gt;&#xA;&lt;p&gt;ењЁ&lt;a href=&#34;https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a&#34;&gt;е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« &lt;/a&gt;дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дёєдє†еЊєе€†API Gatewayе’ЊService MeshпјЊи®©ж€‘д»¬е…€е€†е€«зњ‹зњ‹дё¤иЂ…еђ„и‡Єзљ„е…ій”®з‰№еѕЃгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gateway-е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„apiеђ‘е¤–йѓЁжљґйњІ&#34;&gt;API Gateway: е°†жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIеђ‘е¤–йѓЁжљґйњІ&lt;/h2&gt;&#xA;&lt;p&gt;дЅїз”ЁAPI Gatewayзљ„дё»и¦Ѓз›®зљ„жЇе°†еѕ®жњЌеЉЎдЅњдёєиў«з®Ўзђ†зљ„APIжљґйњІпј€з»™е¤–йѓЁзі»з»џпј‰гЂ‚е› ж­¤пјЊж€‘д»¬ењЁAPI Gatewayе±‚ејЂеЏ‘зљ„APIж€–иЂ…иѕ№з•ЊжњЌеЉЎеЇ№е¤–жЏђдѕ›дє†дёљеЉЎеЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API/иѕ№з•ЊжњЌеЉЎи°ѓз”Ёдё‹жёёзљ„з»„еђ€ж€–иЂ…еЋџе­ђеѕ®жњЌеЉЎпјЊйЂљиї‡з»„еђ€/ж··иЈ…е¤љдёЄдё‹жёёеѕ®жњЌеЉЎзљ„ж–№ејЏжќҐжЏђдѕ›дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPI/EdgeжњЌеЉЎи°ѓз”Ёдё‹жёёжњЌеЉЎж—¶пјЊйњЂи¦Ѓй‡‡з”ЁдёЂз§ЌеЏЇйќ зљ„йЂљдїЎж–№ејЏпјЊеє”з”Ёдє†ж–­и·Їе™ЁпјЊи¶…ж—¶пјЊиґџиЅЅеќ‡иЎЎ/ж•…йљњиЅ¬з§»з­‰еЏЇйќ жЂ§жЁЎејЏгЂ‚е› ж­¤е¤§йѓЁе€†зљ„API Gatewayи§Је†іж–№жЎ€йѓЅе†…зЅ®дє†иї™дє›з‰№жЂ§гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayд№џе†…зЅ®дє†д»Ґдё‹з‰№жЂ§зљ„ж”ЇжЊЃпјЊеЊ…ж‹¬пјљжњЌеЉЎеЏ‘зЋ°пјЊе€†жћђпј€еЏЇи§ЃжЂ§пјљжЂ§иѓЅжЊ‡ж ‡пјЊз›‘жЋ§пјЊе€†еёѓејЏж—Ґеї—пјЊе€†еёѓејЏи°ѓз”ЁиїЅиёЄпј‰е’Ње®‰е…ЁгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;API Gatewayе’ЊAPIз®Ўзђ†з”џжЂЃзі»з»џзљ„е…¶д»–з»„д»¶зљ„е…ізі»зґ§еЇ†пјЊжЇ”е¦‚пјљ API её‚ењє/е•†еє—пјЊ API еЏ‘еёѓй—Ёж€·гЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;service-meshеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&#34;&gt;Service Meshпјљеѕ®жњЌеЉЎзљ„зЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–Ѕ&lt;/h2&gt;&#xA;&lt;p&gt;зЋ°ењЁж€‘д»¬жќҐзњ‹зњ‹Service Meshжњ‰е“Єдє›дёЌеђЊгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Service MeshжЇдёЂдёЄзЅ‘з»њйЂљдїЎеџєзЎЂи®ѕж–ЅпјЊ еЏЇд»Ґз”ЁдєЋе°†еє”з”Ёе±‚зљ„зЅ‘з»њйЂљдїЎеЉџиѓЅд»ЋдЅ зљ„жњЌеЉЎд»Јз Ѓдё­е‰Ґз¦»е‡єжќҐгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁService MeshпјЊ дЅ дёЌз”ЁењЁжњЌеЉЎд»Јз Ѓдё­е®ћзЋ°з”ЁдєЋеЏЇйќ йЂљдїЎзљ„жЁЎејЏе¦‚ж–­и·ЇпјЊи¶…ж—¶з­‰пјЊз±»дјјењ°пјЊService Meshд№џжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊжњЌеЉЎеЏЇи§ЃжЂ§з­‰е…¶д»–еЉџиѓЅгЂ‚&lt;/p&gt;&#xA;&lt;h2 id=&#34;api-gatewayе’Њservice-meshе®ћи·µ&#34;&gt;API Gatewayе’ЊService Meshе®ћи·µ&lt;/h2&gt;&#xA;&lt;p&gt;API Gatewayе’ЊService Meshд№‹й—ґзљ„дё»и¦ЃдёЌеђЊз‚№пјљAPI GatewayжЇжљґйњІAPI/иѕ№з•ЊжњЌеЉЎзљ„е…ій”®з»„д»¶пјЊиЂЊService Meshе€™д»…д»…жЇдёЂдёЄжњЌеЉЎй—ґйЂљдїЎзљ„еџєзЎЂи®ѕж–ЅпјЊе№¶дёЌдє†и§Јеє”з”Ёдё­зљ„дёљеЉЎйЂ»иѕ‘гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕиЇґжЋдє†API Gatewayе’ЊService Meshзљ„е…ізі»гЂ‚е¦‚еђЊе‰Ќйќўж‰ЂиЇґпјЊиї™дё¤иЂ…д№‹й—ґд№џжњ‰дёЂдє›й‡ЌеЏ зљ„йѓЁе€†пј€дѕ‹е¦‚ж–­и·Їе™Ёз­‰пј‰пјЊдЅ†й‡Ќи¦Ѓзљ„жЇйњЂи¦Ѓзђ†и§Јиї™дё¤иЂ…жЇз”ЁдєЋе®Ње…ЁдёЌеђЊзљ„з”ЁйЂ”гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е›ѕ1пјљ API Gatewayе’ЊService Meshе®ћи·µ&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//localhost:1313/img/2018-04-11-service-mesh-vs-api-gateway/service-mesh-vs-api-gateway.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;е¦‚дёЉе›ѕж‰Ђз¤єпјЊService MeshдЅњдёєSidecarпј€иѕ№иЅ¦пј‰е’ЊжњЌеЉЎдёЂиµ·йѓЁзЅІпјЊе®ѓжЇз‹¬з«‹дєЋжњЌеЉЎзљ„дёљеЉЎйЂ»иѕ‘зљ„гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊAPI Gateway жЏђдѕ›дє†ж‰Ђжњ‰зљ„APIжњЌеЉЎпј€иї™дє›APIжњЌеЉЎжњ‰жЋзЎ®е®љд№‰зљ„дёљеЉЎеЉџиѓЅпј‰пјЊе®ѓжЇеє”з”ЁдёљеЉЎйЂ»иѕ‘зљ„дёЂйѓЁе€†гЂ‚API GatewayеЏЇд»Ґе…·жњ‰е†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пјЊдЅ†е®ѓд№џеЏЇд»ҐдЅїз”ЁService MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпј€API Gateway-&amp;gt;Service Mesh-&amp;gt;Microservicesпј‰гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;ењЁAPIз®Ўзђ†е±‚ж¬ЎпјЊдЅ еЏЇд»ҐдЅїз”ЁAPI Gatewayе†…е»єзљ„жњЌеЉЎй—ґйЂљдїЎиѓЅеЉ›пј›д№џеЏЇд»ҐйЂљиї‡Service MeshжќҐи°ѓз”Ёдё‹жёёжњЌеЉЎпјЊд»Ґе°†еє”з”ЁзЅ‘з»њйЂљдїЎеЉџиѓЅд»Ћеє”з”ЁзЁ‹еєЏиЅ¬з§»е€°Service Meshдё­гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio</title>
      <link>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</link>
      <pubDate>Thu, 29 Mar 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/29/what-is-service-mesh-and-istio/</guid>
      <description>&lt;h2 id=&#34;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&#34;&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&lt;/h2&gt;&#xA;&lt;p&gt;дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†</title>
      <link>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</link>
      <pubDate>Tue, 13 Mar 2018 18:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/03/13/use-docker-behind-http-proxy/</guid>
      <description>&lt;h2 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h2&gt;&#xA;&lt;h3 id=&#34;и®ѕзЅ®dockerдЅїз”Ёhttp-proxy&#34;&gt;и®ѕзЅ®dockerдЅїз”Ёhttp proxy&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/default/docker&#xD;&#xA;&#xD;&#xA;export http_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export https_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTP_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTPS_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Vim Tips</title>
      <link>//localhost:1313/2018/02/09/vim-tips/</link>
      <pubDate>Fri, 09 Feb 2018 11:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/vim-tips/</guid>
      <description>&lt;h2 id=&#34;vim-graphical-cheat-sheet&#34;&gt;vim graphical cheat sheet&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg&#34; alt=&#34;&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</title>
      <link>//localhost:1313/2018/02/09/docker-without-sudo/</link>
      <pubDate>Fri, 09 Feb 2018 10:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/02/09/docker-without-sudo/</guid>
      <description>&lt;h3 id=&#34;add-the-docker-group-if-it-doesnt-already-exist&#34;&gt;Add the docker group if it doesn&amp;rsquo;t already exist:&lt;/h3&gt;&#xA;&lt;p&gt;sudo groupadd docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user&#34;&gt;Add the connected user &amp;ldquo;$USER&amp;rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:&lt;/h3&gt;&#xA;&lt;p&gt;sudo gpasswd -a $USER docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups&#34;&gt;Either do a newgrp docker or log out/in to activate the changes to groups.&lt;/h3&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ</title>
      <link>//localhost:1313/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Sat, 03 Feb 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—</title>
      <link>//localhost:1313/2018/01/02/nginmesh-install/</link>
      <pubDate>Tue, 02 Jan 2018 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2018/01/02/nginmesh-install/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ</title>
      <link>//localhost:1313/2017/11/28/access-application-from-outside/</link>
      <pubDate>Tue, 28 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/28/access-application-from-outside/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)</title>
      <link>//localhost:1313/2017/11/08/istio-canary-release/</link>
      <pubDate>Wed, 08 Nov 2017 15:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/08/istio-canary-release/</guid>
      <description>&lt;h2 id=&#34;зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ&lt;/h2&gt;&#xA;&lt;p&gt;еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;&amp;ldquo;ANYTHING THAN CAN GO WRONG WILL GO WRONG&amp;rdquo;  &amp;ndash;MURPHY&amp;rsquo;S LAW&lt;/p&gt;&#xA;&lt;p&gt;е› ж­¤ж€‘д»¬дёЌиѓЅеЇ„еёЊжњ›дєЋењЁзєїдё‹жµ‹иЇ•ж—¶еЏ‘зЋ°ж‰Ђжњ‰жЅњењЁж•…йљњгЂ‚ењЁж— жі•з™ѕе€†з™ѕйЃїе…Ќз‰€жњ¬еЌ‡зє§ж•…йљњзљ„жѓ…е†µдё‹пјЊйњЂи¦ЃйЂљиї‡дёЂз§Ќж–№ејЏиї›иЎЊеЏЇжЋ§зљ„з‰€жњ¬еЏ‘еёѓпјЊжЉЉж•…йљњеЅ±е“ЌжЋ§е€¶ењЁеЏЇд»ҐжЋҐеЏ—зљ„иЊѓе›ґе†…пјЊе№¶еЏЇд»Ґеї«йЂџе›ћйЂЂгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏЇд»ҐйЂљиї‡&lt;a href=&#34;https://martinfowler.com/bliki/CanaryRelease.html&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰&lt;/a&gt;жќҐе®ћзЋ°дёљеЉЎд»ЋиЂЃз‰€жњ¬е€°ж–°з‰€жњ¬зљ„е№іж»‘иї‡жёЎпјЊе№¶йЃїе…ЌеЌ‡зє§иї‡зЁ‹дё­е‡єзЋ°зљ„й—®йўеЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;вЂњй‡‘дёќй›ЂеЏ‘еёѓвЂќзљ„жќҐжєђдєЋзџїе·Ґд»¬з”Ёй‡‘дёќй›ЂеЇ№зџїдє•иї›иЎЊз©єж°”жµ‹иЇ•зљ„еЃљжі•гЂ‚д»Ґе‰Ќзџїе·ҐжЊ–з…¤зљ„ж—¶еЂ™пјЊзџїе·Ґдё‹зџїдє•е‰Ќдјље…€жЉЉй‡‘дёќй›Ђж”ѕиї›еЋ»пјЊж€–иЂ…жЊ–з…¤зљ„ж—¶еЂ™дёЂз›ґеё¦зќЂй‡‘дёќй›ЂгЂ‚й‡‘дёќй›ЂеЇ№з”Ізѓ·е’ЊдёЂж°§еЊ–зўіжµ“еє¦жЇ”иѕѓж•Џж„џпјЊдјље…€жЉҐи­¦гЂ‚ж‰Ђд»Ґе¤§е®¶йѓЅз”ЁвЂњй‡‘дёќй›ЂвЂќжќҐжђћжњЂе…€зљ„жµ‹иЇ•гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дё‹е›ѕдё­пјЊе·¦дё‹ж–№зљ„е°‘йѓЁе€†з”Ёж€·е°±иў«еЅ“дЅњвЂњй‡‘дёќй›ЂвЂќжќҐз”ЁдєЋжµ‹иЇ•ж–°дёЉзєїзљ„1.1з‰€жњ¬гЂ‚е¦‚жћњж–°з‰€жњ¬е‡єзЋ°й—®йўпјЊвЂњй‡‘дёќй›ЂвЂќд»¬дјљжЉҐи­¦пјЊдЅ†дёЌдјљеЅ±е“Ќе…¶д»–з”Ёж€·дёљеЉЎзљ„ж­ЈеёёиїђиЎЊгЂ‚&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployment.PNG&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰зљ„жµЃзЁ‹е¦‚дё‹пјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;е‡†е¤‡е’Њз”џдє§зЋЇеўѓйљ”з¦»зљ„вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е°†ж–°з‰€жњ¬зљ„жњЌеЉЎйѓЁзЅІе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еЇ№вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁдёЉзљ„жњЌеЉЎиї›иЎЊи‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;жµ‹иЇ•йЂљиї‡еђЋпјЊе°†вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™ЁиїћжЋҐе€°з”џдє§зЋЇеўѓпјЊе°†е°‘й‡Џз”џдє§жµЃй‡ЏеЇје…Ґе€°вЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•е‡єзЋ°й—®йўпјЊе€™йЂљиї‡жЉЉз”џдє§жµЃй‡Џд»ЋвЂњй‡‘дёќй›ЂвЂќжњЌеЉЎе™Ёдё­й‡Ќж–°и·Їз”±е€°иЂЃз‰€жњ¬зљ„жњЌеЉЎзљ„ж–№ејЏиї›иЎЊе›ћйЂЂпјЊдї®е¤Ќй—®йўеђЋй‡Ќж–°иї›иЎЊеЏ‘еёѓгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;е¦‚жћњењЁзєїжµ‹иЇ•йЎєе€©пјЊе€™йЂђжёђжЉЉз”џдє§жµЃй‡ЏжЊ‰дёЂе®љз­–з•ҐйЂђжёђеЇје…Ґе€°ж–°з‰€жњ¬жњЌеЉЎе™Ёдё­гЂ‚&lt;/li&gt;&#xA;&lt;li&gt;еѕ…ж–°з‰€жњ¬жњЌеЉЎзЁіе®љиїђиЎЊеђЋпјЊе€ й™¤иЂЃз‰€жњ¬жњЌеЉЎгЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓй‡‘дёќй›ЂеЏ‘еёѓзљ„еЋџзђ†&#34;&gt;Istioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)зљ„еЋџзђ†&lt;/h2&gt;&#xA;&lt;p&gt;д»ЋдёЉйќўзљ„жµЃзЁ‹еЏЇд»Ґзњ‹е€°пјЊе¦‚жћњи¦Ѓе®ћзЋ°дёЂеҐ—зЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹пјЊйњЂи¦Ѓеє”з”ЁзЁ‹еєЏе’Њиїђз»ґжµЃзЁ‹еЇ№иЇҐеЏ‘еёѓиї‡зЁ‹иї›иЎЊж”ЇжЊЃпјЊе·ҐдЅњй‡Џе’Њйљѕеє¦зљ„жЊ‘ж€жЇйќћеёёе¤§зљ„гЂ‚и™Ѕз„¶йќўеЇ№зљ„й—®йўз±»дјјпјЊдЅ†жЇЏдёЄдјЃдёљж€–з»„з»‡дёЂи€¬й‡‡з”ЁдёЌеђЊзљ„з§Ѓжњ‰еЊ–е®ћзЋ°ж–№жЎ€жќҐиї›иЎЊзЃ°еє¦еЏ‘еёѓ,дёєи§Је†іиЇҐй—®йўеЇји‡ґз ”еЏ‘е’Њиїђз»ґиЉ±иґ№дє†е¤§й‡Џзљ„ж€ђжњ¬гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;IstioйЂљиї‡й«еє¦зљ„жЉЅи±Ўе’Њи‰ЇеҐЅзљ„и®ѕи®Ўй‡‡з”ЁдёЂи‡ґзљ„ж–№ејЏи§Је†ідє†иЇҐй—®йўпјЊй‡‡з”ЁsidecarеЇ№еє”з”ЁжµЃй‡Џиї›иЎЊдє†иЅ¬еЏ‘пјЊйЂљиї‡Pilotдё‹еЏ‘и·Їз”±и§„е€™пјЊеЏЇд»ҐењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏзљ„е‰ЌжЏђдё‹е®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е¤‡жіЁпјљй‡‡з”Ёkubernetesзљ„&lt;a href=&#34;https://kubernetes.io/docs/tasks/run-application/rolling-update-replication-controller/&#34;&gt;ж»љеЉЁеЌ‡зє§(rolling update)&lt;/a&gt;еЉџиѓЅд№џеЏЇд»Ґе®ћзЋ°дёЌдё­ж–­дёљеЉЎзљ„еє”з”ЁеЌ‡зє§,дЅ†ж»љеЉЁеЌ‡зє§жЇйЂљиї‡йЂђжёђдЅїз”Ёж–°з‰€жњ¬зљ„жњЌеЉЎжќҐж›їжЌўиЂЃз‰€жњ¬жњЌеЉЎзљ„ж–№ејЏеЇ№еє”з”Ёиї›иЎЊеЌ‡зє§пјЊењЁж»љеЉЁеЌ‡зє§дёЌиѓЅеЇ№еє”з”Ёзљ„жµЃй‡Џе€†еЏ‘иї›иЎЊжЋ§е€¶пјЊе› ж­¤ж— жі•й‡‡з”ЁеЏ—жЋ§ењ°жЉЉз”џдє§жµЃй‡ЏйЂђжёђеЇјжµЃе€°ж–°з‰€жњ¬жњЌеЉЎдё­пјЊд№џе°±ж— жі•жЋ§е€¶жњЌеЉЎеЌ‡зє§еЇ№з”Ёж€·йЂ ж€ђзљ„еЅ±е“ЌгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;й‡‡з”ЁIstioеђЋпјЊеЏЇд»ҐйЂљиї‡е®ље€¶и·Їз”±и§„е€™е°†з‰№е®љзљ„жµЃй‡Џпј€е¦‚жЊ‡е®љз‰№еѕЃзљ„з”Ёж€·пј‰еЇје…Ґж–°з‰€жњ¬жњЌеЉЎдё­пјЊењЁз”џдє§зЋЇеўѓдё‹иї›иЎЊжµ‹иЇ•пјЊеђЊж—¶йЂљиї‡жёђиї›еЏ—жЋ§ењ°еЇје…Ґз”џдє§жµЃй‡ЏпјЊеЏЇд»ҐжњЂе°ЏеЊ–еЌ‡зє§дё­е‡єзЋ°зљ„ж•…йљњеЇ№з”Ёж€·зљ„еЅ±е“ЌгЂ‚е№¶дё”ењЁеђЊж—¶е­ењЁж–°иЂЃз‰€жњ¬жњЌеЉЎж—¶пјЊиїеЏЇж №жЌ®еє”з”ЁеЋ‹еЉ›еЇ№дёЌеђЊз‰€жњ¬зљ„жњЌеЉЎиї›иЎЊз‹¬з«‹зљ„зј©ж‰©е®№пјЊйќћеёёзЃµжґ»гЂ‚й‡‡з”ЁIstioиї›иЎЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹е¦‚дё‹е›ѕж‰Ђз¤єпјљ&#xA;&lt;img src=&#34;//localhost:1313/img/istio-canary-release/canary-deployments.gif&#34; alt=&#34;IstioзЃ°еє¦еЏ‘еёѓз¤єж„Џе›ѕ&#34;&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;ж“ЌдЅњж­ҐйЄ¤&#34;&gt;ж“ЌдЅњж­ҐйЄ¤&lt;/h2&gt;&#xA;&lt;p&gt;дё‹йќўй‡‡з”ЁIstionи‡Єеё¦зљ„BookinfoInfoз¤єдѕ‹зЁ‹еєЏжќҐиЇ•йЄЊзЃ°еє¦еЏ‘еёѓзљ„жµЃзЁ‹гЂ‚&lt;/p&gt;&#xA;&lt;h3 id=&#34;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&#34;&gt;жµ‹иЇ•зЋЇеўѓе®‰иЈ…&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏ‚иЂѓ&lt;a href=&#34;http://zhaohuabing.com/2017/11/04/istio-install_and_example/&#34;&gt;ж‰‹жЉЉж‰‹ж•™дЅ д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏ&lt;/a&gt;е®‰иЈ…KubernetesеЏЉIstioжЋ§е€¶йќўгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;е› дёєжњ¬иЇ•йЄЊе№¶дёЌйњЂи¦Ѓе®‰иЈ…е…ЁйѓЁ3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊе› ж­¤е¦‚жћње·Із»Џе®‰иЈ…дє†иЇҐеє”з”ЁпјЊе…€й‡‡з”Ёдё‹йќўзљ„е‘Ѕд»¤еЌёиЅЅгЂ‚&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;istio-0.2.10/samples/bookinfo/kube/cleanup.sh&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;йѓЁзЅІv1з‰€жњ¬зљ„жњЌеЉЎ&#34;&gt;йѓЁзЅІV1з‰€жњ¬зљ„жњЌеЉЎ&lt;/h3&gt;&#xA;&lt;p&gt;й¦–е…€еЏЄйѓЁзЅІV1з‰€жњ¬зљ„Bookinfoеє”з”ЁзЁ‹еєЏгЂ‚з”±дєЋз¤єдѕ‹дё­зљ„yamlж–‡д»¶дё­еЊ…еђ«дє†3дёЄз‰€жњ¬зљ„reviewsжњЌеЉЎпјЊж€‘д»¬е…€е°†V2е’ЊV3з‰€жњ¬зљ„Deploymentд»Ћyamlж–‡д»¶istio-0.2.10/samples/bookinfo/kube/bookinfo.yamlдё­е€ й™¤гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;д»ЋBookinfo.yamlдё­е€ й™¤иї™йѓЁе€†е†…е®№:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v2&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v2&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v2:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080&#xD;&#xA;---&#xD;&#xA;apiVersion: extensions/v1beta1&#xD;&#xA;kind: Deployment&#xD;&#xA;metadata:&#xD;&#xA;  name: reviews-v3&#xD;&#xA;spec:&#xD;&#xA;  replicas: 1&#xD;&#xA;  template:&#xD;&#xA;    metadata:&#xD;&#xA;      labels:&#xD;&#xA;        app: reviews&#xD;&#xA;        version: v3&#xD;&#xA;    spec:&#xD;&#xA;      containers:&#xD;&#xA;      - name: reviews&#xD;&#xA;        image: istio/examples-bookinfo-reviews-v3:0.2.3&#xD;&#xA;        imagePullPolicy: IfNotPresent&#xD;&#xA;        ports:&#xD;&#xA;        - containerPort: 9080    &#xD;&#xA;---         &#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;йѓЁзЅІV1з‰€жњ¬зљ„BookinfoзЁ‹еєЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»</title>
      <link>//localhost:1313/2017/11/07/istio-traffic-shifting/</link>
      <pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/07/istio-traffic-shifting/</guid>
      <description>&lt;p&gt;е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ&lt;a href=&#34;http://istio.doczh.cn/&#34;&gt;istioдё­ж–‡ж–‡жЎЈ&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЋџж–‡еЏ‚и§Ѓ&lt;a href=&#34;https://istio.io/docs/tasks/traffic-management/traffic-shifting.html&#34;&gt;Traffic Shifting&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°</title>
      <link>//localhost:1313/2017/11/04/istio-install_and_example/</link>
      <pubDate>Sat, 04 Nov 2017 12:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/04/istio-install_and_example/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎзЅ‘ж јз®Ђд»‹&#34;&gt;жњЌеЉЎзЅ‘ж јз®Ђд»‹&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;жњЌеЉЎзЅ‘ж ј&lt;/strong&gt;пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ&lt;strong&gt;жћ¶жћ„жЁЎејЏ&lt;/strong&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Welcome to Zhaohuabing Blog</title>
      <link>//localhost:1313/2017/11/03/hello-world/</link>
      <pubDate>Sat, 04 Nov 2017 00:00:00 +0000</pubDate>
      <guid>//localhost:1313/2017/11/03/hello-world/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;вЂњYeah It&amp;rsquo;s on. вЂќ&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;hello-world&#34;&gt;Hello World!&lt;/h2&gt;</description>
    </item>
  </channel>
</rss>


==============================

File: D:\github\bynet\site\public\404.html

<!DOCTYPE html>
<html lang="en-us">
<head><script src="/site/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=site/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Huabing Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="http://localhost:1313/site//img/home-bg-jeep.jpg">
    <meta property="twitter:image" content="http://localhost:1313/site//img/home-bg-jeep.jpg" />
    

    
    <meta name="title" content="" />
    <meta property="og:title" content="" />
    <meta property="twitter:title" content="" />
    

    
    <meta name="description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚">
    <meta property="og:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    <meta property="twitter:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    

    <meta property="og:url" content="http://localhost:1313/site/404.html" />

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="иµµеЊ–е†°, zhaohuabing, Zhaohuabing, , иµµеЊ–е†°зљ„зЅ‘з»њж—Ґеї—, иµµеЊ–е†°зљ„еЌље®ў, Zhaohuabing Blog, еЌље®ў, дёЄдєєзЅ‘з«™, дє’иЃ”зЅ‘, Web, дє‘еЋџз”џ, PaaS, Istio, Kubernetes, еѕ®жњЌеЉЎ, Microservice">
    <link rel="shortcut icon" href="/site/img/favicon.ico">

    <title>404 Page not found | иµµеЊ–е†°зљ„еЌље®ў | Zhaohuabing Blog</title>

    <link rel="canonical" href="/site/404.html">

    

    
    <link rel="stylesheet" href="/site/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/site/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/site/css/zanshang.min.css">

    
    <link rel="stylesheet" href="/site/css/font-awesome.all.min.css">

    
    

    
    <script src="/site/js/jquery.min.js"></script>

    
    <script src="/site/js/bootstrap.min.js"></script>

    
    <script src="/site/js/hux-blog.min.js"></script>

    
    <script src="/site/js/lazysizes.min.js"></script>

    
    

</head>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Huabing Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/site/categories/life/">life</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tech/">tech</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tips/">tips</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/notes//">NOTES</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/site/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>



<header class="intro-header" style="background-image: url('/site/img/home-bg-jeep.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="site-heading">
                    <h1>Huabing Blog </h1>
                    
		    <span class="subheading">и·ЇењЁи„љдё‹пјЊеїѓеђ‘иїњж–№</span>
                </div>
            </div>
        </div>
    </div>
</header>




<header class="intro-header" style="background-image: url('/site/img/404-bg.jpg')">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
				<div class="site-heading" id="tag-heading">
					<h1>404</h1>
					<span class="subheading">дЅ жќҐе€°дє†жІЎжњ‰зџҐиЇ†зљ„иЌ’еЋџ :(</span>
				</div>
			</div>
		</div>
	</div>
</header>

<script>
	document.body.classList.add('page-fullscreen');
</script>



<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="Huabing Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Huabing Blog 2025
                    
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/site\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>


==============================

File: D:\github\bynet\site\public\algolia.json

[{"author":null,"categories":null,"content":null,"date":1749945600,"description":"","dir":"cases\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":200,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":1749945600,"objectID":"96207916476e5ac17ee3a725efeaec90","permalink":"http://localhost:1313/site/cases/case-premier/","publishdate":"2025-06-15T00:00:00Z","readingtime":1,"relpermalink":"/site/cases/case-premier/","section":"cases","summary":"\u003ch1 id=\"РєРµР№СЃ-СЌРєРѕРЅРѕРјРёСЏ-250-РјР»РЅ-СЂСѓР±Р»РµР№-РЅР°-РїСЂРѕРµРєС‚Рµ-Р¶РёР»РѕРіРѕ-РєРѕРјРїР»РµРєСЃР°-РїСЂРµРјСЊРµСЂ\"\u003eРљРµР№СЃ: Р­РєРѕРЅРѕРјРёСЏ 250 РјР»РЅ СЂСѓР±Р»РµР№ РЅР° РїСЂРѕРµРєС‚Рµ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° \u0026ldquo;РџСЂРµРјСЊРµСЂ\u0026rdquo;\u003c/h1\u003e\n\u003cp\u003e\u003cstrong\u003eРљР»РёРµРЅС‚:\u003c/strong\u003e РљСЂСѓРїРЅС‹Р№ РёРЅРІРµСЃС‚РёС†РёРѕРЅРЅС‹Р№ С„РѕРЅРґ.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eР—Р°РґР°С‡Р°:\u003c/strong\u003e РџСЂРѕРІРµСЃС‚Рё РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё Рё СЃРјРµС‚РЅС‹С… СЂР°СЃС‡РµС‚РѕРІ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё Рє СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІСѓ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° Р±РёР·РЅРµСЃ-РєР»Р°СЃСЃР°.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eР§С‚Рѕ РјС‹ СЃРґРµР»Р°Р»Рё:\u003c/strong\u003e\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eРђРЅР°Р»РёР· СЃРјРµС‚:\u003c/strong\u003e РџСЂРѕРІРµСЂРёР»Рё Р±РѕР»РµРµ 2000 РїРѕР·РёС†РёР№ РІ СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. Р’С‹СЏРІРёР»Рё РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅРѕРµ Р·Р°РІС‹С€РµРЅРёРµ СЃС‚РѕРёРјРѕСЃС‚Рё Р»РѕРіРёСЃС‚РёРєРё Рё РјР°С‚РµСЂРёР°Р»РѕРІ РЅР° 12% РїРѕ СЃСЂР°РІРЅРµРЅРёСЋ СЃ СЂС‹РЅРѕС‡РЅС‹РјРё С†РµРЅР°РјРё.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eРћРїС‚РёРјРёР·Р°С†РёСЏ РїСЂРѕРµРєС‚Р°:\u003c/strong\u003e РџСЂРµРґР»РѕР¶РёР»Рё Р·Р°РјРµРЅРёС‚СЊ РЅРµРєРѕС‚РѕСЂС‹Рµ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РёРјРїРѕСЂС‚РЅС‹Рµ РёРЅР¶РµРЅРµСЂРЅС‹Рµ СЃРёСЃС‚РµРјС‹ РЅР° РєР°С‡РµСЃС‚РІРµРЅРЅС‹Рµ РѕС‚РµС‡РµСЃС‚РІРµРЅРЅС‹Рµ Р°РЅР°Р»РѕРіРё, С‡С‚Рѕ РїРѕР·РІРѕР»РёР»Рѕ СЃРѕРєСЂР°С‚РёС‚СЊ СЂР°СЃС…РѕРґС‹ Р±РµР· РїРѕС‚РµСЂРё РІ РЅР°РґРµР¶РЅРѕСЃС‚Рё.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eРџСЂРѕРІРµСЂРєР° РѕР±СЉРµРјРѕРІ:\u003c/strong\u003e РћР±РЅР°СЂСѓР¶РёР»Рё \u0026ldquo;Р·Р°РґРІРѕРµРЅРЅС‹Рµ\u0026rdquo; РѕР±СЉРµРјС‹ СЂР°Р±РѕС‚ РїРѕ Р±Р»Р°РіРѕСѓСЃС‚СЂРѕР№СЃС‚РІСѓ С‚РµСЂСЂРёС‚РѕСЂРёРё РЅР° СЃСѓРјРјСѓ 45 РјР»РЅ СЂСѓР±Р»РµР№.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eР РµР·СѓР»СЊС‚Р°С‚:\u003c/strong\u003e\u003c/p\u003e","tags":null,"title":"РљРµР№СЃ: РЎРЅРёР¶РµРЅРёРµ Р·Р°С‚СЂР°С‚ РЅР° 18% РїСЂРё СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ Р–Рљ","type":"cases","url":"/site/cases/case-premier/","weight":0,"wordcount":115},{"author":null,"categories":null,"content":null,"date":1749945600,"description":"","dir":"cases\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":100,"html":null,"keywords":null,"kind":"section","lang":"en","lastmod":1749945600,"objectID":"4f12dbbd5bcfe8086b750425d5dee116","permalink":"http://localhost:1313/site/cases/","publishdate":"2025-06-15T00:00:00Z","readingtime":1,"relpermalink":"/site/cases/","section":"cases","summary":"\u003cp\u003eР—РґРµСЃСЊ СЃРѕР±СЂР°РЅС‹ РїСЂРёРјРµСЂС‹ РЅР°С€РµР№ СЂР°Р±РѕС‚С‹, РґРµРјРѕРЅСЃС‚СЂРёСЂСѓСЋС‰РёРµ, РєР°Рє РЅР°С€ РїРѕРґС…РѕРґ РїРѕРјРѕРіР°РµС‚ РєР»РёРµРЅС‚Р°Рј РґРѕСЃС‚РёРіР°С‚СЊ РїРѕСЃС‚Р°РІР»РµРЅРЅС‹С… С†РµР»РµР№, СЌРєРѕРЅРѕРјРёС‚СЊ Р±СЋРґР¶РµС‚ Рё РёР·Р±РµРіР°С‚СЊ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёС… РѕС€РёР±РѕРє.\u003c/p\u003e","tags":null,"title":"РќР°С€Рё РєРµР№СЃС‹","type":"cases","url":"/site/cases/","weight":0,"wordcount":20},{"author":null,"categories":null,"content":null,"date":1546992000,"description":"","dir":"post\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":1000,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":1546992000,"objectID":"2f05902e7435de187bb5303fb74f55e2","permalink":"http://localhost:1313/site/post/readme/","publishdate":"2019-01-09T00:00:00Z","readingtime":2,"relpermalink":"/site/post/readme/","section":"post","summary":"\u003ch1 id=\"clean-white-theme-for-hugo\"\u003eClean White Theme for Hugo\u003c/h1\u003e\n\u003cp\u003eCleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live \u003ca href=\"https://zhaohuabing.com\"\u003edemo site\u003c/a\u003e using this theme.\u003c/p\u003e\n\u003cp\u003eIt is based on \u003ca href=\"https://github.com/Huxpro/huxpro.github.io\"\u003ehuxblog Jekyll Theme\u003c/a\u003e\nand \u003ca href=\"https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll\"\u003eClean Blog Jekyll Theme\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003eThese two upstream projects have done awesome jobs to create a blog theme, what I\u0026rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I\u0026rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.\nWhile I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.\u003c/p\u003e","tags":null,"title":"Clean White Theme for Hugo","type":"post","url":"/site/post/readme/","weight":0,"wordcount":977},{"author":null,"categories":["Tech"],"content":"д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™","date":1528070400,"description":"д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™","dir":"post\\","excerpt_html":"д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™","excerpt_text":"д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™","expirydate":-62135596800,"fuzzywordcount":5500,"html":"д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™","keywords":null,"kind":"page","lang":"en","lastmod":1528070400,"objectID":"419548ad13183dac6d96760c9815824b","permalink":"http://localhost:1313/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/","publishdate":"2018-06-04T00:00:00Z","readingtime":11,"relpermalink":"/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/","section":"post","summary":"\u003cp\u003eе€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚\u003c/p\u003e","tags":["Istio"],"title":"Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰","type":"post","url":"/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/","weight":0,"wordcount":5412},{"author":null,"categories":["Tech"],"content":"ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ","date":1527897600,"description":"ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ","dir":"post\\","excerpt_html":"ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ","excerpt_text":"ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ","expirydate":-62135596800,"fuzzywordcount":1800,"html":"ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ","keywords":null,"kind":"page","lang":"en","lastmod":1527897600,"objectID":"5419b65011b3dcb9020c0728e6d70695","permalink":"http://localhost:1313/site/2018/06/02/istio08/","publishdate":"2018-06-02T00:00:00Z","readingtime":4,"relpermalink":"/site/2018/06/02/istio08/","section":"post","summary":"\u003cblockquote\u003e\n\u003cp\u003eењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ\u003c/p\u003e\u003c/blockquote\u003e","tags":["Istio"],"title":"Istio 0.8 ReleaseеЏ‘еёѓ","type":"post","url":"/site/2018/06/02/istio08/","weight":0,"wordcount":1796},{"author":null,"categories":["Tips"],"content":"Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later","date":1527120000,"description":"Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later","dir":"post\\","excerpt_html":"Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later","excerpt_text":"Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later","expirydate":-62135596800,"fuzzywordcount":200,"html":"Everything about setting up my own ubuntu desktop, it's just a Note in case I need it later","keywords":null,"kind":"page","lang":"en","lastmod":1527120000,"objectID":"acef740336515250f115284b46f1f096","permalink":"http://localhost:1313/site/2018/05/24/set_up_my_ubuntu_desktop/","publishdate":"2018-05-24T00:00:00Z","readingtime":1,"relpermalink":"/site/2018/05/24/set_up_my_ubuntu_desktop/","section":"post","summary":"\u003ch2 id=\"generate-ssh-key-pair\"\u003eGenerate SSH Key Pair\u003c/h2\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003essh-keygen -C \u0026#34;zhaohuabing@gmail.com\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e\u003ch2 id=\"shadowsocks\"\u003eShadowsocks\u003c/h2\u003e\n\u003cp\u003eInstall shadowsokcs\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo apt-get install python3-pip\r\n\r\nsudo pip3 install shadowsocks\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCreate config at \u003ccode\u003econfig/shadowsocks.json\u003c/code\u003e, with the following content:\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003e{\r\n\t\u0026#34;server\u0026#34;:\u0026#34;remote-shadowsocks-server-ip-addr\u0026#34;,\r\n\t\u0026#34;server_port\u0026#34;:443,\r\n\t\u0026#34;local_address\u0026#34;:\u0026#34;127.0.0.1\u0026#34;,\r\n\t\u0026#34;local_port\u0026#34;:1080,\r\n\t\u0026#34;password\u0026#34;:\u0026#34;your-passwd\u0026#34;,\r\n\t\u0026#34;timeout\u0026#34;:300,\r\n\t\u0026#34;method\u0026#34;:\u0026#34;aes-256-cfb\u0026#34;,\r\n\t\u0026#34;fast_open\u0026#34;:false,\r\n\t\u0026#34;workers\u0026#34;:1\r\n}\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eStart a local socks proxy\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo sslocal -c config/shadowsocks.json -d start\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIn case there is an openssl error, modify shadowsocks source file.\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py \r\n\r\n:%s/cleanup/reset/gc\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eConvert shadowsocks socks proxy to http proxy\u003c/p\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo apt-get install polipo\r\n\r\necho \u0026#34;socksParentProxy = localhost:1080\u0026#34; | sudo tee -a /etc/polipo/config \r\nsudo service polipo restart\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eHttp proxy now is available at port 8123\u003c/p\u003e","tags":["ubuntu"],"title":"Everything about Setting Up My Ubuntu Desktop","type":"post","url":"/site/2018/05/24/set_up_my_ubuntu_desktop/","weight":0,"wordcount":121},{"author":null,"categories":["Tech"],"content":"дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚","date":1527098400,"description":"дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚","dir":"post\\","excerpt_html":"дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚","excerpt_text":"дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚","expirydate":-62135596800,"fuzzywordcount":2400,"html":"дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1527098400,"objectID":"bcf92db93ffdd43ba91e4322cf6c6ece","permalink":"http://localhost:1313/site/2018/05/23/external_system_auth/","publishdate":"2018-05-23T18:00:00Z","readingtime":5,"relpermalink":"/site/2018/05/23/external_system_auth/","section":"post","summary":"\u003ch2 id=\"е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶\"\u003eе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶\u003c/h2\u003e\n\u003cp\u003eй™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚\u003c/p\u003e","tags":["Microservice","Security"],"title":"еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰","type":"post","url":"/site/2018/05/23/external_system_auth/","weight":0,"wordcount":2349},{"author":null,"categories":["Tech"],"content":"й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚","date":1527087600,"description":"й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚","dir":"post\\","excerpt_html":"й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚","excerpt_text":"й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚","expirydate":-62135596800,"fuzzywordcount":2000,"html":"й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®,ж №жЌ®еє”з”Ёзі»з»џж•°жЌ®ж•Џж„џзЁ‹еє¦дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„и®їй—®д№џйњЂи¦Ѓиї›иЎЊз›ёеє”зљ„е®‰е…ЁжЋ§е€¶гЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1527087600,"objectID":"d7d93ee7d2a2b13ec20c157389fd7a3a","permalink":"http://localhost:1313/site/2018/05/23/service_2_service_auth/","publishdate":"2018-05-23T15:00:00Z","readingtime":4,"relpermalink":"/site/2018/05/23/service_2_service_auth/","section":"post","summary":"\u003ch2 id=\"жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ\"\u003eжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ\u003c/h2\u003e\n\u003cp\u003eй™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eз”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®\u003cBR\u003e\nдѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚\u003c/li\u003e\n\u003cli\u003eйќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®\u003cBR\u003e\nдѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚\u003c/p\u003e","tags":["Microservice","Security"],"title":"еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ","type":"post","url":"/site/2018/05/23/service_2_service_auth/","weight":0,"wordcount":1935},{"author":null,"categories":["Tech"],"content":"иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚","date":1527069600,"description":"иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚","dir":"post\\","excerpt_html":"иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚","excerpt_text":"иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚","expirydate":-62135596800,"fuzzywordcount":3100,"html":"иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚ењЁиї™дёЂзі»е€—еЌље®ўй‡Њйќўе°†е€†дёєдё‰дёЄйѓЁе€†еЇ№еѕ®жњЌеЉЎе®‰е…Ёиї›иЎЊзі»з»џйђиї°пјљз”Ёж€·и®їй—®и®¤иЇЃдёЋй‰ґжќѓпјЊжњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓпјЊе¤–йѓЁзі»з»џи®їй—®жЋ§е€¶гЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1527069600,"objectID":"3fc17cbcf909103e423326182d72a807","permalink":"http://localhost:1313/site/2018/05/22/user_authentication_authorization/","publishdate":"2018-05-23T10:00:00Z","readingtime":7,"relpermalink":"/site/2018/05/22/user_authentication_authorization/","section":"post","summary":"\u003cblockquote\u003e\n\u003cp\u003eиї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚\u003c/p\u003e","tags":["Microservice","Security"],"title":"еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ","type":"post","url":"/site/2018/05/22/user_authentication_authorization/","weight":0,"wordcount":3093},{"author":null,"categories":["Tech"],"content":"Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚","date":1527033600,"description":"Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚","dir":"post\\","excerpt_html":"Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚","excerpt_text":"Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚","expirydate":-62135596800,"fuzzywordcount":1200,"html":"Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚ Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1527033600,"objectID":"61cbee2b7380aaa6e9b9f882840da6a0","permalink":"http://localhost:1313/site/2018/05/23/istio-auto-injection-with-webhook/","publishdate":"2018-05-23T00:00:00Z","readingtime":3,"relpermalink":"/site/2018/05/23/istio-auto-injection-with-webhook/","section":"post","summary":"\u003ch2 id=\"е‰ЌиЁЂ\"\u003eе‰ЌиЁЂ\u003c/h2\u003e\n\u003chr\u003e\n\u003cp\u003eKubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚\u003c/p\u003e\n\u003cp\u003eдЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚\u003c/p\u003e\n\u003cp\u003eIstio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚\u003c/p\u003e","tags":["Kubernetes","Istio"],"title":"Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†","type":"post","url":"/site/2018/05/23/istio-auto-injection-with-webhook/","weight":0,"wordcount":1133},{"author":null,"categories":["Tech"],"content":null,"date":1526900400,"description":"","dir":"post\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":800,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":1526900400,"objectID":"bf66956078def1376b24541987e8dd17","permalink":"http://localhost:1313/site/2018/05/21/algolia-integration-with-jekyll/","publishdate":"2018-05-21T11:00:00Z","readingtime":2,"relpermalink":"/site/2018/05/21/algolia-integration-with-jekyll/","section":"post","summary":"\u003cblockquote\u003e\n\u003cp\u003eThis series of articles are my notes of \u0026ldquo;Bitcoin and Cryptocurrency Technologies\u0026rdquo; online course.\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"table-of-content\"\u003eTable of Content\u003c/h2\u003e\n\u003cp\u003e{:.no_toc}\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTable of Content\n{:toc}\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"scrooge-coin-transaction\"\u003eScrooge Coin Transaction\u003c/h2\u003e\n\u003cp\u003eScrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn\u0026rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:\n\r\n  \u003cimg src=\"/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png\" alt=\"Scrooge Coin\"\u003e\r\n\r\n\u003c/p\u003e","tags":["Jekyll:q","Bitcoin"],"title":"дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў","type":"post","url":"/site/2018/05/21/algolia-integration-with-jekyll/","weight":0,"wordcount":792},{"author":null,"categories":["Life"],"content":null,"date":1525132800,"description":"","dir":"post\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":3600,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":1525132800,"objectID":"14429f8bcce027e828700689f3857119","permalink":"http://localhost:1313/site/2018/05/01/may-day-jiulonghu/","publishdate":"2018-05-01T00:00:00Z","readingtime":8,"relpermalink":"/site/2018/05/01/may-day-jiulonghu/","section":"post","summary":"\u003ch2 id=\"еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡\"\u003eеЇ»жµ®дє‘з‰§ењєдёЌйЃ‡\u003c/h2\u003e\n\u003cp\u003eдє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚\nе¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚\u003c/p\u003e","tags":["Travel"],"title":"е·ќиҐїз§еўѓжЋўй™©","type":"post","url":"/site/2018/05/01/may-day-jiulonghu/","weight":0,"wordcount":3568},{"author":null,"categories":["Tech"],"content":"HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚","date":1523890800,"description":"HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚","dir":"post\\","excerpt_html":"HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚","excerpt_text":"HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚","expirydate":-62135596800,"fuzzywordcount":5000,"html":"HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1523890800,"objectID":"8160a1bd8df0fbf81c4f36a3c6e7d3af","permalink":"http://localhost:1313/site/2018/04/16/using-helm-to-deploy-to-kubernetes/","publishdate":"2018-04-16T15:00:00Z","readingtime":10,"relpermalink":"/site/2018/04/16/using-helm-to-deploy-to-kubernetes/","section":"post","summary":"\u003ch2 id=\"е‰ЌиЁЂ\"\u003eе‰ЌиЁЂ\u003c/h2\u003e\n\u003chr\u003e\n\u003cp\u003eHelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚\u003c/p\u003e","tags":["Kubernetes","Helm"],"title":"Helmд»‹з»Ќ","type":"post","url":"/site/2018/04/16/using-helm-to-deploy-to-kubernetes/","weight":0,"wordcount":4996},{"author":null,"categories":["Tech"],"content":"API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚","date":1523439120,"description":"API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚","dir":"post\\","excerpt_html":"API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚","excerpt_text":"API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚","expirydate":-62135596800,"fuzzywordcount":1700,"html":"API Gatewayе’ЊService Meshзљ„е…ізі»жЇж€‘жњЂиї‘дёЂз›ґењЁжЂќиЂѓзљ„й—®йўпјЊд№џе’ЊеђЊдє‹еЏЉз¤ѕеЊєзљ„жњ‹еЏ‹д№‹й—ґиї›иЎЊдє†дёЂдє›и®Ёи®єгЂ‚иї™зЇ‡зџ­ж–‡еѕ€жё…ж™°ењ°жЂ»з»“дє†дё¤иЂ…д№‹й—ґзљ„з›ёдјјд№‹е¤„д»ҐеЏЉиї™дё¤иЂ…ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­зљ„дёЌеђЊз”ЁйЂ”гЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1523439120,"objectID":"10512631762a4eb4fe14a47b7cb61d54","permalink":"http://localhost:1313/site/2018/04/11/service-mesh-vs-api-gateway/","publishdate":"2018-04-11T09:32:00Z","readingtime":4,"relpermalink":"/site/2018/04/11/service-mesh-vs-api-gateway/","section":"post","summary":"\u003ch2 id=\"service-mesh-vs-api-gateway\"\u003eService Mesh vs API Gateway\u003c/h2\u003e\n\u003cp\u003eењЁ\u003ca href=\"https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a\"\u003eе‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« \u003c/a\u003eдё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚\u003c/p\u003e","tags":["Microservice","Service Mesh","API Gateway"],"title":"Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰","type":"post","url":"/site/2018/04/11/service-mesh-vs-api-gateway/","weight":0,"wordcount":1697},{"author":null,"categories":["Tech"],"content":"дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚","date":1522324800,"description":"дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚","dir":"post\\","excerpt_html":"дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚","excerpt_text":"дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚","expirydate":-62135596800,"fuzzywordcount":8500,"html":"дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§,жњ¬ж–‡д»‹з»Ќдє†Service MeshжЁЎејЏе¦‚дЅ•еє”еЇ№еѕ®жњЌеЉЎжћ¶жћ„зљ„иї™дє›жЊ‘ж€пјЊд»ҐеЏЉService Meshзљ„жЋжџејЂжєђйЎ№з›®IstioгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1522324800,"objectID":"58e1fcbb286268d60015d8695e72e3b4","permalink":"http://localhost:1313/site/2018/03/29/what-is-service-mesh-and-istio/","publishdate":"2018-03-29T12:00:00Z","readingtime":17,"relpermalink":"/site/2018/03/29/what-is-service-mesh-and-istio/","section":"post","summary":"\u003ch2 id=\"еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›\"\u003eеѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›\u003c/h2\u003e\n\u003cp\u003eдЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚\u003c/p\u003e\n\u003cp\u003eеЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚\u003c/p\u003e","tags":["Microservice","Service Mesh","Istio"],"title":"и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio","type":"post","url":"/site/2018/03/29/what-is-service-mesh-and-istio/","weight":0,"wordcount":8405},{"author":null,"categories":["Tips"],"content":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","date":1520964000,"description":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","dir":"post\\","excerpt_html":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","excerpt_text":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","expirydate":-62135596800,"fuzzywordcount":100,"html":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","keywords":null,"kind":"page","lang":"en","lastmod":1520964000,"objectID":"98b8057999561a04d562f017fde4df05","permalink":"http://localhost:1313/site/2018/03/13/use-docker-behind-http-proxy/","publishdate":"2018-03-13T18:00:00Z","readingtime":1,"relpermalink":"/site/2018/03/13/use-docker-behind-http-proxy/","section":"post","summary":"\u003ch2 id=\"ubuntu\"\u003eUbuntu\u003c/h2\u003e\n\u003ch3 id=\"и®ѕзЅ®dockerдЅїз”Ёhttp-proxy\"\u003eи®ѕзЅ®dockerдЅїз”Ёhttp proxy\u003c/h3\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode\u003esudo /etc/default/docker\r\n\r\nexport http_proxy=\u0026#34;http://127.0.0.1:3128/\u0026#34;\r\nexport https_proxy=\u0026#34;http://127.0.0.1:3128/\u0026#34;\r\nexport HTTP_PROXY=\u0026#34;http://127.0.0.1:3128/\u0026#34;\r\nexport HTTPS_PROXY=\u0026#34;http://127.0.0.1:3128/\u0026#34;\n\u003c/code\u003e\u003c/pre\u003e","tags":["Tips","Docker"],"title":"е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†","type":"post","url":"/site/2018/03/13/use-docker-behind-http-proxy/","weight":0,"wordcount":92},{"author":null,"categories":["Tips"],"content":"Vim Tips and tricks","date":1518174000,"description":"Vim Tips and tricks","dir":"post\\","excerpt_html":"Vim Tips and tricks","excerpt_text":"Vim Tips and tricks","expirydate":-62135596800,"fuzzywordcount":200,"html":"Vim Tips and tricks","keywords":null,"kind":"page","lang":"en","lastmod":1518174000,"objectID":"2d0e4272390337188b486ff2335caebb","permalink":"http://localhost:1313/site/2018/02/09/vim-tips/","publishdate":"2018-02-09T11:00:00Z","readingtime":1,"relpermalink":"/site/2018/02/09/vim-tips/","section":"post","summary":"\u003ch2 id=\"vim-graphical-cheat-sheet\"\u003evim graphical cheat sheet\u003c/h2\u003e\n\u003cp\u003e\r\n  \u003cimg src=\"//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg\" alt=\"\"\u003e\r\n\r\n\u003c/p\u003e","tags":["Tips","Vim"],"title":"Vim Tips","type":"post","url":"/site/2018/02/09/vim-tips/","weight":0,"wordcount":181},{"author":null,"categories":["Tips"],"content":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","date":1518170400,"description":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","dir":"post\\","excerpt_html":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","excerpt_text":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","expirydate":-62135596800,"fuzzywordcount":100,"html":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","keywords":null,"kind":"page","lang":"en","lastmod":1518170400,"objectID":"92d7e3e34329f74a5a955e31f5743bae","permalink":"http://localhost:1313/site/2018/02/09/docker-without-sudo/","publishdate":"2018-02-09T10:00:00Z","readingtime":1,"relpermalink":"/site/2018/02/09/docker-without-sudo/","section":"post","summary":"\u003ch3 id=\"add-the-docker-group-if-it-doesnt-already-exist\"\u003eAdd the docker group if it doesn\u0026rsquo;t already exist:\u003c/h3\u003e\n\u003cp\u003esudo groupadd docker\u003c/p\u003e\n\u003ch3 id=\"add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user\"\u003eAdd the connected user \u0026ldquo;$USER\u0026rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:\u003c/h3\u003e\n\u003cp\u003esudo gpasswd -a $USER docker\u003c/p\u003e\n\u003ch3 id=\"either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups\"\u003eEither do a newgrp docker or log out/in to activate the changes to groups.\u003c/h3\u003e","tags":["Tips","Docker"],"title":"е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤","type":"post","url":"/site/2018/02/09/docker-without-sudo/","weight":0,"wordcount":59},{"author":null,"categories":["Tech"],"content":"еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚","date":1517659200,"description":"еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚","dir":"post\\","excerpt_html":"еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚","excerpt_text":"еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚","expirydate":-62135596800,"fuzzywordcount":5600,"html":"еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1517659200,"objectID":"c1d32da205ea082b3dd7061c39ea7e8b","permalink":"http://localhost:1313/site/2018/05/22/user_authentication_authorization/","publishdate":"2018-02-03T12:00:00Z","readingtime":12,"relpermalink":"/site/2018/05/22/user_authentication_authorization/","section":"post","summary":"\u003ch2 id=\"е‰ЌиЁЂ\"\u003eе‰ЌиЁЂ\u003c/h2\u003e\n\u003cp\u003eеѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚\u003c/p\u003e","tags":["Microservice","Security"],"title":"е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ","type":"post","url":"/site/2018/05/22/user_authentication_authorization/","weight":0,"wordcount":5532},{"author":null,"categories":["Tech"],"content":"NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚","date":1514894400,"description":"NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚","dir":"post\\","excerpt_html":"NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚","excerpt_text":"NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚","expirydate":-62135596800,"fuzzywordcount":2700,"html":"NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚жњ¬ж–‡д»‹з»Ќе¦‚дЅ•й‡‡з”Ёkubeadminе®‰иЈ…kubernetesй›†зѕ¤е№¶йѓЁзЅІNginmesh sidecarгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1514894400,"objectID":"f12f8e4e5417662ca5f2745b62aadb1e","permalink":"http://localhost:1313/site/2018/01/02/nginmesh-install/","publishdate":"2018-01-02T12:00:00Z","readingtime":6,"relpermalink":"/site/2018/01/02/nginmesh-install/","section":"post","summary":"\u003ch2 id=\"е‰ЌиЁЂ\"\u003eе‰ЌиЁЂ\u003c/h2\u003e\n\u003cp\u003eNginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚\u003c/p\u003e","tags":["Istio","service Mesh","nginmesh"],"title":"NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—","type":"post","url":"/site/2018/01/02/nginmesh-install/","weight":0,"wordcount":2677},{"author":null,"categories":["Tech"],"content":"ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚","date":1511870400,"description":"ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚","dir":"post\\","excerpt_html":"ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚","excerpt_text":"ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚","expirydate":-62135596800,"fuzzywordcount":5600,"html":"ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1511870400,"objectID":"62314fd01037305fcf6b8c9ad3b3b02d","permalink":"http://localhost:1313/site/2017/11/28/access-application-from-outside/","publishdate":"2017-11-28T12:00:00Z","readingtime":12,"relpermalink":"/site/2017/11/28/access-application-from-outside/","section":"post","summary":"\u003ch2 id=\"е‰ЌиЁЂ\"\u003eе‰ЌиЁЂ\u003c/h2\u003e\n\u003cp\u003eж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚\u003c/p\u003e","tags":["Kubernetes"],"title":"е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ","type":"post","url":"/site/2017/11/28/access-application-from-outside/","weight":0,"wordcount":5543},{"author":null,"categories":["Tech"],"content":"еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰","date":1510153200,"description":"еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰","dir":"post\\","excerpt_html":"еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰","excerpt_text":"еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰","expirydate":-62135596800,"fuzzywordcount":3300,"html":"еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚жњ¬ж–‡е°†д»‹з»Ќе¦‚дЅ•дЅїз”ЁIstioе®ћзЋ°еє”з”Ёзљ„зЃ°еє¦еЏ‘еёѓпј€й‡‘дёќй›ЂеЏ‘еёѓпј‰","keywords":null,"kind":"page","lang":"en","lastmod":1510153200,"objectID":"320d9f0641802d90086c08b5cf554c4d","permalink":"http://localhost:1313/site/2017/11/08/istio-canary-release/","publishdate":"2017-11-08T15:00:00Z","readingtime":7,"relpermalink":"/site/2017/11/08/istio-canary-release/","section":"post","summary":"\u003ch2 id=\"зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ\"\u003eзЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ\u003c/h2\u003e\n\u003cp\u003eеЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚\u003c/p\u003e","tags":["Istio"],"title":"й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)","type":"post","url":"/site/2017/11/08/istio-canary-release/","weight":0,"wordcount":3210},{"author":null,"categories":["Tech"],"content":"жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚","date":1510012800,"description":"жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚","dir":"post\\","excerpt_html":"жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚","excerpt_text":"жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚","expirydate":-62135596800,"fuzzywordcount":1400,"html":"жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1510012800,"objectID":"5ae8190e8b21dc18fae6ba6a26ad2f8e","permalink":"http://localhost:1313/site/2017/11/07/istio-traffic-shifting/","publishdate":"2017-11-07T00:00:00Z","readingtime":3,"relpermalink":"/site/2017/11/07/istio-traffic-shifting/","section":"post","summary":"\u003cp\u003eе…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ\u003ca href=\"http://istio.doczh.cn/\"\u003eistioдё­ж–‡ж–‡жЎЈ\u003c/a\u003eгЂ‚\u003c/p\u003e\n\u003cp\u003eеЋџж–‡еЏ‚и§Ѓ\u003ca href=\"https://istio.io/docs/tasks/traffic-management/traffic-shifting.html\"\u003eTraffic Shifting\u003c/a\u003eгЂ‚\u003c/p\u003e\n\u003cp\u003eжњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚\u003c/p\u003e","tags":["Istio"],"title":"дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»","type":"post","url":"/site/2017/11/07/istio-traffic-shifting/","weight":0,"wordcount":1313},{"author":null,"categories":["Tech"],"content":"IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚","date":1509796800,"description":"IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚","dir":"post\\","excerpt_html":"IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚","excerpt_text":"IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚","expirydate":-62135596800,"fuzzywordcount":5600,"html":"IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚","keywords":null,"kind":"page","lang":"en","lastmod":1509796800,"objectID":"d993f98f09d7341809e97a3c1ba8e960","permalink":"http://localhost:1313/site/2017/11/04/istio-install_and_example/","publishdate":"2017-11-04T12:00:00Z","readingtime":12,"relpermalink":"/site/2017/11/04/istio-install_and_example/","section":"post","summary":"\u003ch2 id=\"жњЌеЉЎзЅ‘ж јз®Ђд»‹\"\u003eжњЌеЉЎзЅ‘ж јз®Ђд»‹\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eжњЌеЉЎзЅ‘ж ј\u003c/strong\u003eпј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ\u003cstrong\u003eжћ¶жћ„жЁЎејЏ\u003c/strong\u003eгЂ‚\u003c/p\u003e\n\u003cp\u003eжњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚\u003c/p\u003e","tags":["Istio"],"title":"IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°","type":"post","url":"/site/2017/11/04/istio-install_and_example/","weight":0,"wordcount":5529},{"author":null,"categories":null,"content":null,"date":1509753600,"description":"","dir":"post\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":100,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":1509753600,"objectID":"cf37d97d83d29e7c3f79c50c928a7a4d","permalink":"http://localhost:1313/site/2017/11/03/hello-world/","publishdate":"2017-11-04T00:00:00Z","readingtime":1,"relpermalink":"/site/2017/11/03/hello-world/","section":"post","summary":"\u003cblockquote\u003e\n\u003cp\u003eвЂњYeah It\u0026rsquo;s on. вЂќ\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch2 id=\"hello-world\"\u003eHello World!\u003c/h2\u003e","tags":null,"title":"Welcome to Zhaohuabing Blog","type":"post","url":"/site/2017/11/03/hello-world/","weight":0,"wordcount":10},{"author":null,"categories":null,"content":null,"date":-62135596800,"description":"","dir":"notes\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":100,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"1ede8046f9c3a02d422dea7bbf324e64","permalink":"http://localhost:1313/site/notes/","publishdate":"0001-01-01T00:00:00Z","readingtime":1,"relpermalink":"/site/notes/","section":"","summary":"\u003ch2 id=\"go-иЇ­иЁЂе­¦д№ з¬”и®°\"\u003e\u003ca href=\"https://zhaohuabing.com/learning-golang\"\u003eGo иЇ­иЁЂе­¦д№ з¬”и®°\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"envoy-е­¦д№ з¬”и®°\"\u003e\u003ca href=\"https://zhaohuabing.com/learning-envoy\"\u003eEnvoy е­¦д№ з¬”и®°\u003c/a\u003e\u003c/h2\u003e","tags":null,"title":"","type":"page","url":"/site/notes/","weight":0,"wordcount":12},{"author":null,"categories":null,"content":null,"date":-62135596800,"description":"","dir":"search\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":100,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"8946788897930c0c0c39fbfcd30ff2e4","permalink":"http://localhost:1313/site/search/placeholder/","publishdate":"0001-01-01T00:00:00Z","readingtime":0,"relpermalink":"/site/search/placeholder/","section":"search","summary":"","tags":null,"title":"","type":"search","url":"/site/search/placeholder/","weight":0,"wordcount":0},{"author":null,"categories":null,"content":"Archive of historical posts.","date":-62135596800,"description":"Archive of historical posts.","dir":"archive\\","excerpt_html":"Archive of historical posts.","excerpt_text":"Archive of historical posts.","expirydate":-62135596800,"fuzzywordcount":100,"html":"Archive of historical posts.","keywords":null,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"a06e5ce9eca4c3260843078104889780","permalink":"http://localhost:1313/site/archive/","publishdate":"0001-01-01T00:00:00Z","readingtime":0,"relpermalink":"/site/archive/","section":"","summary":"","tags":null,"title":"Posts Archive","type":"archive","url":"/site/archive/","weight":0,"wordcount":0},{"author":null,"categories":null,"content":null,"date":-62135596800,"description":"","dir":"services\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":200,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"9e6868f6f4296ac87107633af27928f9","permalink":"http://localhost:1313/site/services/","publishdate":"0001-01-01T00:00:00Z","readingtime":1,"relpermalink":"/site/services/","section":"","summary":"\u003ch2 id=\"РєРѕРјРїР»РµРєСЃРЅС‹Рµ-СЂРµС€РµРЅРёСЏ-РґР»СЏ-Р·Р°С‰РёС‚С‹-РІР°С€РёС…-РёРЅРІРµСЃС‚РёС†РёР№\"\u003eРљРѕРјРїР»РµРєСЃРЅС‹Рµ СЂРµС€РµРЅРёСЏ РґР»СЏ Р·Р°С‰РёС‚С‹ РІР°С€РёС… РёРЅРІРµСЃС‚РёС†РёР№\u003c/h2\u003e\n\u003cp\u003eРњС‹ РїСЂРµРґР»Р°РіР°РµРј РїРѕР»РЅС‹Р№ СЃРїРµРєС‚СЂ СѓСЃР»СѓРі РґР»СЏ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё Р·Р°РєР°Р·С‡РёРєРѕРІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР°, РѕР±РµСЃРїРµС‡РёРІР°СЏ РєРѕРЅС‚СЂРѕР»СЊ РЅР° РІСЃРµС… СЌС‚Р°РїР°С… Р¶РёР·РЅРµРЅРЅРѕРіРѕ С†РёРєР»Р° РїСЂРѕРµРєС‚Р°.\u003c/p\u003e\n\u003ch3 id=\"1-С„РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№-Р°СѓРґРёС‚\"\u003e1. Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚\u003c/h3\u003e\n\u003cp\u003eРџСЂРѕРІРѕРґРёРј РєРѕРјРїР»РµРєСЃРЅСѓСЋ РїСЂРѕРІРµСЂРєСѓ РїСЂРѕРµРєС‚РЅРѕР№ Рё СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. РќР°С€Р° С†РµР»СЊ вЂ” РёСЃРєР»СЋС‡РёС‚СЊ Р·Р°РІС‹С€РµРЅРёРµ РѕР±СЉРµРјРѕРІ СЂР°Р±РѕС‚, С†РµРЅ РЅР° РјР°С‚РµСЂРёР°Р»С‹ Рё РІС‹СЏРІРёС‚СЊ СЃРєСЂС‹С‚С‹Рµ СЂРёСЃРєРё РґРѕ РЅР°С‡Р°Р»Р° СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР°.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eР РµР·СѓР»СЊС‚Р°С‚:\u003c/strong\u003e Р­РєРѕРЅРѕРјРёСЏ РґРѕ 25% РѕС‚ РїРµСЂРІРѕРЅР°С‡Р°Р»СЊРЅРѕРіРѕ Р±СЋРґР¶РµС‚Р°.\u003c/p\u003e\u003c/blockquote\u003e\n\u003ch3 id=\"2-СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№-РєРѕРЅС‚СЂРѕР»СЊ-С‚РµС…РЅРёС‡РµСЃРєРёР№-РЅР°РґР·РѕСЂ\"\u003e2. РЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅРёС‡РµСЃРєРёР№ РЅР°РґР·РѕСЂ)\u003c/h3\u003e\n\u003cp\u003eРќР°С€Рё РёРЅР¶РµРЅРµСЂС‹ РѕСЃСѓС‰РµСЃС‚РІР»СЏСЋС‚ РїРѕСЃС‚РѕСЏРЅРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ РєР°С‡РµСЃС‚РІР° СЃС‚СЂРѕРёС‚РµР»СЊРЅРѕ-РјРѕРЅС‚Р°Р¶РЅС‹С… СЂР°Р±РѕС‚ РЅР° РїР»РѕС‰Р°РґРєРµ. РњС‹ РіР°СЂР°РЅС‚РёСЂСѓРµРј, С‡С‚Рѕ РєР°Р¶РґС‹Р№ СЌС‚Р°Рї РІС‹РїРѕР»РЅСЏРµС‚СЃСЏ РІ СЃС‚СЂРѕРіРѕРј СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРё СЃ РїСЂРѕРµРєС‚РѕРј Рё РЅРѕСЂРјР°С‚РёРІРЅС‹РјРё С‚СЂРµР±РѕРІР°РЅРёСЏРјРё.\u003c/p\u003e","tags":null,"title":"РќР°С€Рё СѓСЃР»СѓРіРё","type":"page","url":"/site/services/","weight":0,"wordcount":168},{"author":null,"categories":null,"content":null,"date":-62135596800,"description":"","dir":"about\\","excerpt_html":null,"excerpt_text":null,"expirydate":-62135596800,"fuzzywordcount":200,"html":null,"keywords":null,"kind":"page","lang":"en","lastmod":-62135596800,"objectID":"8576ec274c98b3831668a172fa632d80","permalink":"http://localhost:1313/site/about/","publishdate":"0001-01-01T00:00:00Z","readingtime":1,"relpermalink":"/site/about/","section":"","summary":"\u003ch2 id=\"РІР°С€-РЅРµР·Р°РІРёСЃРёРјС‹Р№-РїР°СЂС‚РЅРµСЂ-РІ-СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ\"\u003eР’Р°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ РїР°СЂС‚РЅРµСЂ РІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eВ«РђСѓРґРёС‚ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹С… РїСЂРѕРµРєС‚РѕРІВ»\u003c/strong\u003e вЂ” СЌС‚Рѕ РєРѕРјР°РЅРґР° СЌРєСЃРїРµСЂС‚РѕРІ РІ РѕР±Р»Р°СЃС‚Рё РёРЅР¶РёРЅРёСЂРёРЅРіР°, С„РёРЅР°РЅСЃРѕРІ Рё СѓРїСЂР°РІР»РµРЅРёСЏ, РїСЂРёР·РІР°РЅРЅР°СЏ Р·Р°С‰РёС‰Р°С‚СЊ РёРЅС‚РµСЂРµСЃС‹ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё СЃРѕР±СЃС‚РІРµРЅРЅРёРєРѕРІ РЅР° РєР°Р¶РґРѕРј СЌС‚Р°РїРµ СЂРµР°Р»РёР·Р°С†РёРё СЃС‚СЂРѕРёС‚РµР»СЊРЅРѕРіРѕ РїСЂРѕРµРєС‚Р°.\u003c/p\u003e\n\u003cp\u003eРќР°С€Р° РјРёСЃСЃРёСЏ вЂ” РѕР±РµСЃРїРµС‡РёС‚СЊ РїРѕР»РЅСѓСЋ РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ, РєРѕРЅС‚СЂРѕР»СЊ РЅР°Рґ Р·Р°С‚СЂР°С‚Р°РјРё Рё СЃРѕР±Р»СЋРґРµРЅРёРµ СЃСЂРѕРєРѕРІ. РњС‹ РїСЂРµРІСЂР°С‰Р°РµРј СЂРёСЃРєРё РІ СѓРїСЂР°РІР»СЏРµРјС‹Рµ РїСЂРѕС†РµСЃСЃС‹, Р° РёРЅРІРµСЃС‚РёС†РёРё вЂ” РІ РіР°СЂР°РЅС‚РёСЂРѕРІР°РЅРЅС‹Р№ СЂРµР·СѓР»СЊС‚Р°С‚. РЎ РЅР°РјРё РІС‹ СЃС‚СЂРѕРёС‚Рµ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊ.\u003c/p\u003e\n\u003ch3 id=\"РЅР°С€Р°-СЌРєСЃРїРµСЂС‚РёР·Р°\"\u003eРќР°С€Р° СЌРєСЃРїРµСЂС‚РёР·Р°:\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eР¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚:\u003c/strong\u003e РџСЂРѕРІРµСЂРєР° СЃРјРµС‚, РґРѕРіРѕРІРѕСЂРѕРІ Рё РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё РґР»СЏ РїСЂРµРґРѕС‚РІСЂР°С‰РµРЅРёСЏ РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹С… СЂР°СЃС…РѕРґРѕРІ.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eРЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅР°РґР·РѕСЂ):\u003c/strong\u003e Р“Р°СЂР°РЅС‚РёСЏ С‚РѕРіРѕ, С‡С‚Рѕ СЂР°Р±РѕС‚С‹ РЅР° РїР»РѕС‰Р°РґРєРµ СЃРѕРѕС‚РІРµС‚СЃС‚РІСѓСЋС‚ РїСЂРѕРµРєС‚Сѓ, РЎРќРёРџР°Рј Рё СЃС‚Р°РЅРґР°СЂС‚Р°Рј РєР°С‡РµСЃС‚РІР°.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eРЈРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё:\u003c/strong\u003e РџРѕР»РЅРѕРµ СЃРѕРїСЂРѕРІРѕР¶РґРµРЅРёРµ РїСЂРѕРµРєС‚Р° РѕС‚ РёРґРµРё РґРѕ РІРІРѕРґР° РІ СЌРєСЃРїР»СѓР°С‚Р°С†РёСЋ, РґРµР№СЃС‚РІСѓСЏ РєР°Рє РІР°С€Р° РІРЅСѓС‚СЂРµРЅРЅСЏСЏ СЃР»СѓР¶Р±Р° Р·Р°РєР°Р·С‡РёРєР°.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eРЎСѓРґРµР±РЅР°СЏ Рё РґРѕСЃСѓРґРµР±РЅР°СЏ СЌРєСЃРїРµСЂС‚РёР·Р°:\u003c/strong\u003e Р—Р°С‰РёС‚Р° РІР°С€РёС… РёРЅС‚РµСЂРµСЃРѕРІ РІ СЃРїРѕСЂР°С… СЃ РїРѕРґСЂСЏРґС‡РёРєР°РјРё Рё РіРѕСЃСѓРґР°СЂСЃС‚РІРµРЅРЅС‹РјРё РѕСЂРіР°РЅР°РјРё.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eР—Р° 12 Р»РµС‚ СЂР°Р±РѕС‚С‹ РјС‹ СѓСЃРїРµС€РЅРѕ СЃРѕРїСЂРѕРІРѕРґРёР»Рё Р±РѕР»РµРµ 150 РїСЂРѕРµРєС‚РѕРІ, СЃСЌРєРѕРЅРѕРјРёРІ РЅР°С€РёРј РєР»РёРµРЅС‚Р°Рј РјРёР»Р»РёР°СЂРґС‹ СЂСѓР±Р»РµР№.\u003c/p\u003e","tags":null,"title":"Рћ РЅР°С€РµР№ РєРѕРјРїР°РЅРёРё","type":"page","url":"/site/about/","weight":0,"wordcount":135}]

==============================

File: D:\github\bynet\site\public\index.html

<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.148.1"><script src="/site/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=site/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Huabing Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="http://localhost:1313/site//img/home-bg-jeep.jpg">
    <meta property="twitter:image" content="http://localhost:1313/site//img/home-bg-jeep.jpg" />
    

    
    <meta name="title" content="" />
    <meta property="og:title" content="" />
    <meta property="twitter:title" content="" />
    

    
    <meta name="description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚">
    <meta property="og:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    <meta property="twitter:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    

    <meta property="og:url" content="http://localhost:1313/site/" />

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="иµµеЊ–е†°, zhaohuabing, Zhaohuabing, , иµµеЊ–е†°зљ„зЅ‘з»њж—Ґеї—, иµµеЊ–е†°зљ„еЌље®ў, Zhaohuabing Blog, еЌље®ў, дёЄдєєзЅ‘з«™, дє’иЃ”зЅ‘, Web, дє‘еЋџз”џ, PaaS, Istio, Kubernetes, еѕ®жњЌеЉЎ, Microservice">
    <link rel="shortcut icon" href="/site/img/favicon.ico">

    <title>Huabing Blog | иµµеЊ–е†°зљ„еЌље®ў | Zhaohuabing Blog</title>

    <link rel="canonical" href="/site/">

    

    
    <link rel="stylesheet" href="/site/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/site/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/site/css/zanshang.min.css">

    
    <link rel="stylesheet" href="/site/css/font-awesome.all.min.css">

    
    

    
    <script src="/site/js/jquery.min.js"></script>

    
    <script src="/site/js/bootstrap.min.js"></script>

    
    <script src="/site/js/hux-blog.min.js"></script>

    
    <script src="/site/js/lazysizes.min.js"></script>

    
    

</head>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Huabing Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/site/categories/life/">life</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tech/">tech</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tips/">tips</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/notes//">NOTES</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/site/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>



<header class="intro-header" style="background-image: url('/site/img/home-bg-jeep.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="site-heading">
                    <h1>Huabing Blog </h1>
                    
		    <span class="subheading">и·ЇењЁи„љдё‹пјЊеїѓеђ‘иїњж–№</span>
                </div>
            </div>
        </div>
    </div>
</header>



  
<div data-pagefind-ignore="all" class="container">
    <div class="row">
        
        
   	    <div class="
            col-lg-8 col-lg-offset-1
            col-md-8 col-md-offset-1
            col-sm-12
            col-xs-12
            post-container
        ">
            
<div data-pagefind-ignore="all">

<div class="post-preview">
    <a href="http://localhost:1313/site/post/readme/">
        <h2 class="post-title">
            Clean White Theme for Hugo
        </h2>
	
        <h3 class="post-subtitle">
            How to set up this theme
        </h3>
	
        <div class="post-content-preview">
	
            <h1 id="clean-white-theme-for-hugo">Clean White Theme for Hugo</h1>
<p>CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live <a href="https://zhaohuabing.com">demo site</a> using this theme.</p>
<p>It is based on <a href="https://github.com/Huxpro/huxpro.github.io">huxblog Jekyll Theme</a>
and <a href="https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll">Clean Blog Jekyll Theme</a>.</p>
<p>These two upstream projects have done awesome jobs to create a blog theme, what I&rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.
While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.</p>
       
        </div>
    </a>
    <p class="post-meta">
    
        Posted by иµµеЊ–е†° on Wednesday, January 9, 2019
        
        
    
    </p>

</div>
<hr>

<div class="post-preview">
    <a href="http://localhost:1313/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/">
        <h2 class="post-title">
            Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰
        </h2>
	
        <div class="post-content-preview">
	
            д»‹з»ЌIstio v1alpha3 routing APIеЏЉе…¶и®ѕи®ЎеЋџе€™
        
        </div>
    </a>
    <p class="post-meta">
    
        Posted by В  В  &#34;иµµеЊ–е†°&#34; on Monday, June 4, 2018
        
        
    
    </p>

</div>
<hr>

<div class="post-preview">
    <a href="http://localhost:1313/site/2018/06/02/istio08/">
        <h2 class="post-title">
            Istio 0.8 ReleaseеЏ‘еёѓ
        </h2>
	
        <h3 class="post-subtitle">
            жќҐи‡ЄIstioзљ„е„їз«ҐиЉ‚з¤јз‰©
        </h3>
	
        <div class="post-content-preview">
	
            ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ
        
        </div>
    </a>
    <p class="post-meta">
    
        Posted by В  В  &#34;иµµеЊ–е†°&#34; on Saturday, June 2, 2018
        
        
    
    </p>

</div>
<hr>

<div class="post-preview">
    <a href="http://localhost:1313/site/2018/05/24/set_up_my_ubuntu_desktop/">
        <h2 class="post-title">
            Everything about Setting Up My Ubuntu Desktop
        </h2>
	
        <div class="post-content-preview">
	
            Everything about setting up my own ubuntu desktop, it&#39;s just a Note in case I need it later
        
        </div>
    </a>
    <p class="post-meta">
    
        Posted by В  В  &#34;иµµеЊ–е†°&#34; on Thursday, May 24, 2018
        
        
    
    </p>

</div>
<hr>

<div class="post-preview">
    <a href="http://localhost:1313/site/2018/05/23/external_system_auth/">
        <h2 class="post-title">
            еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰
        </h2>
	
        <h3 class="post-subtitle">
            е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶
        </h3>
	
        <div class="post-content-preview">
	
            дёЂдє›е¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁзЅ‘дёЉе•†еє—зљ„дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚
        
        </div>
    </a>
    <p class="post-meta">
    
        Posted by В  В  &#34;иµµеЊ–е†°&#34; on Wednesday, May 23, 2018
        
        
    
    </p>

</div>
<hr>

</div>

            


<ul class="pager" data-pagefind-ignore="all">
    
    
    <li class="next">
        <a href="/site/page/2/">Older Posts &rarr;</a>
    </li>
    
</ul>


       	</div>
        

<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
	
    <section class="visible-md visible-lg">
	
        <div class="short-about">
            
            <a href="/about">
               <img src="/site/img/zhaohuabing.png" alt="avatar" style="cursor: pointer" />
            </a>
            
            
                <p>Software Developer, Open Source Enthusiast and Life Adventurer</p>
            
           
           <ul class="list-inline">
               
               <li>
                   <a href="mailto:youremail@gmail.com">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                      </span>
                   </a>
               </li>
               
               
               
               
               
               
               <li>
                   <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               <li>
                   <a target="_blank" href="https://github.com/yourgithub">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
               
               <li>
                   <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
            
            
               
               
               
               
                </ul>
            </div>
    </section>
	
    
    
    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FEATURED TAGS</h5>
        <div class="tags">
            
            
               
            
               
            
               
                    <a href="/tags/docker" title="docker">
                        docker
                    </a>
               
            
               
            
               
                    <a href="/tags/istio" title="istio">
                        istio
                    </a>
               
            
               
            
               
                    <a href="/tags/kubernetes" title="kubernetes">
                        kubernetes
                    </a>
               
            
               
                    <a href="/tags/microservice" title="microservice">
                        microservice
                    </a>
               
            
               
            
               
                    <a href="/tags/security" title="security">
                        security
                    </a>
               
            
               
                    <a href="/tags/service-mesh" title="service mesh">
                        service mesh
                    </a>
               
            
               
                    <a href="/tags/tips" title="tips">
                        tips
                    </a>
               
            
               
            
               
            
               
            
        </div>
    </section>
    

    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FRIENDS</h5>
        <ul class="list-inline">
            
            <li><a target="_blank" href="https://zhaozhihan.com">Lindaзљ„еЌље®ў</a></li>
            
        </ul>
    </section>
    
    
</div>

	</div>
</div>





<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='/site/index.xml' rel="alternate" type="application/rss+xml" title="Huabing Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Huabing Blog 2025
                    
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/site\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>


==============================

File: D:\github\bynet\site\public\index.xml

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Huabing Blog</title>
    <link>http://localhost:1313/site/</link>
    <description>Recent content on Huabing Blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Sun, 15 Jun 2025 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/site/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>РљРµР№СЃ: РЎРЅРёР¶РµРЅРёРµ Р·Р°С‚СЂР°С‚ РЅР° 18% РїСЂРё СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ Р–Рљ</title>
      <link>http://localhost:1313/site/cases/case-premier/</link>
      <pubDate>Sun, 15 Jun 2025 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/cases/case-premier/</guid>
      <description>&lt;h1 id=&#34;РєРµР№СЃ-СЌРєРѕРЅРѕРјРёСЏ-250-РјР»РЅ-СЂСѓР±Р»РµР№-РЅР°-РїСЂРѕРµРєС‚Рµ-Р¶РёР»РѕРіРѕ-РєРѕРјРїР»РµРєСЃР°-РїСЂРµРјСЊРµСЂ&#34;&gt;РљРµР№СЃ: Р­РєРѕРЅРѕРјРёСЏ 250 РјР»РЅ СЂСѓР±Р»РµР№ РЅР° РїСЂРѕРµРєС‚Рµ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° &amp;ldquo;РџСЂРµРјСЊРµСЂ&amp;rdquo;&lt;/h1&gt;&#xA;&lt;p&gt;&lt;strong&gt;РљР»РёРµРЅС‚:&lt;/strong&gt; РљСЂСѓРїРЅС‹Р№ РёРЅРІРµСЃС‚РёС†РёРѕРЅРЅС‹Р№ С„РѕРЅРґ.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Р—Р°РґР°С‡Р°:&lt;/strong&gt; РџСЂРѕРІРµСЃС‚Рё РЅРµР·Р°РІРёСЃРёРјС‹Р№ Р°СѓРґРёС‚ РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё Рё СЃРјРµС‚РЅС‹С… СЂР°СЃС‡РµС‚РѕРІ РЅР° СЌС‚Р°РїРµ РїРѕРґРіРѕС‚РѕРІРєРё Рє СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІСѓ Р¶РёР»РѕРіРѕ РєРѕРјРїР»РµРєСЃР° Р±РёР·РЅРµСЃ-РєР»Р°СЃСЃР°.&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;Р§С‚Рѕ РјС‹ СЃРґРµР»Р°Р»Рё:&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;РђРЅР°Р»РёР· СЃРјРµС‚:&lt;/strong&gt; РџСЂРѕРІРµСЂРёР»Рё Р±РѕР»РµРµ 2000 РїРѕР·РёС†РёР№ РІ СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. Р’С‹СЏРІРёР»Рё РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅРѕРµ Р·Р°РІС‹С€РµРЅРёРµ СЃС‚РѕРёРјРѕСЃС‚Рё Р»РѕРіРёСЃС‚РёРєРё Рё РјР°С‚РµСЂРёР°Р»РѕРІ РЅР° 12% РїРѕ СЃСЂР°РІРЅРµРЅРёСЋ СЃ СЂС‹РЅРѕС‡РЅС‹РјРё С†РµРЅР°РјРё.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;РћРїС‚РёРјРёР·Р°С†РёСЏ РїСЂРѕРµРєС‚Р°:&lt;/strong&gt; РџСЂРµРґР»РѕР¶РёР»Рё Р·Р°РјРµРЅРёС‚СЊ РЅРµРєРѕС‚РѕСЂС‹Рµ РґРѕСЂРѕРіРѕСЃС‚РѕСЏС‰РёРµ РёРјРїРѕСЂС‚РЅС‹Рµ РёРЅР¶РµРЅРµСЂРЅС‹Рµ СЃРёСЃС‚РµРјС‹ РЅР° РєР°С‡РµСЃС‚РІРµРЅРЅС‹Рµ РѕС‚РµС‡РµСЃС‚РІРµРЅРЅС‹Рµ Р°РЅР°Р»РѕРіРё, С‡С‚Рѕ РїРѕР·РІРѕР»РёР»Рѕ СЃРѕРєСЂР°С‚РёС‚СЊ СЂР°СЃС…РѕРґС‹ Р±РµР· РїРѕС‚РµСЂРё РІ РЅР°РґРµР¶РЅРѕСЃС‚Рё.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;РџСЂРѕРІРµСЂРєР° РѕР±СЉРµРјРѕРІ:&lt;/strong&gt; РћР±РЅР°СЂСѓР¶РёР»Рё &amp;ldquo;Р·Р°РґРІРѕРµРЅРЅС‹Рµ&amp;rdquo; РѕР±СЉРµРјС‹ СЂР°Р±РѕС‚ РїРѕ Р±Р»Р°РіРѕСѓСЃС‚СЂРѕР№СЃС‚РІСѓ С‚РµСЂСЂРёС‚РѕСЂРёРё РЅР° СЃСѓРјРјСѓ 45 РјР»РЅ СЂСѓР±Р»РµР№.&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;&lt;strong&gt;Р РµР·СѓР»СЊС‚Р°С‚:&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Clean White Theme for Hugo</title>
      <link>http://localhost:1313/site/post/readme/</link>
      <pubDate>Wed, 09 Jan 2019 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/post/readme/</guid>
      <description>&lt;h1 id=&#34;clean-white-theme-for-hugo&#34;&gt;Clean White Theme for Hugo&lt;/h1&gt;&#xA;&lt;p&gt;CleanWhite is a clean, elegant, but fully functional blog theme for Hugo. Here is a live &lt;a href=&#34;https://zhaohuabing.com&#34;&gt;demo site&lt;/a&gt; using this theme.&lt;/p&gt;&#xA;&lt;p&gt;It is based on &lt;a href=&#34;https://github.com/Huxpro/huxpro.github.io&#34;&gt;huxblog Jekyll Theme&lt;/a&gt;&#xA;and &lt;a href=&#34;https://github.com/BlackrockDigital/startbootstrap-clean-blog-jekyll&#34;&gt;Clean Blog Jekyll Theme&lt;/a&gt;.&lt;/p&gt;&#xA;&lt;p&gt;These two upstream projects have done awesome jobs to create a blog theme, what I&amp;rsquo;m doing here is porting it to Hugo, of which I like the simplicity and the much faster compiling speed. Some other features which I think could be useful, such as site search with algolia and proxy for Disqus access in China, have also been built in the CleanWhite theme. Other fancy features of upstream projects are not supported by this Hugo theme, I&amp;rsquo;d like to make it as simple as possible and only focus on blog purpose, at least for now.&#xA;While I created this theme, I followed the Hugo theme best practice and tried to make every part of the template as a replaceable partial html, so it could be much easier for you to make your customization based on it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio v1aplha3 routing APIд»‹з»Ќ(иЇ‘ж–‡пј‰</title>
      <link>http://localhost:1313/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</link>
      <pubDate>Mon, 04 Jun 2018 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</guid>
      <description>&lt;p&gt;е€°з›®е‰Ќдёєж­ўпјЊIstioжЏђдѕ›дє†дёЂдёЄз®ЂеЌ•зљ„APIжќҐиї›иЎЊжµЃй‡Џз®Ўзђ†пјЊиЇҐAPIеЊ…ж‹¬дє†е››з§Ќиµ„жєђпјљRouteRuleпјЊDestinationPolicyпјЊEgressRuleе’ЊIngressпј€з›ґжЋҐдЅїз”Ёдє†Kubernetsзљ„Ingressиµ„жєђпј‰гЂ‚еЂџеЉ©ж­¤APIпјЊз”Ёж€·еЏЇд»ҐиЅ»жќѕз®Ўзђ†IstioжњЌеЉЎзЅ‘ж јдё­зљ„жµЃй‡ЏгЂ‚иЇҐAPIе…Ѓи®ёз”Ёж€·е°†иЇ·ж±‚и·Їз”±е€°з‰№е®љз‰€жњ¬зљ„жњЌеЉЎпјЊдёєеј№жЂ§жµ‹иЇ•жіЁе…Ґе»¶иїџе’Ње¤±иґҐпјЊж·»еЉ и¶…ж—¶е’Њж–­и·Їе™Ёз­‰з­‰пјЊж‰Ђжњ‰иї™дє›еЉџиѓЅйѓЅдёЌеї…ж›ґж”№еє”з”ЁзЁ‹еєЏжњ¬иє«зљ„д»Јз ЃгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio 0.8 ReleaseеЏ‘еёѓ</title>
      <link>http://localhost:1313/site/2018/06/02/istio08/</link>
      <pubDate>Sat, 02 Jun 2018 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/06/02/istio08/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;ењЁ6жњ€1ж—Ґиї™дёЂе¤©зљ„ж—©дёЉпјЊIstioз¤ѕеЊєе®ЈеёѓеЏ‘еёѓ0.8 ReleaseпјЊй™¤дє†еёёи§„зљ„ж•…йљњдї®е¤Ќе’ЊжЂ§иѓЅж”№иї›е¤–пјЊиї™дёЄе„їз«ҐиЉ‚з¤јз‰©й‡Њйќўиїжњ‰д»Ђд№€еЂјеѕ—жњџеѕ…е†…е®№е‘ўпјџи®©ж€‘д»¬жќҐзњ‹дёЂзњ‹пјљ&lt;/p&gt;&lt;/blockquote&gt;</description>
    </item>
    <item>
      <title>Everything about Setting Up My Ubuntu Desktop</title>
      <link>http://localhost:1313/site/2018/05/24/set_up_my_ubuntu_desktop/</link>
      <pubDate>Thu, 24 May 2018 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/24/set_up_my_ubuntu_desktop/</guid>
      <description>&lt;h2 id=&#34;generate-ssh-key-pair&#34;&gt;Generate SSH Key Pair&lt;/h2&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ssh-keygen -C &amp;#34;zhaohuabing@gmail.com&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;shadowsocks&#34;&gt;Shadowsocks&lt;/h2&gt;&#xA;&lt;p&gt;Install shadowsokcs&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install python3-pip&#xD;&#xA;&#xD;&#xA;sudo pip3 install shadowsocks&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Create config at &lt;code&gt;config/shadowsocks.json&lt;/code&gt;, with the following content:&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{&#xD;&#xA;&#x9;&amp;#34;server&amp;#34;:&amp;#34;remote-shadowsocks-server-ip-addr&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;server_port&amp;#34;:443,&#xD;&#xA;&#x9;&amp;#34;local_address&amp;#34;:&amp;#34;127.0.0.1&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;local_port&amp;#34;:1080,&#xD;&#xA;&#x9;&amp;#34;password&amp;#34;:&amp;#34;your-passwd&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;timeout&amp;#34;:300,&#xD;&#xA;&#x9;&amp;#34;method&amp;#34;:&amp;#34;aes-256-cfb&amp;#34;,&#xD;&#xA;&#x9;&amp;#34;fast_open&amp;#34;:false,&#xD;&#xA;&#x9;&amp;#34;workers&amp;#34;:1&#xD;&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Start a local socks proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo sslocal -c config/shadowsocks.json -d start&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;In case there is an openssl error, modify shadowsocks source file.&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/local/lib/python3.6/dist-packages/shadowsocks/crypto/openssl.py &#xD;&#xA;&#xD;&#xA;:%s/cleanup/reset/gc&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Convert shadowsocks socks proxy to http proxy&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt-get install polipo&#xD;&#xA;&#xD;&#xA;echo &amp;#34;socksParentProxy = localhost:1080&amp;#34; | sudo tee -a /etc/polipo/config &#xD;&#xA;sudo service polipo restart&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Http proxy now is available at port 8123&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дё‰</title>
      <link>http://localhost:1313/site/2018/05/23/external_system_auth/</link>
      <pubDate>Wed, 23 May 2018 18:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/23/external_system_auth/</guid>
      <description>&lt;h2 id=&#34;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&#34;&gt;е¤–йѓЁзі»з»џи®їй—®жЋ§е€¶&lt;/h2&gt;&#xA;&lt;p&gt;й™¤з”Ёж€·и®їй—®е’Њеѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®е¤–пјЊе¤–йѓЁзљ„з¬¬дё‰ж–№зі»з»џд№џеЏЇиѓЅйњЂи¦Ѓи®їй—®зі»з»џе†…йѓЁзљ„еѕ®жњЌеЉЎгЂ‚дѕ‹е¦‚ењЁдёЉдёЂзЇ‡еЌље®ўзљ„зЅ‘дёЉе•†еє—дѕ‹е­ђдё­пјЊе¤–йѓЁзљ„жЋЁиЌђжњЌеЉЎеЏЇиѓЅйњЂи¦ЃжЋҐе…Ґзі»з»џпјЊд»ҐиЋ·еЏ–е•†еє—зљ„е•†е“Ѓз›®еЅ•дїЎжЃЇгЂ‚з›ёеЇ№дєЋе†…йѓЁжњЌеЉЎд№‹й—ґзљ„и®їй—®иЂЊиЁЂпјЊе¤–йѓЁзі»з»џзљ„и®їй—®йњЂи¦Ѓиї›иЎЊдёҐж јзљ„е®‰е…ЁжЋ§е€¶гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дєЊ</title>
      <link>http://localhost:1313/site/2018/05/23/service_2_service_auth/</link>
      <pubDate>Wed, 23 May 2018 15:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/23/service_2_service_auth/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&#34;&gt;жњЌеЉЎй—ґи®¤иЇЃдёЋй‰ґжќѓ&lt;/h2&gt;&#xA;&lt;p&gt;й™¤жќҐи‡Єз”Ёж€·зљ„и®їй—®иЇ·ж±‚д»Ґе¤–пјЊеѕ®жњЌеЉЎеє”з”Ёдё­зљ„еђ„дёЄеѕ®жњЌеЉЎз›ёдє’д№‹й—ґиїжњ‰е¤§й‡Џзљ„и®їй—®пјЊеЊ…ж‹¬дё‹иї°ењєж™Їпјљ&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;з”Ёж€·й—ґжЋҐи§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;BR&gt;&#xA;дѕ‹е¦‚ењЁдёЂдёЄзЅ‘дёЉе•†еє—еє”з”Ёдё­пјЊз”Ёж€·и®їй—®иґ­з‰©иЅ¦еѕ®жњЌеЉЎиї›иЎЊз»“з®—ж—¶пјЊиґ­з‰©иЅ¦еѕ®жњЌеЉЎеЏЇиѓЅйњЂи¦Ѓи®їй—®з”Ёж€·иЇ„зє§еѕ®жњЌеЉЎиЋ·еЏ–з”Ёж€·зљ„дјље‘зє§е€«пјЊд»Ґеѕ—е€°з”Ёж€·еЏЇд»Ґдє«еЏ—иґ­з‰©жЉж‰ЈгЂ‚&lt;/li&gt;&#xA;&lt;li&gt;йќћз”Ёж€·и§¦еЏ‘зљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®&lt;BR&gt;&#xA;дѕ‹е¦‚ж•°жЌ®еђЊж­Ґж€–иЂ…еђЋеЏ°е®љж—¶д»»еЉЎеЇји‡ґзљ„еѕ®жњЌеЉЎд№‹й—ґзљ„з›ёдє’и®їй—®гЂ‚&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;ж №жЌ®еє”з”Ёзі»з»џзљ„ж•°жЌ®ж•Џж„џзЁ‹еє¦зљ„дёЌеђЊпјЊеЇ№дєЋзі»з»џе†…еѕ®жњЌеЉЎзљ„з›ёдє’и®їй—®еЏЇиѓЅжњ‰дёЌеђЊзљ„е®‰е…Ёи¦Ѓж±‚гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>еѕ®жњЌеЉЎе®‰е…ЁжІ‰жЂќеЅ•д№‹дёЂ</title>
      <link>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Wed, 23 May 2018 10:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;иї™ж®µж—¶й—ґеЇ№д№‹е‰Ќеѕ®жњЌеЉЎе®‰е…Ёз›ёе…ізљ„дёЂдє›жѓіжі•иї›иЎЊдє†иї›дёЂж­ҐжЂ»з»“е’ЊеЅ’зєіпјЊзђ†жё…дє†ењЁд№‹е‰Ќж–‡з« й‡ЊйќўжІЎжњ‰жѓіеѕ—е¤Єжё…жҐљзљ„ењ°ж–№пјЊдѕ‹е¦‚жњЌеЉЎй—ґзљ„и®¤иЇЃдёЋй‰ґжќѓд»ҐеЏЉз”Ёж€·иє«д»ЅењЁжњЌеЉЎи°ѓз”Ёй“ѕдё­зљ„дј йЂ’гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Istio Sidecarи‡ЄеЉЁжіЁе…ҐеЋџзђ†</title>
      <link>http://localhost:1313/site/2018/05/23/istio-auto-injection-with-webhook/</link>
      <pubDate>Wed, 23 May 2018 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/23/istio-auto-injection-with-webhook/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;Kubernets 1.9з‰€жњ¬еј•е…Ґдє†Admission Webhook(web е›ћи°ѓ)ж‰©е±•жњєе€¶пјЊйЂљиї‡Webhook,ејЂеЏ‘иЂ…еЏЇд»ҐйќћеёёзЃµжґ»ењ°еЇ№Kubernets API Serverзљ„еЉџиѓЅиї›иЎЊж‰©е±•пјЊењЁAPI Serverе€›е»єиµ„жєђж—¶еЇ№иµ„жєђиї›иЎЊйЄЊиЇЃж€–иЂ…дї®ж”№гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;дЅїз”Ёwebhookзљ„дјеЉїжЇдёЌйњЂи¦ЃеЇ№API Serverзљ„жєђз Ѓиї›иЎЊдї®ж”№е’Њй‡Ќж–°зј–иЇ‘е°±еЏЇд»Ґж‰©е±•е…¶еЉџиѓЅгЂ‚жЏ’е…Ґзљ„йЂ»иѕ‘е®ћзЋ°дёєдёЂдёЄз‹¬з«‹зљ„webиї›зЁ‹пјЊйЂљиї‡еЏ‚ж•°ж–№ејЏдј е…Ґе€°kubernetsдё­пјЊз”±kubernetsењЁиї›иЎЊи‡Єиє«йЂ»иѕ‘е¤„зђ†ж—¶еЇ№ж‰©е±•йЂ»иѕ‘иї›иЎЊе›ћи°ѓгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;Istio 0.7з‰€жњ¬е°±е€©з”Ёдє†Kubernets webhookе®ћзЋ°дє†sidecarзљ„и‡ЄеЉЁжіЁе…ҐгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁAlgoliaдёєGitpageеЌље®ўжЏђдѕ›з«™е†…жђњзґў</title>
      <link>http://localhost:1313/site/2018/05/21/algolia-integration-with-jekyll/</link>
      <pubDate>Mon, 21 May 2018 11:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/21/algolia-integration-with-jekyll/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;This series of articles are my notes of &amp;ldquo;Bitcoin and Cryptocurrency Technologies&amp;rdquo; online course.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;table-of-content&#34;&gt;Table of Content&lt;/h2&gt;&#xA;&lt;p&gt;{:.no_toc}&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Table of Content&#xA;{:toc}&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;scrooge-coin-transaction&#34;&gt;Scrooge Coin Transaction&lt;/h2&gt;&#xA;&lt;p&gt;Scrooge Coin programming assignment is a little bit tricky, the video of this lesson hasn&amp;rsquo;t explained some implementation details. To help you understand the transaction data structure used in Scrooge Coin, I draw this diagram:&#xA;&#xD;&#xA;  &lt;img src=&#34;http://localhost:1313/site/img/2018-5-20-cryptocurrency_week1_scroogecoin/scroogecoin.png&#34; alt=&#34;Scrooge Coin&#34;&gt;&#xD;&#xA;&#xD;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е·ќиҐїз§еўѓжЋўй™©</title>
      <link>http://localhost:1313/site/2018/05/01/may-day-jiulonghu/</link>
      <pubDate>Tue, 01 May 2018 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/01/may-day-jiulonghu/</guid>
      <description>&lt;h2 id=&#34;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&#34;&gt;еЇ»жµ®дє‘з‰§ењєдёЌйЃ‡&lt;/h2&gt;&#xA;&lt;p&gt;дє”дёЂиЉ‚е‰Ќзљ„дёЂе‘Ёе†…пјЊе‡ дёЄжњ‹еЏ‹е°±зє·зє·еќђдёЌдЅЏдє†пјЊдёЂдёЄдєЊдёЄдёЌе†Ќе®‰еїѓдёЉзЏ­пјЊејЂе§‹ењЁеѕ®дїЎзѕ¤й‡Њи®Ёи®єиї‡иЉ‚и¦Ѓе€°е“Єй‡ЊиЂЌгЂ‚&#xA;е¤§е®¶жЂќжќҐжѓіеЋ»пјЊжњЂеђЋе†іе®љиїжЇеЋ»зђ†еЋїж–№еђ‘гЂ‚е› дёєж №жЌ®е¤ље№ґи‡Єй©ѕзљ„з»ЏйЄЊпјЊеЏЄи¦Ѓе‡єдє†ж±¶е·ќпјЊжІїйЂ”йѓЅжЇйЈЋж™ЇгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Helmд»‹з»Ќ</title>
      <link>http://localhost:1313/site/2018/04/16/using-helm-to-deploy-to-kubernetes/</link>
      <pubDate>Mon, 16 Apr 2018 15:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/04/16/using-helm-to-deploy-to-kubernetes/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;p&gt;HelmжЇKubernetesз”џжЂЃзі»з»џдё­зљ„дёЂдёЄиЅЇд»¶еЊ…з®Ўзђ†е·Ґе…·гЂ‚жњ¬ж–‡е°†д»‹з»ЌдёєдЅ•и¦ЃдЅїз”ЁHelmиї›иЎЊKubernetesиЅЇд»¶еЊ…з®Ўзђ†пјЊжѕ„жё…Helmдё­дЅїз”Ёе€°зљ„з›ёе…іж¦‚еїµпјЊе№¶йЂљиї‡дёЂдёЄе…·дЅ“зљ„з¤єдѕ‹е­¦д№ е¦‚дЅ•дЅїз”ЁHelmж‰“еЊ…пјЊе€†еЏ‘пјЊе®‰иЈ…пјЊеЌ‡зє§еЏЉе›ћйЂЂKubernetesеє”з”ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Service Mesh е’Њ API Gatewayзљ„е…ізі»жЋўи®Ёпј€иЇ‘ж–‡пј‰</title>
      <link>http://localhost:1313/site/2018/04/11/service-mesh-vs-api-gateway/</link>
      <pubDate>Wed, 11 Apr 2018 09:32:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/04/11/service-mesh-vs-api-gateway/</guid>
      <description>&lt;h2 id=&#34;service-mesh-vs-api-gateway&#34;&gt;Service Mesh vs API Gateway&lt;/h2&gt;&#xA;&lt;p&gt;ењЁ&lt;a href=&#34;https://medium.com/microservices-in-practice/service-mesh-for-microservices-2953109a3c9a&#34;&gt;е‰ЌдёЂзЇ‡е…ідєЋService Meshзљ„ж–‡з« &lt;/a&gt;дё­,ж€‘жЏђе€°дє†е‡ дёЄе…ідєЋService Meshе’ЊAPI Gatewayд№‹й—ґе…ізі»зљ„й—®йўпјЊењЁжњ¬зЇ‡ж–‡з« дё­пјЊж€‘ж‰“з®—е°±Service Meshе’ЊAPI Gatewayзљ„з”ЁйЂ”иї›иЎЊиї›дёЂж­Ґи®Ёи®єгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>и°€и°€еѕ®жњЌеЉЎжћ¶жћ„дё­зљ„еџєзЎЂи®ѕж–ЅпјљService MeshдёЋIstio</title>
      <link>http://localhost:1313/site/2018/03/29/what-is-service-mesh-and-istio/</link>
      <pubDate>Thu, 29 Mar 2018 12:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/03/29/what-is-service-mesh-and-istio/</guid>
      <description>&lt;h2 id=&#34;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&#34;&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„жј”иї›&lt;/h2&gt;&#xA;&lt;p&gt;дЅњдёєдёЂз§Ќжћ¶жћ„жЁЎејЏпјЊеѕ®жњЌеЉЎе°†е¤Ќжќ‚зі»з»џе€‡е€†дёєж•°еЌЃд№ѓи‡ідёЉз™ѕдёЄе°ЏжњЌеЉЎпјЊжЇЏдёЄжњЌеЉЎиґџиґЈе®ћзЋ°дёЂдёЄз‹¬з«‹зљ„дёљеЉЎйЂ»иѕ‘гЂ‚иї™дє›е°ЏжњЌеЉЎж“дєЋиў«е°Џећ‹зљ„иЅЇд»¶е·ҐзЁ‹её€е›ўйџж‰Ђзђ†и§Је’Њдї®ж”№пјЊе№¶её¦жќҐдє†иЇ­иЁЂе’ЊжЎ†жћ¶йЂ‰ж‹©зЃµжґ»жЂ§пјЊзј©зџ­еє”з”ЁејЂеЏ‘дёЉзєїж—¶й—ґпјЊеЏЇж №жЌ®дёЌеђЊзљ„е·ҐдЅњиґџиЅЅе’Њиµ„жєђи¦Ѓж±‚еЇ№жњЌеЉЎиї›иЎЊз‹¬з«‹зј©ж‰©е®№з­‰дјеЉїгЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЏ¦дёЂж–№йќўпјЊеЅ“еє”з”Ёиў«ж‹†е€†дёєе¤љдёЄеѕ®жњЌеЉЎиї›зЁ‹еђЋпјЊиї›зЁ‹е†…зљ„ж–№жі•и°ѓз”ЁеЏж€ђдє†дє†иї›зЁ‹й—ґзљ„иїњзЁ‹и°ѓз”ЁгЂ‚еј•е…Ґдє†еЇ№е¤§й‡ЏжњЌеЉЎзљ„иїћжЋҐгЂЃз®Ўзђ†е’Њз›‘жЋ§зљ„е¤Ќжќ‚жЂ§гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•й…ЌзЅ®dockerдЅїз”ЁHTTPд»Јзђ†</title>
      <link>http://localhost:1313/site/2018/03/13/use-docker-behind-http-proxy/</link>
      <pubDate>Tue, 13 Mar 2018 18:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/03/13/use-docker-behind-http-proxy/</guid>
      <description>&lt;h2 id=&#34;ubuntu&#34;&gt;Ubuntu&lt;/h2&gt;&#xA;&lt;h3 id=&#34;и®ѕзЅ®dockerдЅїз”Ёhttp-proxy&#34;&gt;и®ѕзЅ®dockerдЅїз”Ёhttp proxy&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo /etc/default/docker&#xD;&#xA;&#xD;&#xA;export http_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export https_proxy=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTP_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xD;&#xA;export HTTPS_PROXY=&amp;#34;http://127.0.0.1:3128/&amp;#34;&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Vim Tips</title>
      <link>http://localhost:1313/site/2018/02/09/vim-tips/</link>
      <pubDate>Fri, 09 Feb 2018 11:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/02/09/vim-tips/</guid>
      <description>&lt;h2 id=&#34;vim-graphical-cheat-sheet&#34;&gt;vim graphical cheat sheet&lt;/h2&gt;&#xA;&lt;p&gt;&#xD;&#xA;  &lt;img src=&#34;//img/2018-02-09-vim-tips/vi-vim-cheat-sheet.svg&#34; alt=&#34;&#34;&gt;&#xD;&#xA;&#xD;&#xA;&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</title>
      <link>http://localhost:1313/site/2018/02/09/docker-without-sudo/</link>
      <pubDate>Fri, 09 Feb 2018 10:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/02/09/docker-without-sudo/</guid>
      <description>&lt;h3 id=&#34;add-the-docker-group-if-it-doesnt-already-exist&#34;&gt;Add the docker group if it doesn&amp;rsquo;t already exist:&lt;/h3&gt;&#xA;&lt;p&gt;sudo groupadd docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;add-the-connected-user-user-to-the-docker-group-change-the-user-name-to-match-your-preferred-user-if-you-do-not-want-to-use-your-current-user&#34;&gt;Add the connected user &amp;ldquo;$USER&amp;rdquo; to the docker group. Change the user name to match your preferred user if you do not want to use your current user:&lt;/h3&gt;&#xA;&lt;p&gt;sudo gpasswd -a $USER docker&lt;/p&gt;&#xA;&lt;h3 id=&#34;either-do-a-newgrp-docker-or-log-outin-to-activate-the-changes-to-groups&#34;&gt;Either do a newgrp docker or log out/in to activate the changes to groups.&lt;/h3&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•жћ„е»єе®‰е…Ёзљ„еѕ®жњЌеЉЎеє”з”Ёпјџ</title>
      <link>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</link>
      <pubDate>Sat, 03 Feb 2018 12:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;еѕ®жњЌеЉЎжћ¶жћ„зљ„еј•е…ҐдёєиЅЇд»¶еє”з”Ёеё¦жќҐдє†иЇёе¤љеҐЅе¤„пјљеЊ…ж‹¬е°ЏејЂеЏ‘е›ўйџпјЊзј©зџ­ејЂеЏ‘е‘ЁжњџпјЊиЇ­иЁЂйЂ‰ж‹©зЃµжґ»жЂ§пјЊеўћејєжњЌеЉЎдјёзј©иѓЅеЉ›з­‰гЂ‚дёЋж­¤еђЊж—¶пјЊд№џеј•е…Ґдє†е€†еёѓејЏзі»з»џзљ„иЇёе¤ље¤Ќжќ‚й—®йўгЂ‚е…¶дё­дёЂдёЄжЊ‘ж€е°±жЇе¦‚дЅ•ењЁеѕ®жњЌеЉЎжћ¶жћ„дё­е®ћзЋ°дёЂдёЄзЃµжґ»пјЊе®‰е…ЁпјЊй«ж•€зљ„и®¤иЇЃе’Њй‰ґжќѓж–№жЎ€гЂ‚жњ¬ж–‡е°†е°ќиЇ•е°±ж­¤й—®йўиї›иЎЊдёЂж¬ЎжЇ”иѕѓе®Њж•ґзљ„жЋўи®ЁгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>NginxејЂжєђService Meshз»„д»¶Nginmeshе®‰иЈ…жЊ‡еЌ—</title>
      <link>http://localhost:1313/site/2018/01/02/nginmesh-install/</link>
      <pubDate>Tue, 02 Jan 2018 12:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2018/01/02/nginmesh-install/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;NginmeshжЇNGINXзљ„Service MeshејЂжєђйЎ№з›®пјЊз”ЁдєЋIstioжњЌеЉЎзЅ‘ж је№іеЏ°дё­зљ„ж•°жЌ®йќўд»Јзђ†гЂ‚е®ѓж—ЁењЁжЏђдѕ›дёѓе±‚иґџиЅЅеќ‡иЎЎе’ЊжњЌеЉЎи·Їз”±еЉџиѓЅпјЊдёЋIstioй›†ж€ђдЅњдёєsidecarйѓЁзЅІпјЊе№¶е°†д»ҐвЂњж ‡е‡†пјЊеЏЇйќ е’Ње®‰е…Ёзљ„ж–№ејЏвЂќдЅїеѕ—жњЌеЉЎй—ґйЂљдїЎж›ґе®№ж“гЂ‚NginmeshењЁд»Ље№ґеє•е·Із»Џиїћз»­еЏ‘еёѓдє†0.2е’Њ0.3з‰€жњ¬пјЊжЏђдѕ›дє†жњЌеЉЎеЏ‘зЋ°пјЊиЇ·ж±‚иЅ¬еЏ‘пјЊи·Їз”±и§„е€™пјЊжЂ§иѓЅжЊ‡ж ‡ж”¶й›†з­‰еЉџиѓЅгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>е¦‚дЅ•д»Ће¤–йѓЁи®їй—®Kubernetesй›†зѕ¤дё­зљ„еє”з”Ёпјџ</title>
      <link>http://localhost:1313/site/2017/11/28/access-application-from-outside/</link>
      <pubDate>Tue, 28 Nov 2017 12:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2017/11/28/access-application-from-outside/</guid>
      <description>&lt;h2 id=&#34;е‰ЌиЁЂ&#34;&gt;е‰ЌиЁЂ&lt;/h2&gt;&#xA;&lt;p&gt;ж€‘д»¬зџҐйЃ“пјЊkubernetesзљ„Cluster Networkе±ћдєЋз§Ѓжњ‰зЅ‘з»њпјЊеЏЄиѓЅењЁcluster Networkе†…йѓЁж‰ЌиѓЅи®їй—®йѓЁзЅІзљ„еє”з”ЁпјЊй‚Је¦‚дЅ•ж‰ЌиѓЅе°†Kubernetesй›†зѕ¤дё­зљ„еє”з”ЁжљґйњІе€°е¤–йѓЁзЅ‘з»њпјЊдёєе¤–йѓЁз”Ёж€·жЏђдѕ›жњЌеЉЎе‘ўпјџжњ¬ж–‡жЋўи®Ёдє†д»Ће¤–йѓЁзЅ‘з»њи®їй—®kubernetes clusterдё­еє”з”Ёзљ„е‡ з§Ќе®ћзЋ°ж–№ејЏгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>й‡‡з”ЁIstioе®ћзЋ°зЃ°еє¦еЏ‘еёѓ(й‡‘дёќй›ЂеЏ‘еёѓ)</title>
      <link>http://localhost:1313/site/2017/11/08/istio-canary-release/</link>
      <pubDate>Wed, 08 Nov 2017 15:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2017/11/08/istio-canary-release/</guid>
      <description>&lt;h2 id=&#34;зЃ°еє¦еЏ‘еёѓеЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓд»‹з»Ќ&#34;&gt;зЃ°еє¦еЏ‘еёѓпј€еЏ€еђЌй‡‘дёќй›ЂеЏ‘еёѓпј‰д»‹з»Ќ&lt;/h2&gt;&#xA;&lt;p&gt;еЅ“еє”з”ЁдёЉзєїд»ҐеђЋпјЊиїђз»ґйќўдёґзљ„дёЂе¤§жЊ‘ж€жЇе¦‚дЅ•иѓЅе¤џењЁдёЌеЅ±е“Ќе·ІдёЉзєїдёљеЉЎзљ„жѓ…е†µдё‹иї›иЎЊеЌ‡зє§гЂ‚еЃљиї‡дє§е“Ѓзљ„еђЊе­¦йѓЅжё…жҐљпјЊдёЌз®ЎењЁеЏ‘еёѓе‰ЌеЃљиї‡е¤љд№€е®Ње¤‡зљ„и‡ЄеЉЁеЊ–е’Њдєєе·Ґжµ‹иЇ•пјЊењЁеЏ‘еёѓеђЋйѓЅдјље‡єзЋ°ж€–е¤љж€–е°‘зљ„ж•…йљњгЂ‚ж №жЌ®еўЁиЏІе®љеѕ‹пјЊеЏЇиѓЅдјље‡єй”™зљ„з‰€жњ¬еЏ‘еёѓдёЂе®љдјље‡єй”™гЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>дЅїз”ЁIstioе®ћзЋ°еє”з”ЁжµЃй‡ЏиЅ¬з§»</title>
      <link>http://localhost:1313/site/2017/11/07/istio-traffic-shifting/</link>
      <pubDate>Tue, 07 Nov 2017 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2017/11/07/istio-traffic-shifting/</guid>
      <description>&lt;p&gt;е…ідєЋIstioзљ„ж›ґе¤ље†…е®№иЇ·еЏ‚иЂѓ&lt;a href=&#34;http://istio.doczh.cn/&#34;&gt;istioдё­ж–‡ж–‡жЎЈ&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;еЋџж–‡еЏ‚и§Ѓ&lt;a href=&#34;https://istio.io/docs/tasks/traffic-management/traffic-shifting.html&#34;&gt;Traffic Shifting&lt;/a&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњ¬д»»еЉЎе°†жј”з¤єе¦‚дЅ•е°†еє”з”ЁжµЃй‡ЏйЂђжёђд»Ћж—§з‰€жњ¬зљ„жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬гЂ‚йЂљиї‡IstioпјЊеЏЇд»ҐдЅїз”ЁдёЂзі»е€—дёЌеђЊжќѓй‡Ќзљ„и§„е€™пј€10%пјЊ20%пјЊВ·В·В· 100%пј‰е°†жµЃй‡Џе№ізј“ењ°д»Ћж—§з‰€жњ¬жњЌеЉЎиїЃз§»е€°ж–°з‰€жњ¬жњЌеЉЎгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°</title>
      <link>http://localhost:1313/site/2017/11/04/istio-install_and_example/</link>
      <pubDate>Sat, 04 Nov 2017 12:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2017/11/04/istio-install_and_example/</guid>
      <description>&lt;h2 id=&#34;жњЌеЉЎзЅ‘ж јз®Ђд»‹&#34;&gt;жњЌеЉЎзЅ‘ж јз®Ђд»‹&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;жњЌеЉЎзЅ‘ж ј&lt;/strong&gt;пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ&lt;strong&gt;жћ¶жћ„жЁЎејЏ&lt;/strong&gt;гЂ‚&lt;/p&gt;&#xA;&lt;p&gt;жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>Welcome to Zhaohuabing Blog</title>
      <link>http://localhost:1313/site/2017/11/03/hello-world/</link>
      <pubDate>Sat, 04 Nov 2017 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/2017/11/03/hello-world/</guid>
      <description>&lt;blockquote&gt;&#xA;&lt;p&gt;вЂњYeah It&amp;rsquo;s on. вЂќ&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;hello-world&#34;&gt;Hello World!&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>http://localhost:1313/site/notes/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/notes/</guid>
      <description>&lt;h2 id=&#34;go-иЇ­иЁЂе­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-golang&#34;&gt;Go иЇ­иЁЂе­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;&#xA;&lt;h2 id=&#34;envoy-е­¦д№ з¬”и®°&#34;&gt;&lt;a href=&#34;https://zhaohuabing.com/learning-envoy&#34;&gt;Envoy е­¦д№ з¬”и®°&lt;/a&gt;&lt;/h2&gt;</description>
    </item>
    <item>
      <title></title>
      <link>http://localhost:1313/site/search/placeholder/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/search/placeholder/</guid>
      <description></description>
    </item>
    <item>
      <title>Posts Archive</title>
      <link>http://localhost:1313/site/archive/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/archive/</guid>
      <description></description>
    </item>
    <item>
      <title>РќР°С€Рё СѓСЃР»СѓРіРё</title>
      <link>http://localhost:1313/site/services/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/services/</guid>
      <description>&lt;h2 id=&#34;РєРѕРјРїР»РµРєСЃРЅС‹Рµ-СЂРµС€РµРЅРёСЏ-РґР»СЏ-Р·Р°С‰РёС‚С‹-РІР°С€РёС…-РёРЅРІРµСЃС‚РёС†РёР№&#34;&gt;РљРѕРјРїР»РµРєСЃРЅС‹Рµ СЂРµС€РµРЅРёСЏ РґР»СЏ Р·Р°С‰РёС‚С‹ РІР°С€РёС… РёРЅРІРµСЃС‚РёС†РёР№&lt;/h2&gt;&#xA;&lt;p&gt;РњС‹ РїСЂРµРґР»Р°РіР°РµРј РїРѕР»РЅС‹Р№ СЃРїРµРєС‚СЂ СѓСЃР»СѓРі РґР»СЏ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё Р·Р°РєР°Р·С‡РёРєРѕРІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР°, РѕР±РµСЃРїРµС‡РёРІР°СЏ РєРѕРЅС‚СЂРѕР»СЊ РЅР° РІСЃРµС… СЌС‚Р°РїР°С… Р¶РёР·РЅРµРЅРЅРѕРіРѕ С†РёРєР»Р° РїСЂРѕРµРєС‚Р°.&lt;/p&gt;&#xA;&lt;h3 id=&#34;1-С„РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№-Р°СѓРґРёС‚&#34;&gt;1. Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚&lt;/h3&gt;&#xA;&lt;p&gt;РџСЂРѕРІРѕРґРёРј РєРѕРјРїР»РµРєСЃРЅСѓСЋ РїСЂРѕРІРµСЂРєСѓ РїСЂРѕРµРєС‚РЅРѕР№ Рё СЃРјРµС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё. РќР°С€Р° С†РµР»СЊ вЂ” РёСЃРєР»СЋС‡РёС‚СЊ Р·Р°РІС‹С€РµРЅРёРµ РѕР±СЉРµРјРѕРІ СЂР°Р±РѕС‚, С†РµРЅ РЅР° РјР°С‚РµСЂРёР°Р»С‹ Рё РІС‹СЏРІРёС‚СЊ СЃРєСЂС‹С‚С‹Рµ СЂРёСЃРєРё РґРѕ РЅР°С‡Р°Р»Р° СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІР°.&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;&lt;strong&gt;Р РµР·СѓР»СЊС‚Р°С‚:&lt;/strong&gt; Р­РєРѕРЅРѕРјРёСЏ РґРѕ 25% РѕС‚ РїРµСЂРІРѕРЅР°С‡Р°Р»СЊРЅРѕРіРѕ Р±СЋРґР¶РµС‚Р°.&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;2-СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№-РєРѕРЅС‚СЂРѕР»СЊ-С‚РµС…РЅРёС‡РµСЃРєРёР№-РЅР°РґР·РѕСЂ&#34;&gt;2. РЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅРёС‡РµСЃРєРёР№ РЅР°РґР·РѕСЂ)&lt;/h3&gt;&#xA;&lt;p&gt;РќР°С€Рё РёРЅР¶РµРЅРµСЂС‹ РѕСЃСѓС‰РµСЃС‚РІР»СЏСЋС‚ РїРѕСЃС‚РѕСЏРЅРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ РєР°С‡РµСЃС‚РІР° СЃС‚СЂРѕРёС‚РµР»СЊРЅРѕ-РјРѕРЅС‚Р°Р¶РЅС‹С… СЂР°Р±РѕС‚ РЅР° РїР»РѕС‰Р°РґРєРµ. РњС‹ РіР°СЂР°РЅС‚РёСЂСѓРµРј, С‡С‚Рѕ РєР°Р¶РґС‹Р№ СЌС‚Р°Рї РІС‹РїРѕР»РЅСЏРµС‚СЃСЏ РІ СЃС‚СЂРѕРіРѕРј СЃРѕРѕС‚РІРµС‚СЃС‚РІРёРё СЃ РїСЂРѕРµРєС‚РѕРј Рё РЅРѕСЂРјР°С‚РёРІРЅС‹РјРё С‚СЂРµР±РѕРІР°РЅРёСЏРјРё.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Рћ РЅР°С€РµР№ РєРѕРјРїР°РЅРёРё</title>
      <link>http://localhost:1313/site/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/site/about/</guid>
      <description>&lt;h2 id=&#34;РІР°С€-РЅРµР·Р°РІРёСЃРёРјС‹Р№-РїР°СЂС‚РЅРµСЂ-РІ-СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ&#34;&gt;Р’Р°С€ РЅРµР·Р°РІРёСЃРёРјС‹Р№ РїР°СЂС‚РЅРµСЂ РІ СЃС‚СЂРѕРёС‚РµР»СЊСЃС‚РІРµ&lt;/h2&gt;&#xA;&lt;p&gt;&lt;strong&gt;В«РђСѓРґРёС‚ СЃС‚СЂРѕРёС‚РµР»СЊРЅС‹С… РїСЂРѕРµРєС‚РѕРІВ»&lt;/strong&gt; вЂ” СЌС‚Рѕ РєРѕРјР°РЅРґР° СЌРєСЃРїРµСЂС‚РѕРІ РІ РѕР±Р»Р°СЃС‚Рё РёРЅР¶РёРЅРёСЂРёРЅРіР°, С„РёРЅР°РЅСЃРѕРІ Рё СѓРїСЂР°РІР»РµРЅРёСЏ, РїСЂРёР·РІР°РЅРЅР°СЏ Р·Р°С‰РёС‰Р°С‚СЊ РёРЅС‚РµСЂРµСЃС‹ РёРЅРІРµСЃС‚РѕСЂРѕРІ, РґРµРІРµР»РѕРїРµСЂРѕРІ Рё СЃРѕР±СЃС‚РІРµРЅРЅРёРєРѕРІ РЅР° РєР°Р¶РґРѕРј СЌС‚Р°РїРµ СЂРµР°Р»РёР·Р°С†РёРё СЃС‚СЂРѕРёС‚РµР»СЊРЅРѕРіРѕ РїСЂРѕРµРєС‚Р°.&lt;/p&gt;&#xA;&lt;p&gt;РќР°С€Р° РјРёСЃСЃРёСЏ вЂ” РѕР±РµСЃРїРµС‡РёС‚СЊ РїРѕР»РЅСѓСЋ РїСЂРѕР·СЂР°С‡РЅРѕСЃС‚СЊ, РєРѕРЅС‚СЂРѕР»СЊ РЅР°Рґ Р·Р°С‚СЂР°С‚Р°РјРё Рё СЃРѕР±Р»СЋРґРµРЅРёРµ СЃСЂРѕРєРѕРІ. РњС‹ РїСЂРµРІСЂР°С‰Р°РµРј СЂРёСЃРєРё РІ СѓРїСЂР°РІР»СЏРµРјС‹Рµ РїСЂРѕС†РµСЃСЃС‹, Р° РёРЅРІРµСЃС‚РёС†РёРё вЂ” РІ РіР°СЂР°РЅС‚РёСЂРѕРІР°РЅРЅС‹Р№ СЂРµР·СѓР»СЊС‚Р°С‚. РЎ РЅР°РјРё РІС‹ СЃС‚СЂРѕРёС‚Рµ СѓРІРµСЂРµРЅРЅРѕСЃС‚СЊ.&lt;/p&gt;&#xA;&lt;h3 id=&#34;РЅР°С€Р°-СЌРєСЃРїРµСЂС‚РёР·Р°&#34;&gt;РќР°С€Р° СЌРєСЃРїРµСЂС‚РёР·Р°:&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;Р¤РёРЅР°РЅСЃРѕРІРѕ-С‚РµС…РЅРёС‡РµСЃРєРёР№ Р°СѓРґРёС‚:&lt;/strong&gt; РџСЂРѕРІРµСЂРєР° СЃРјРµС‚, РґРѕРіРѕРІРѕСЂРѕРІ Рё РїСЂРѕРµРєС‚РЅРѕР№ РґРѕРєСѓРјРµРЅС‚Р°С†РёРё РґР»СЏ РїСЂРµРґРѕС‚РІСЂР°С‰РµРЅРёСЏ РЅРµРѕР±РѕСЃРЅРѕРІР°РЅРЅС‹С… СЂР°СЃС…РѕРґРѕРІ.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;РЎС‚СЂРѕРёС‚РµР»СЊРЅС‹Р№ РєРѕРЅС‚СЂРѕР»СЊ (РўРµС…РЅР°РґР·РѕСЂ):&lt;/strong&gt; Р“Р°СЂР°РЅС‚РёСЏ С‚РѕРіРѕ, С‡С‚Рѕ СЂР°Р±РѕС‚С‹ РЅР° РїР»РѕС‰Р°РґРєРµ СЃРѕРѕС‚РІРµС‚СЃС‚РІСѓСЋС‚ РїСЂРѕРµРєС‚Сѓ, РЎРќРёРџР°Рј Рё СЃС‚Р°РЅРґР°СЂС‚Р°Рј РєР°С‡РµСЃС‚РІР°.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;РЈРїСЂР°РІР»РµРЅРёРµ РїСЂРѕРµРєС‚Р°РјРё:&lt;/strong&gt; РџРѕР»РЅРѕРµ СЃРѕРїСЂРѕРІРѕР¶РґРµРЅРёРµ РїСЂРѕРµРєС‚Р° РѕС‚ РёРґРµРё РґРѕ РІРІРѕРґР° РІ СЌРєСЃРїР»СѓР°С‚Р°С†РёСЋ, РґРµР№СЃС‚РІСѓСЏ РєР°Рє РІР°С€Р° РІРЅСѓС‚СЂРµРЅРЅСЏСЏ СЃР»СѓР¶Р±Р° Р·Р°РєР°Р·С‡РёРєР°.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;РЎСѓРґРµР±РЅР°СЏ Рё РґРѕСЃСѓРґРµР±РЅР°СЏ СЌРєСЃРїРµСЂС‚РёР·Р°:&lt;/strong&gt; Р—Р°С‰РёС‚Р° РІР°С€РёС… РёРЅС‚РµСЂРµСЃРѕРІ РІ СЃРїРѕСЂР°С… СЃ РїРѕРґСЂСЏРґС‡РёРєР°РјРё Рё РіРѕСЃСѓРґР°СЂСЃС‚РІРµРЅРЅС‹РјРё РѕСЂРіР°РЅР°РјРё.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Р—Р° 12 Р»РµС‚ СЂР°Р±РѕС‚С‹ РјС‹ СѓСЃРїРµС€РЅРѕ СЃРѕРїСЂРѕРІРѕРґРёР»Рё Р±РѕР»РµРµ 150 РїСЂРѕРµРєС‚РѕРІ, СЃСЌРєРѕРЅРѕРјРёРІ РЅР°С€РёРј РєР»РёРµРЅС‚Р°Рј РјРёР»Р»РёР°СЂРґС‹ СЂСѓР±Р»РµР№.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>


==============================

File: D:\github\bynet\site\public\sitemap.xml

<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:xhtml="http://www.w3.org/1999/xhtml">
  <url>
    <loc>http://localhost:1313/site/</loc>
    <lastmod>2025-07-24T23:32:25+03:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/posts/</loc>
    <lastmod>2025-07-24T23:32:25+03:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/cases/case-premier/</loc>
    <lastmod>2025-06-15T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/cases/</loc>
    <lastmod>2025-06-15T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/post/readme/</loc>
    <lastmod>2019-01-09T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/post/</loc>
    <lastmod>2019-01-09T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/categories/</loc>
    <lastmod>2018-06-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/istio/</loc>
    <lastmod>2018-06-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/06/04/introducing-the-istio-v1alpha3-routing-api/</loc>
    <lastmod>2018-06-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/</loc>
    <lastmod>2018-06-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/categories/tech/</loc>
    <lastmod>2018-06-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/06/02/istio08/</loc>
    <lastmod>2018-06-02T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/24/set_up_my_ubuntu_desktop/</loc>
    <lastmod>2018-05-24T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/categories/tips/</loc>
    <lastmod>2018-05-24T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/ubuntu/</loc>
    <lastmod>2018-05-24T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/microservice/</loc>
    <lastmod>2018-05-23T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/security/</loc>
    <lastmod>2018-05-23T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/23/external_system_auth/</loc>
    <lastmod>2018-05-23T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/23/service_2_service_auth/</loc>
    <lastmod>2018-05-23T15:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</loc>
    <lastmod>2018-05-23T10:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/23/istio-auto-injection-with-webhook/</loc>
    <lastmod>2018-05-23T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/kubernetes/</loc>
    <lastmod>2018-05-23T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/bitcoin/</loc>
    <lastmod>2018-05-21T11:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/jekyllq/</loc>
    <lastmod>2018-05-21T11:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/21/algolia-integration-with-jekyll/</loc>
    <lastmod>2018-05-21T11:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/categories/life/</loc>
    <lastmod>2018-05-01T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/travel/</loc>
    <lastmod>2018-05-01T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/01/may-day-jiulonghu/</loc>
    <lastmod>2018-05-01T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/helm/</loc>
    <lastmod>2018-04-16T15:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/04/16/using-helm-to-deploy-to-kubernetes/</loc>
    <lastmod>2018-04-16T15:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/api-gateway/</loc>
    <lastmod>2018-04-11T09:32:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/service-mesh/</loc>
    <lastmod>2018-04-11T09:32:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/04/11/service-mesh-vs-api-gateway/</loc>
    <lastmod>2018-04-11T09:32:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/03/29/what-is-service-mesh-and-istio/</loc>
    <lastmod>2018-03-29T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/docker/</loc>
    <lastmod>2018-03-13T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/tips/</loc>
    <lastmod>2018-03-13T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/03/13/use-docker-behind-http-proxy/</loc>
    <lastmod>2018-03-13T18:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/vim/</loc>
    <lastmod>2018-02-09T11:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/02/09/vim-tips/</loc>
    <lastmod>2018-02-09T11:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/02/09/docker-without-sudo/</loc>
    <lastmod>2018-02-09T10:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/05/22/user_authentication_authorization/</loc>
    <lastmod>2018-02-03T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/tags/nginmesh/</loc>
    <lastmod>2018-01-02T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2018/01/02/nginmesh-install/</loc>
    <lastmod>2018-01-02T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2017/11/28/access-application-from-outside/</loc>
    <lastmod>2017-11-28T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2017/11/08/istio-canary-release/</loc>
    <lastmod>2017-11-08T15:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2017/11/07/istio-traffic-shifting/</loc>
    <lastmod>2017-11-07T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2017/11/04/istio-install_and_example/</loc>
    <lastmod>2017-11-04T12:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/2017/11/03/hello-world/</loc>
    <lastmod>2017-11-04T00:00:00+00:00</lastmod>
  </url><url>
    <loc>http://localhost:1313/site/notes/</loc>
  </url><url>
    <loc>http://localhost:1313/site/search/placeholder/</loc>
  </url><url>
    <loc>http://localhost:1313/site/archive/</loc>
  </url><url>
    <loc>http://localhost:1313/site/search/</loc>
  </url><url>
    <loc>http://localhost:1313/site/services/</loc>
  </url><url>
    <loc>http://localhost:1313/site/about/</loc>
  </url>
</urlset>


==============================

File: D:\github\bynet\site\public\2017\11\03\hello-world\index.html

<!DOCTYPE html>
<html lang="en-us">
<head><script src="/site/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=site/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Huabing Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://img.zhaohuabing.com/post-bg-2015.jpg">
    <meta property="twitter:image" content="https://img.zhaohuabing.com/post-bg-2015.jpg" />
    

    
    <meta name="title" content="Welcome to Zhaohuabing Blog" />
    <meta property="og:title" content="Welcome to Zhaohuabing Blog" />
    <meta property="twitter:title" content="Welcome to Zhaohuabing Blog" />
    

    
    <meta name="description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚">
    <meta property="og:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    <meta property="twitter:description" content="иµµеЊ–е†°пјЊзЁ‹еєЏе‘, ејЂжєђз€±еҐЅиЂ…пјЊз”џжґ»жЋўй™©е®¶ | иї™й‡ЊжЇ иµµеЊ–е†° зљ„еЌље®ўпјЊдёЋдЅ дёЂиµ·еЏ‘зЋ°ж›ґе¤§зљ„дё–з•ЊгЂ‚" />
    

    <meta property="og:url" content="http://localhost:1313/site/2017/11/03/hello-world/" />

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="иµµеЊ–е†°, zhaohuabing, Zhaohuabing, , иµµеЊ–е†°зљ„зЅ‘з»њж—Ґеї—, иµµеЊ–е†°зљ„еЌље®ў, Zhaohuabing Blog, еЌље®ў, дёЄдєєзЅ‘з«™, дє’иЃ”зЅ‘, Web, дє‘еЋџз”џ, PaaS, Istio, Kubernetes, еѕ®жњЌеЉЎ, Microservice">
    <link rel="shortcut icon" href="/site/img/favicon.ico">

    <title>Welcome to Zhaohuabing Blog | иµµеЊ–е†°зљ„еЌље®ў | Zhaohuabing Blog</title>

    <link rel="canonical" href="/site/2017/11/03/hello-world/">

    

    
    <link rel="stylesheet" href="/site/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/site/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/site/css/zanshang.min.css">

    
    <link rel="stylesheet" href="/site/css/font-awesome.all.min.css">

    
    

    
    <script src="/site/js/jquery.min.js"></script>

    
    <script src="/site/js/bootstrap.min.js"></script>

    
    <script src="/site/js/hux-blog.min.js"></script>

    
    <script src="/site/js/lazysizes.min.js"></script>

    
    

</head>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Huabing Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/site/categories/life/">life</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tech/">tech</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tips/">tips</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/notes//">NOTES</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/site/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>



<header class="intro-header" style="background-image: url('/site/img/home-bg-jeep.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="site-heading">
                    <h1>Huabing Blog </h1>
                    
		    <span class="subheading">и·ЇењЁи„љдё‹пјЊеїѓеђ‘иїњж–№</span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">
            
            <div class="
            col-lg-8 col-lg-offset-1
            col-md-8 col-md-offset-1
            col-sm-12
            col-xs-12
            post-container">
            
                <blockquote>
<p>вЂњYeah It&rsquo;s on. вЂќ</p></blockquote>
<h2 id="hello-world">Hello World!</h2>

            
             
            




<link href="https://xxx.xxx.com/dist/Artalk.css" rel="stylesheet" />
<script src="https://xxx.xxx.com/dist/Artalk.js"></script>


<div id="Comments"></div>

<script>
    Artalk.init({
        el: '#Comments',
        pageKey: 'http:\/\/localhost:1313\/site\/2017\/11\/03\/hello-world\/',
        pageTitle: 'Welcome to Zhaohuabing Blog',
        server: 'https:\/\/xxx.xxx.com',
        site: 'xxx blog',
    })
</script>


            
            </div>
            
            

<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
	
    <section class="visible-md visible-lg">
	
        <div class="short-about">
            
            <a href="/about">
               <img src="/site/img/zhaohuabing.png" alt="avatar" style="cursor: pointer" />
            </a>
            
            
                <p>Software Developer, Open Source Enthusiast and Life Adventurer</p>
            
           
           <ul class="list-inline">
               
               <li>
                   <a href="mailto:youremail@gmail.com">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                      </span>
                   </a>
               </li>
               
               
               
               
               
               
               <li>
                   <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               <li>
                   <a target="_blank" href="https://github.com/yourgithub">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
               
               <li>
                   <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
            
            
               
               
               
               
                </ul>
            </div>
    </section>
	
    
    
    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FEATURED TAGS</h5>
        <div class="tags">
            
            
               
            
               
            
               
                    <a href="/tags/docker" title="docker">
                        docker
                    </a>
               
            
               
            
               
                    <a href="/tags/istio" title="istio">
                        istio
                    </a>
               
            
               
            
               
                    <a href="/tags/kubernetes" title="kubernetes">
                        kubernetes
                    </a>
               
            
               
                    <a href="/tags/microservice" title="microservice">
                        microservice
                    </a>
               
            
               
            
               
                    <a href="/tags/security" title="security">
                        security
                    </a>
               
            
               
                    <a href="/tags/service-mesh" title="service mesh">
                        service mesh
                    </a>
               
            
               
                    <a href="/tags/tips" title="tips">
                        tips
                    </a>
               
            
               
            
               
            
               
            
        </div>
    </section>
    

    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FRIENDS</h5>
        <ul class="list-inline">
            
            <li><a target="_blank" href="https://zhaozhihan.com">Lindaзљ„еЌље®ў</a></li>
            
        </ul>
    </section>
    
    
</div>

        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="Huabing Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Huabing Blog 2025
                    
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/site\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>


==============================

File: D:\github\bynet\site\public\2017\11\04\istio-install_and_example\index.html

<!DOCTYPE html>
<html lang="en-us">
<head><script src="/site/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=site/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Huabing Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="/img/istio-install_and_example/post-bg.jpg">
    <meta property="twitter:image" content="/img/istio-install_and_example/post-bg.jpg" />
    

    
    <meta name="title" content="IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°" />
    <meta property="og:title" content="IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°" />
    <meta property="twitter:title" content="IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°" />
    

    
    <meta name="description" content="IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚">
    <meta property="og:description" content="IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚" />
    <meta property="twitter:description" content="IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњ,жњ¬ж–‡е°†жј”з¤єе¦‚дЅ•д»ЋиЈёжњєејЂе§‹д»Ћй›¶жђ­е»єIstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏгЂ‚" />
    

    <meta property="og:url" content="http://localhost:1313/site/2017/11/04/istio-install_and_example/" />

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="иµµеЊ–е†°, zhaohuabing, Zhaohuabing, , иµµеЊ–е†°зљ„зЅ‘з»њж—Ґеї—, иµµеЊ–е†°зљ„еЌље®ў, Zhaohuabing Blog, еЌље®ў, дёЄдєєзЅ‘з«™, дє’иЃ”зЅ‘, Web, дє‘еЋџз”џ, PaaS, Istio, Kubernetes, еѕ®жњЌеЉЎ, Microservice">
    <link rel="shortcut icon" href="/site/img/favicon.ico">

    <title>IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®° | иµµеЊ–е†°зљ„еЌље®ў | Zhaohuabing Blog</title>

    <link rel="canonical" href="/site/2017/11/04/istio-install_and_example/">

    

    
    <link rel="stylesheet" href="/site/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/site/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/site/css/zanshang.min.css">

    
    <link rel="stylesheet" href="/site/css/font-awesome.all.min.css">

    
    

    
    <script src="/site/js/jquery.min.js"></script>

    
    <script src="/site/js/bootstrap.min.js"></script>

    
    <script src="/site/js/hux-blog.min.js"></script>

    
    <script src="/site/js/lazysizes.min.js"></script>

    
    

</head>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Huabing Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/site/categories/life/">life</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tech/">tech</a>
                        </li>
                        
                        <li>
                            <a href="/site/categories/tips/">tips</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/archive//">ARCHIVE</a></li>
                    
                        <li><a href="/notes//">NOTES</a></li>
                    
                        <li><a href="/about//">ABOUT</a></li>
                    
		            <li>
                        <a href="/site/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>



<header class="intro-header" style="background-image: url('/site/img/home-bg-jeep.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 ">
                <div class="site-heading">
                    <h1>Huabing Blog </h1>
                    
		    <span class="subheading">и·ЇењЁи„љдё‹пјЊеїѓеђ‘иїњж–№</span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">
            
            <div class="
            col-lg-8 col-lg-offset-1
            col-md-8 col-md-offset-1
            col-sm-12
            col-xs-12
            post-container">
            
                <h2 id="жњЌеЉЎзЅ‘ж јз®Ђд»‹">жњЌеЉЎзЅ‘ж јз®Ђд»‹</h2>
<p><strong>жњЌеЉЎзЅ‘ж ј</strong>пј€Service Meshпј‰жЇдёєи§Је†іеѕ®жњЌеЉЎзљ„йЂљдїЎе’ЊжІ»зђ†иЂЊе‡єзЋ°зљ„дёЂз§Ќ<strong>жћ¶жћ„жЁЎејЏ</strong>гЂ‚</p>
<p>жњЌеЉЎзЅ‘ж је°†жњЌеЉЎй—ґйЂљи®Їд»ҐеЏЉдёЋж­¤з›ёе…ізљ„з®Ўзђ†жЋ§е€¶еЉџиѓЅд»ЋдёљеЉЎзЁ‹еєЏдё­дё‹з§»е€°дёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊд»ЋиЂЊеЅ»еє•йљ”з¦»дє†дёљеЉЎйЂ»иѕ‘е’ЊжњЌеЉЎйЂљи®Їдё¤дёЄе…іжіЁз‚№гЂ‚й‡‡з”ЁжњЌеЉЎзЅ‘ж јеђЋпјЊеє”з”ЁејЂеЏ‘иЂ…еЏЄйњЂи¦Ѓе…іжіЁе№¶е®ћзЋ°еє”з”ЁдёљеЉЎйЂ»иѕ‘гЂ‚жњЌеЉЎд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊйЂљи®Їзљ„еЏЇйќ жЂ§пјЊйЂљи®Їзљ„е®‰е…ЁжЂ§пјЊжњЌеЉЎи·Їз”±з­‰з”±жњЌеЉЎзЅ‘ж је±‚иї›иЎЊе¤„зђ†пјЊе№¶еЇ№еє”з”ЁзЁ‹еєЏйЂЏжЋгЂ‚</p>
<p>и®©ж€‘д»¬жќҐе›ћйЎѕдёЂдё‹еѕ®жњЌеЉЎжћ¶жћ„зљ„еЏ‘е±•иї‡зЁ‹гЂ‚ењЁе‡єзЋ°жњЌеЉЎзЅ‘ж јд№‹е‰ЌпјЊж€‘д»¬ењЁеѕ®жњЌеЉЎеє”з”ЁзЁ‹еєЏиї›зЁ‹е†…е¤„зђ†жњЌеЉЎйЂљи®ЇйЂ»иѕ‘пјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊз†”ж–­пјЊй‡ЌиЇ•пјЊи¶…ж—¶з­‰йЂ»иѕ‘пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ<br>

  <img src="/img/istio-install_and_example/5-a.png" alt="">

<br>
йЂљиї‡еЇ№иї™йѓЁе€†иґџиґЈжњЌеЉЎйЂљи®Їзљ„йЂ»иѕ‘иї›иЎЊжЉЅи±Ўе’ЊеЅ’зєіпјЊеЏЇд»ҐеЅўж€ђдёЂдёЄд»Јз Ѓеє“дѕ›еє”з”ЁзЁ‹еєЏи°ѓз”ЁгЂ‚дЅ†еє”з”ЁзЁ‹еєЏиїжЇйњЂи¦Ѓе¤„зђ†е’Њеђ„з§ЌиЇ­иЁЂд»Јз Ѓеє“зљ„и°ѓз”Ёз»†иЉ‚пјЊе№¶дё”еђ„з§Ќд»Јз Ѓеє“дє’дёЌе…је®№пјЊеЇји‡ґеЇ№еє”з”ЁзЁ‹еєЏдЅїз”Ёзљ„иЇ­иЁЂе’Њд»Јз ЃжЎ†жћ¶жњ‰иѕѓе¤§й™ђе€¶гЂ‚</p>
<p>е¦‚жћњж€‘д»¬ж›ґиї›дёЂж­ҐпјЊе°†иї™йѓЁе€†йЂ»иѕ‘д»Ћеє”з”ЁзЁ‹еєЏиї›зЁ‹дё­жЉЅеЏ–е‡єжќҐпјЊдЅњдёєдёЂдёЄеЌ•з‹¬зљ„иї›зЁ‹иї›иЎЊйѓЁзЅІпјЊе№¶е°†е…¶дЅњдёєжњЌеЉЎй—ґзљ„йЂљдїЎд»Јзђ†пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ<br>

  <img src="/img/istio-install_and_example/6-a.png" alt="">

<br>
е› дёєйЂљи®Їд»Јзђ†иї›зЁ‹е’Њеє”з”Ёиї›зЁ‹дёЂиµ·йѓЁзЅІпјЊе› ж­¤еЅўи±Ўењ°жЉЉиї™з§ЌйѓЁзЅІж–№ејЏз§°дёєвЂњsidecarвЂќпј€дё‰иЅ®ж‘©ж‰зљ„жЊЋж–—пј‰гЂ‚

  <img src="/img/istio-install_and_example/sidecar.jpg" alt="">


еє”з”Ёй—ґзљ„ж‰Ђжњ‰жµЃй‡ЏйѓЅйњЂи¦Ѓз»Џиї‡д»Јзђ†пјЊз”±дєЋд»Јзђ†д»Ґsidecarж–№ејЏе’Њеє”з”ЁйѓЁзЅІењЁеђЊдёЂеЏ°дё»жњєдёЉпјЊеє”з”Ёе’Њд»Јзђ†д№‹й—ґзљ„йЂљи®Їиў«и®¤дёєжЇеЏЇйќ зљ„гЂ‚з„¶еђЋз”±д»Јзђ†жќҐиґџиґЈж‰ѕе€°з›®зљ„жњЌеЉЎе№¶иґџиґЈйЂљи®Їзљ„еЏЇйќ жЂ§е’Ње®‰е…Ёз­‰й—®йўгЂ‚</p>
<p>еЅ“жњЌеЉЎе¤§й‡ЏйѓЁзЅІж—¶пјЊйљЏзќЂжњЌеЉЎйѓЁзЅІзљ„sidecarд»Јзђ†д№‹й—ґзљ„иїћжЋҐеЅўж€ђдє†дёЂдёЄе¦‚дё‹е›ѕж‰Ђз¤єзљ„зЅ‘ж јпјЊиў«з§°д№‹дёєService Meshпј€жњЌеЉЎзЅ‘ж јпј‰пјЊд»ЋиЂЊеѕ—е‡єе¦‚дё‹зљ„жњЌеЉЎзЅ‘ж је®љд№‰гЂ‚</p>
<p><em>жњЌеЉЎзЅ‘ж јжЇдёЂдёЄеџєзЎЂи®ѕж–Ѕе±‚пјЊз”ЁдєЋе¤„зђ†жњЌеЉЎй—ґйЂљдїЎгЂ‚дє‘еЋџз”џеє”з”Ёжњ‰зќЂе¤Ќжќ‚зљ„жњЌеЉЎж‹“ж‰‘пјЊжњЌеЉЎзЅ‘ж јдїќиЇЃиЇ·ж±‚еЏЇд»ҐењЁиї™дє›ж‹“ж‰‘дё­еЏЇйќ ењ°з©їжў­гЂ‚ењЁе®ћй™…еє”з”ЁеЅ“дё­пјЊжњЌеЉЎзЅ‘ж јйЂљеёёжЇз”±дёЂзі»е€—иЅ»й‡Џзє§зљ„зЅ‘з»њд»Јзђ†з»„ж€ђзљ„пјЊе®ѓд»¬дёЋеє”з”ЁзЁ‹еєЏйѓЁзЅІењЁдёЂиµ·пјЊдЅ†еє”з”ЁзЁ‹еєЏдёЌйњЂи¦ЃзџҐйЃ“е®ѓд»¬зљ„е­ењЁгЂ‚</em></p>
<p>_William Morgan <em><a href="https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/"><em>WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?</em></a></em>                                               _</p>
<p>
  <img src="/img/istio-install_and_example/mesh1.png" alt="">

</p>
<p>дє†и§Јдє†жњЌеЉЎзЅ‘ж јзљ„еџєжњ¬ж¦‚еїµпјЊдё‹дёЂж­Ґд»‹з»ЌдёЂдё‹<a href="https://istio.io/">Istio</a>гЂ‚IstioжЇжќҐи‡ЄGoogleпјЊIBMе’ЊLyftзљ„дёЂдёЄService Meshпј€жњЌеЉЎзЅ‘ж јпј‰ејЂжєђйЎ№з›®пјЊжЇGoogleз»§Kubernetesд№‹еђЋзљ„еЏ€дёЂе¤§дЅњпјЊIstioжћ¶жћ„е…€иї›пјЊи®ѕи®Ўеђ€зђ†пјЊе€љдёЂе®Јеёѓе°±иЋ·еѕ—дє†LinkerdпјЊnginmeshз­‰е…¶д»–Service MeshйЎ№з›®зљ„еђ€дЅњд»ҐеЏЉRed hat/Pivotal/Weaveworks/Tigera/Datawireз­‰зљ„з§ЇжћЃе“Ќеє”гЂ‚<br>

  <img src="/img/istio-install_and_example/Istio-Architecture.PNG" alt="">

<br>
еЏЇд»Ґи®ѕжѓіпјЊењЁдёЌд№…зљ„е°†жќҐпјЊеѕ®жњЌеЉЎзљ„ж ‡е‡†еџєзЎЂи®ѕж–Ѕе°†жЇй‡‡з”Ёkubernetesиї›иЎЊжњЌеЉЎйѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊй‡‡з”ЁIstioе¤„зђ†жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†пјЊдё¤иЂ…з›ёиѕ…з›ёж€ђпјЊзјєдёЂдёЌеЏЇгЂ‚</p>
<h2 id="е®‰иЈ…kubernetes">е®‰иЈ…Kubernetes</h2>
<p>IstioжЇеѕ®жњЌеЉЎйЂљи®Їе’ЊжІ»зђ†зљ„еџєзЎЂи®ѕж–Ѕе±‚пјЊжњ¬иє«е№¶дёЌиґџиґЈжњЌеЉЎзљ„йѓЁзЅІе’Њй›†зѕ¤з®Ўзђ†пјЊе› ж­¤йњЂи¦Ѓе’ЊKubernetesз­‰жњЌеЉЎзј–жЋ’е·Ґе…·еЌЏеђЊе·ҐдЅњгЂ‚</p>
<p>IstioењЁжћ¶жћ„и®ѕи®ЎдёЉж”ЇжЊЃеђ„з§ЌжњЌеЉЎйѓЁзЅІе№іеЏ°пјЊеЊ…ж‹¬kubernetesпјЊcloud foundryпјЊMesosз­‰пјЊдЅ†IstioдЅњдёєGoogleдєІе„їе­ђпјЊеЇ№и‡Єе®¶е…„ејџKubernetesзљ„ж”ЇжЊЃи‚Їе®љжЇй¦–е…€иЂѓи™‘зљ„гЂ‚з›®е‰Ќз‰€жњ¬зљ„0.2з‰€жњ¬зљ„ж‰‹е†Њдё­д№џеЏЄжњ‰Kubernetesй›†ж€ђзљ„е®‰иЈ…иЇґжЋпјЊе…¶е®ѓйѓЁзЅІе№іеЏ°е’ЊIstioзљ„й›†ж€ђе°†ењЁеђЋз»­з‰€жњ¬дё­ж”ЇжЊЃгЂ‚</p>
<p>д»ЋIstioжЋ§е€¶йќўPilotзљ„жћ¶жћ„е›ѕеЏЇд»Ґзњ‹е€°еђ„з§ЌйѓЁзЅІе№іеЏ°еЏЇд»ҐйЂљиї‡жЏ’д»¶ж–№ејЏй›†ж€ђе€°Istioдё­пјЊдёєIstioжЏђдѕ›жњЌеЉЎжіЁе†Ње’ЊеЏ‘зЋ°еЉџиѓЅгЂ‚</p>
<p>
  <img src="/img/istio-install_and_example/PilotAdapters.PNG" alt="">

</p>
<p>kubernetesй›†зѕ¤зљ„йѓЁзЅІиѕѓдёєе¤Ќжќ‚пјЊ<a href="http://rancher.com">Rancher</a>жЏђдѕ›дє†kubernetesйѓЁзЅІжЁЎжќїпјЊйЂљиї‡дёЂй”®ејЏе®‰иЈ…пјЊеЏЇд»Ґе¤§е¤§з®ЂеЊ–kubernetesй›†зѕ¤зљ„е®‰иЈ…йѓЁзЅІиї‡зЁ‹гЂ‚</p>
<p>жњ¬ж–‡зљ„жµ‹иЇ•зЋЇеўѓдёєдё¤еЏ°и™љжњєз»„ж€ђзљ„й›†зѕ¤пјЊж“ЌдЅњзі»з»џжЇUbuntu 16.04.3 LTSгЂ‚дё¤еЏ°и™љжњєзљ„ењ°еќЂе€†е€«дёєпјљ<br>
Rancher Server: 10.12.25.60<br>
е·ҐдЅњиЉ‚з‚№: 10.12.25.116</p>
<p>йЂљиї‡Rancherе®‰иЈ…Kubernetesй›†зѕ¤зљ„з®Ђи¦Ѓж­ҐйЄ¤е¦‚дё‹пјљ</p>
<h3 id="ењЁserverе’Ње·ҐдЅњиЉ‚з‚№дёЉе®‰иЈ…docker">ењЁserverе’Ње·ҐдЅњиЉ‚з‚№дёЉе®‰иЈ…docker</h3>
<p>е› дёєk8sе№¶дёЌж”ЇжЊЃжњЂж–°з‰€жњ¬зљ„dockerпјЊе› ж­¤йњЂж №жЌ®иЇҐйЎµйќўе®‰иЈ…жЊ‡е®љз‰€жњ¬зљ„docker<br>
<a href="http://rancher.com/docs/rancher/v1.6/en/hosts/">http://rancher.com/docs/rancher/v1.6/en/hosts/</a> ,з›®е‰ЌжЇ1.12з‰€жњ¬гЂ‚</p>
<pre tabindex="0"><code>curl https://releases.rancher.com/install-docker/1.12.sh | sh
</code></pre><p>е¦‚жћњйњЂи¦Ѓд»Ґйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤пјЊеЏ‚иЂѓ<a href="http://zhaohuabing.com/2018/02/09/docker-without-sudo/">е¦‚дЅ•дЅїз”Ёйќћrootз”Ёж€·ж‰§иЎЊdockerе‘Ѕд»¤</a>гЂ‚</p>
<h3 id="еђЇеЉЁrancher-server">еђЇеЉЁRancher server</h3>
<pre tabindex="0"><code>sudo docker run -d --restart=always -p 8080:8080 rancher/server
</code></pre><h3 id="з™»еЅ•rancherз®Ўзђ†з•Њйќўе€›е»єk8sй›†зѕ¤">з™»еЅ•Rancherз®Ўзђ†з•ЊйќўпјЊе€›е»єk8sй›†зѕ¤</h3>
<p>Rancher з®Ўзђ†з•Њйќўзљ„зјєзњЃз«ЇеЏЈдёє8080пјЊењЁжµЏи§€е™Ёдё­ж‰“ејЂиЇҐз•ЊйќўпјЊйЂљиї‡иЏњеЌ•Default-&gt;Manage Environment-&gt;Add Environmentж·»еЉ дёЂдёЄkubernetesй›†зѕ¤гЂ‚иї™й‡ЊйњЂи¦Ѓиѕ“е…ҐеђЌз§°kubernetesпјЊжЏЏиї°пјЊз„¶еђЋйЂ‰ж‹©kubernetes templateпјЊз‚№е‡»createпјЊе€›е»єKubernetesзЋЇеўѓгЂ‚
  <img src="/img/istio-install_and_example/Rancher.PNG" alt="">

</p>
<p>з‚№е‡»иЏњеЌ•е€‡жЌўе€°kubernetes EnvironmentпјЊз„¶еђЋз‚№е‡»еЏідёЉж–№зљ„Add a hostпјЊж·»еЉ дёЂеЏ°hostе€°kubernetesй›†зѕ¤дё­гЂ‚жіЁж„Џж·»еЉ е€°й›†зѕ¤дё­зљ„hostдёЉеї…йЎ»е…€е®‰иЈ…еҐЅз¬¦еђ€и¦Ѓж±‚зљ„dockerз‰€жњ¬гЂ‚</p>
<p>з„¶еђЋж №жЌ®RancherйЎµйќўдёЉзљ„жЏђз¤єењЁhostдёЉж‰§иЎЊи„љжњ¬еђЇеЉЁRancher agentпјЊд»Ґе°†hostеЉ е…Ґranch clusterгЂ‚жіЁж„Џи„љжњ¬дё­еЊ…еђ«дє†rancher serverзљ„ењ°еќЂпјЊењЁhostдёЉеї…йЎ»еЏЇд»ҐpingйЂљиЇҐењ°еќЂгЂ‚
  <img src="/img/istio-install_and_example/Rancher-add-host.PNG" alt="">

</p>
<p>hostеЉ е…ҐclusterеђЋRancherдјљењЁhostдёЉpull kubernetesзљ„imagesе№¶еђЇеЉЁkubernetesз›ёе…іжњЌеЉЎпјЊж №жЌ®е®‰иЈ…зЋЇеўѓж‰ЂењЁзЅ‘з»њжѓ…е†µдёЌеђЊйњЂи¦Ѓз­‰еѕ…е‡ е€†й’џе€°е‡ еЌЃе€†й’џдёЌз­‰гЂ‚</p>
<h3 id="е®‰иЈ…е№¶й…ЌзЅ®kubectl">е®‰иЈ…е№¶й…ЌзЅ®kubectl</h3>
<p>еѕ…Rancherз•ЊйќўжЏђз¤єkubernetesе€›е»єж€ђеЉџеђЋпјЊе®‰иЈ…kubernetesе‘Ѕд»¤иЎЊе·Ґе…·kubectl</p>
<pre tabindex="0"><code>curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.7.4/bin/linux/amd64/kubectl

chmod +x ./kubectl

sudo mv ./kubectl /usr/local/bin/kubectl
</code></pre><p>з™»еЅ•Rancherз®Ўзђ†з•Њйќў, е°† All Environments-&gt;kubernetes-&gt;KUBERNETES-&gt;CLI create config зљ„е†…е®№ж‹·иґќе€°~/.kube/config дё­пјЊд»Ґй…ЌзЅ®Kubectlе’Њkubernetes serverзљ„иїћжЋҐдїЎжЃЇгЂ‚
  <img src="/img/istio-install_and_example/Rancher-kubectl.PNG" alt="">

</p>
<h2 id="е®‰иЈ…istio">е®‰иЈ…Istio</h2>
<p>IstioжЏђдѕ›дє†е®‰иЈ…и„љжњ¬пјЊиЇҐи„љжњ¬дјљж №жЌ®ж“ЌдЅњзі»з»џдё‹иЅЅз›ёеє”зљ„Istioе®‰иЈ…еЊ…е№¶и§ЈеЋ‹е€°еЅ“е‰Ќз›®еЅ•гЂ‚</p>
<pre tabindex="0"><code> curl -L https://git.io/getLatestIstio | sh -
</code></pre><p>ж №жЌ®и„љжњ¬зљ„жЏђз¤єе°†Istioе‘Ѕд»¤иЎЊж‰ЂењЁи·Їеѕ„еЉ е…Ґе€°зі»з»џPATHзЋЇеўѓеЏй‡Џдё­</p>
<pre tabindex="0"><code>export PATH=&#34;$PATH:/home/ubuntu/istio-0.2.10/bin&#34;
</code></pre><p>ењЁkubernetesй›†зѕ¤дё­йѓЁзЅІIstioжЋ§е€¶йќўжњЌеЉЎ</p>
<pre tabindex="0"><code>kubectl apply -f istio-0.2.10/install/kubernetes/istio.yaml
</code></pre><p>зЎ®и®¤IstioжЋ§е€¶йќўжњЌеЉЎе·Іж€ђеЉџйѓЁзЅІгЂ‚Kubernetesдјље€›е»єдёЂдёЄistio-system namespaceпјЊе°†Istioз›ёе…іжњЌеЉЎйѓЁзЅІењЁиЇҐnamespaceдё­гЂ‚</p>
<p>зЎ®и®¤Istioз›ёе…іServiceзљ„йѓЁзЅІзЉ¶жЂЃ</p>
<pre tabindex="0"><code>kubectl get svc -n istio-system
</code></pre><pre tabindex="0"><code>NAME            CLUSTER-IP      EXTERNAL-IP        PORT(S)                                                  AGE
istio-egress    10.43.192.74    &lt;none&gt;             80/TCP                                                   25s
istio-ingress   10.43.16.24     10.12.25.116,...   80:30984/TCP,443:30254/TCP                               25s
istio-mixer     10.43.215.250   &lt;none&gt;             9091/TCP,9093/TCP,9094/TCP,9102/TCP,9125/UDP,42422/TCP   26s
istio-pilot     10.43.211.140   &lt;none&gt;             8080/TCP,443/TCP                                         25s
</code></pre><p>зЎ®и®¤Istioз›ёе…іPodзљ„йѓЁзЅІзЉ¶жЂЃ</p>
<pre tabindex="0"><code>kubectl get pods -n istio-system
</code></pre><pre tabindex="0"><code>NAME                             READY     STATUS    RESTARTS   AGE
istio-ca-367485603-qvbfl         1/1       Running   0          2m
istio-egress-3571786535-gwbgk    1/1       Running   0          2m
istio-ingress-2270755287-phwvq   1/1       Running   0          2m
istio-mixer-1505455116-9hmcw     2/2       Running   0          2m
istio-pilot-2278433625-68l34     1/1       Running   0          2m
</code></pre><p>д»ЋдёЉйќўзљ„иѕ“е‡єеЏЇд»Ґзњ‹е€°пјЊиї™й‡ЊйѓЁзЅІзљ„дё»и¦ЃжЇIstioжЋ§е€¶йќўзљ„жњЌеЉЎпјЊиЂЊж•°жЌ®йќўзљ„зЅ‘з»њд»Јзђ†и¦Ѓе¦‚дЅ•йѓЁзЅІе‘ўпјџ<br>
ж №жЌ®е‰ЌйќўжњЌеЉЎзЅ‘ж јзљ„жћ¶жћ„д»‹з»ЌеЏЇд»Ґеѕ—зџҐпјЊзЅ‘з»њд»Јзђ†жЇйљЏзќЂеє”з”ЁзЁ‹еєЏд»Ґsidecarзљ„ж–№ејЏйѓЁзЅІзљ„пјЊењЁдё‹йќўйѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏж—¶дјљжј”з¤єе¦‚дЅ•йѓЁзЅІзЅ‘з»њд»Јзђ†гЂ‚</p>
<h2 id="йѓЁзЅІbookinfoз¤єдѕ‹зЁ‹еєЏ">йѓЁзЅІBookinfoз¤єдѕ‹зЁ‹еєЏ</h2>
<p>ењЁдё‹иЅЅзљ„Istioе®‰иЈ…еЊ…зљ„samplesз›®еЅ•дё­еЊ…еђ«дє†з¤єдѕ‹еє”з”ЁзЁ‹еєЏгЂ‚</p>
<p>йЂљиї‡дё‹йќўзљ„е‘Ѕд»¤йѓЁзЅІBookinfoеє”з”Ё</p>
<pre tabindex="0"><code>kubectl apply -f &lt;(istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml)
</code></pre><p>зЎ®и®¤BookinfoжњЌеЉЎе·Із»ЏеђЇеЉЁ</p>
<pre tabindex="0"><code>kubectl get services
</code></pre><pre tabindex="0"><code>NAME          CLUSTER-IP      EXTERNAL-IP   PORT(S)    AGE
details       10.43.175.204   &lt;none&gt;        9080/TCP   6m
kubernetes    10.43.0.1       &lt;none&gt;        443/TCP    5d
productpage   10.43.19.154    &lt;none&gt;        9080/TCP   6m
ratings       10.43.50.160    &lt;none&gt;        9080/TCP   6m
reviews       10.43.219.248   &lt;none&gt;        9080/TCP   6m
</code></pre><p>ењЁжµЏи§€е™Ёдё­ж‰“ејЂеє”з”ЁзЁ‹еєЏйЎµйќўпјЊењ°еќЂдёєistio-ingressзљ„External IP</p>
<p><code>http://10.12.25.116/productpage</code><br>

  <img src="/img/istio-install_and_example/Bookinfo.PNG" alt="">

</p>
<h2 id="зђ†и§Јistio-proxyе®ћзЋ°еЋџзђ†">зђ†и§ЈIstio Proxyе®ћзЋ°еЋџзђ†</h2>
<p>жњЌеЉЎзЅ‘ж јз›ёеЇ№дєЋsprint cloudз­‰еѕ®жњЌеЉЎд»Јз Ѓеє“зљ„дёЂе¤§дјеЉїжЇе…¶еЇ№еє”з”ЁзЁ‹еєЏж— дѕµе…ҐпјЊењЁдёЌдї®ж”№еє”з”ЁзЁ‹еєЏд»Јз Ѓзљ„е‰ЌжЏђдё‹еЇ№еє”з”ЁжњЌеЉЎд№‹й—ґзљ„йЂљдїЎиї›иЎЊжЋҐз®ЎпјЊIstioжЇе¦‚дЅ•еЃље€°иї™з‚№зљ„е‘ўпјџдё‹йќўйЂљиї‡з¤єдѕ‹зЁ‹еєЏзљ„йѓЁзЅІе‰–жћђе…¶дё­зљ„еЋџзђ†гЂ‚</p>
<p>е¦‚жћњз†џж‚‰kubernetesзљ„еє”з”ЁйѓЁзЅІиї‡зЁ‹пјЊж€‘д»¬зџҐйЃ“Bookinfoеє”з”ЁзЁ‹еєЏзљ„ж ‡е‡†йѓЁзЅІж–№ејЏжЇиї™ж ·зљ„пјљ</p>
<pre tabindex="0"><code>kubectl apply -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml
</code></pre><p>дЅ†д»ЋдёЉйќўзљ„йѓЁзЅІиї‡зЁ‹еЏЇд»Ґзњ‹е€°пјЊkubectl applyе‘Ѕд»¤зљ„иѕ“е…Ґе№¶дёЌжЇдёЂдёЄkubernetes yamlж–‡д»¶пјЊиЂЊжЇ<code>istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml</code>е‘Ѕд»¤зљ„иѕ“е‡єгЂ‚</p>
<p>иї™ж®µе‘Ѕд»¤ењЁиї™й‡Њиµ·е€°дє†д»Ђд№€дЅњз”Ёе‘ўпјџйЂљиї‡еЌ•з‹¬иїђиЎЊиЇҐе‘Ѕд»¤е№¶е°†иѕ“е‡єдїќе­е€°ж–‡д»¶дё­пјЊж€‘д»¬еЏЇд»ҐжџҐзњ‹istioctl kube-injectе‘Ѕд»¤е€°еє•ењЁиѓЊеђЋжђћдє†д»Ђд№€е°ЏеЉЁдЅњгЂ‚</p>
<pre tabindex="0"><code>istioctl kube-inject -f istio-0.2.10/samples/bookinfo/kube/bookinfo.yaml &gt;&gt; bookinfo_with_sidecar.yaml
</code></pre><p>еЇ№жЇ”bookinfo/_with/_sidecar.yamlж–‡д»¶е’Њbookinfo.yamlпјЊеЏЇд»Ґзњ‹е€°иЇҐе‘Ѕд»¤ењЁbookinfo.yamlзљ„еџєзЎЂдёЉеЃљдє†е¦‚дё‹ж”№еЉЁпјљ</p>
<ul>
<li>
<p>дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄд»Јзђ†containerпјЊиЇҐcontainerз”ЁдєЋе¤„зђ†еє”з”Ёcontainerд№‹й—ґзљ„йЂљдїЎпјЊеЊ…ж‹¬жњЌеЉЎеЏ‘зЋ°пјЊи·Їз”±и§„е€™е¤„зђ†з­‰гЂ‚д»Ћдё‹йќўзљ„й…ЌзЅ®ж–‡д»¶дё­еЏЇд»Ґзњ‹е€°proxy containerйЂљиї‡15001з«ЇеЏЈиї›иЎЊз›‘еђ¬пјЊжЋҐж”¶еє”з”Ёcontainerзљ„жµЃй‡ЏгЂ‚</p>
</li>
<li>
<p>дёєжЇЏдёЄpodеўћеЉ дє†дёЂдёЄinit-containerпјЊиЇҐcontainerз”ЁдєЋй…ЌзЅ®iptableпјЊе°†еє”з”Ёcontainerзљ„жµЃй‡ЏеЇје…Ґе€°д»Јзђ†containerдё­гЂ‚</p>
</li>
</ul>
<pre tabindex="0"><code>  #жіЁе…Ґistio зЅ‘з»њд»Јзђ†
  image: docker.io/istio/proxy_debug:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-proxy
        resources: {}
        securityContext:
          privileged: true
          readOnlyRootFilesystem: false
          runAsUser: 1337
        volumeMounts:
        - mountPath: /etc/istio/proxy
          name: istio-envoy
        - mountPath: /etc/certs/
          name: istio-certs
          readOnly: true
      #дЅїз”Ёinit containerдї®ж”№iptable
      initContainers:
      - args:
        - -p
        - &#34;15001&#34;
        - -u
        - &#34;1337&#34;
        image: docker.io/istio/proxy_init:0.2.10
        imagePullPolicy: IfNotPresent
        name: istio-init
</code></pre><p>д»ЋдёЉйќўзљ„е€†жћђпјЊж€‘д»¬еЏЇд»Ґзњ‹е‡єIstioзљ„kube-injectе·Ґе…·зљ„з”ЁйЂ”еЌіжЇе°†д»Јзђ†sidecarжіЁе…Ґдє†Bookinfoзљ„kubernetes yamlйѓЁзЅІж–‡д»¶дё­гЂ‚йЂљиї‡иЇҐж–№ејЏпјЊдёЌйњЂи¦Ѓз”Ёж€·ж‰‹еЉЁдї®ж”№kubernetesзљ„йѓЁзЅІж–‡д»¶пјЊеЌіеЏЇењЁйѓЁзЅІжњЌеЉЎж—¶е°†sidecarе’Њеє”з”ЁдёЂиµ·йѓЁзЅІгЂ‚</p>
<p>йЂљиї‡е‘Ѕд»¤жџҐзњ‹podдё­йѓЁзЅІзљ„docker containerпјЊзЎ®и®¤жЇеђ¦йѓЁзЅІдє†Istioд»Јзђ†</p>
<pre tabindex="0"><code>kubectl get pods

NAME                              READY     STATUS    RESTARTS   AGE
details-v1-3688945616-8hv8x       2/2       Running   0          1d
productpage-v1-2055622944-cslw1   2/2       Running   0          1d
ratings-v1-233971408-8dcnp        2/2       Running   0          1d
reviews-v1-1360980140-474x6       2/2       Running   0          1d
reviews-v2-1193607610-cfhb5       2/2       Running   0          1d
reviews-v3-3340858212-b5c8k       2/2       Running   0          1d
</code></pre><p>жџҐзњ‹reviews podзљ„дё­зљ„containerпјЊеЏЇд»Ґзњ‹е€°podдё­й™¤reviews containerе¤–иїйѓЁзЅІдє†дёЂдёЄistio-proxy container</p>
<pre tabindex="0"><code>kubectl get pod reviews-v3-3340858212-b5c8k -o jsonpath=&#39;{.spec.containers[*].name}&#39;

reviews istio-proxy
</code></pre><p>иЂЊеє”з”Ёcontainerзљ„жµЃй‡ЏжЇе¦‚дЅ•иў«еЇје…Ґе€°istio-proxyдё­зљ„е‘ўпјџ</p>
<p>еЋџзђ†жЇIstio proxyењЁз«ЇеЏЈ15001иї›иЎЊз›‘еђ¬пјЊpodдё­еє”з”Ёcontainerзљ„жµЃй‡ЏйЂљиї‡iptablesи§„е€™иў«й‡Ќе®љеђ‘е€°15001з«ЇеЏЈдё­гЂ‚дё‹йќўж€‘д»¬иї›е…Ґpodе†…йѓЁпјЊйЂљиї‡з›ёе…іе‘Ѕд»¤жќҐйЄЊиЇЃиї™дёЂз‚№гЂ‚</p>
<p>е…€йЂљиї‡е‘Ѕд»¤иЎЊж‰ѕе€°ratings-v1-233971408-8dcnp podзљ„PIDпјЊд»Ґз”ЁдєЋжџҐзњ‹е…¶network namespaceе…§зљ„iptablesи§„е€™гЂ‚</p>
<pre tabindex="0"><code>CONTAINER_ID=$(kubectl get po ratings-v1-233971408-8dcnp -o jsonpath=&#39;{.status.containerStatuses[0].containerID}&#39; | cut -c 10-21)

PID=$(sudo docker inspect --format &#39;{{ .State.Pid }}&#39; $CONTAINER_ID)
</code></pre><p>еЏЇд»ҐдЅїз”Ёnsenterе‘Ѕд»¤жќҐиї›е…Ґpodзљ„network namespaceж‰§иЎЊе‘Ѕд»¤гЂ‚<br>
дЅїз”Ёnetstatе‘Ѕд»¤еЏЇд»Ґзњ‹е€°istio proxyд»Јзђ†зљ„з›‘еђ¬з«ЇеЏЈ15001</p>
<pre tabindex="0"><code>sudo nsenter -t ${PID} -n netstat -all | grep 15001

tcp        0      0 *:15001                 *:*                     LISTEN
</code></pre><p>дЅїз”Ёiptablesе‘Ѕд»¤еЏЇд»ҐжџҐзњ‹е€°дё‹йќўзљ„и§„е€™</p>
<pre tabindex="0"><code>sudo nsenter -t ${PID} -n iptables -t nat -L -n -v

Chain PREROUTING (policy ACCEPT 0 packets, 0 bytes)
 pkts bytes target     prot opt in     out     source               destination
   16   960 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-prerouting */

Chain INPUT (policy ACCEPT 16 packets, 960 bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain OUTPUT (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination
 1969  118K ISTIO_OUTPUT  tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/install-istio-output */

Chain POSTROUTING (policy ACCEPT 84838 packets, 7963K bytes)
 pkts bytes target     prot opt in     out     source               destination

Chain ISTIO_OUTPUT (1 references)
 pkts bytes target     prot opt in     out     source               destination
    0     0 ISTIO_REDIRECT  all  --  *      lo      0.0.0.0/0           !127.0.0.1            /* istio/redirect-implicit-loopback */
 1969  118K RETURN     all  --  *      *       0.0.0.0/0            0.0.0.0/0            owner UID match 1337 /* istio/bypass-envoy */
    0     0 RETURN     all  --  *      *       0.0.0.0/0            127.0.0.1            /* istio/bypass-explicit-loopback */
    0     0 ISTIO_REDIRECT  all  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-default-outbound */

Chain ISTIO_REDIRECT (3 references)
 pkts bytes target     prot opt in     out     source               destination
   16   960 REDIRECT   tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            /* istio/redirect-to-envoy-port */ redir ports 15001
</code></pre><p>д»Ћpodж‰ЂењЁnetwork namespaceзљ„iptablesи§„е€™дё­еЏЇд»Ґзњ‹е€°пјЊpodзљ„е…ҐеЏЈе’Ње‡єеЏЈжµЃй‡Џе€†е€«йЂљиї‡PREROUTINGе’ЊOUTPUT chainжЊ‡еђ‘дє†и‡Єе®љд№‰зљ„ISTIO/_REDIRECT chainпјЊиЂЊISTIO/_REDIRECT chainдё­зљ„и§„е€™е°†ж‰Ђжњ‰жµЃй‡ЏйѓЅй‡Ќе®љеђ‘е€°дє†istio proxyж­ЈењЁз›‘еђ¬зљ„15001з«ЇеЏЈдё­гЂ‚д»ЋиЂЊе®ћзЋ°дє†еЇ№еє”з”ЁйЂЏжЋзљ„йЂљдїЎд»Јзђ†гЂ‚</p>
<h2 id="жµ‹иЇ•и·Їз”±и§„е€™">жµ‹иЇ•и·Їз”±и§„е€™</h2>
<p>е¤љж¬Ўе€·ж–°Bookinfoеє”з”Ёзљ„productpageйЎµйќўпјЊж€‘д»¬дјљеЏ‘зЋ°иЇҐйЎµйќўдё­жѕз¤єзљ„Book Reviewsжњ‰ж—¶еЂ™жњ‰её¦зєўжџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶жњ‰её¦й»‘жџзљ„иЇ„д»·дїЎжЃЇпјЊжњ‰ж—¶еЏЄжњ‰ж–‡е­—иЇ„д»·дїЎжЃЇгЂ‚<br>
иї™жЇе› дёєBookinfoеє”з”ЁзЁ‹еєЏйѓЁзЅІдє†3дёЄз‰€жњ¬зљ„ReviewsжњЌеЉЎпјЊжЇЏдёЄз‰€жњ¬зљ„иї”е›ћз»“жћњдёЌеђЊпјЊењЁжІЎжњ‰и®ѕзЅ®и·Їз”±и§„е€™ж—¶пјЊзјєзњЃзљ„и·Їз”±дјље°†иЇ·ж±‚йљЏжњєи·Їз”±е€°жЇЏдёЄз‰€жњ¬зљ„жњЌеЉЎдёЉпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ</p>
<p>
  <img src="/img/istio-install_and_example/withistio.svg" alt="">

</p>
<p>йЂљиї‡е€›е»єдёЂжќЎи·Їз”±и§„е€™route-rule.yamlпјЊе°†иЇ·ж±‚жµЃй‡ЏйѓЅеј•еЇје€°Reviews-v1жњЌеЉЎдёЉ</p>
<pre tabindex="0"><code>apiVersion: config.istio.io/v1alpha2
kind: RouteRule
metadata:
  name: reviews-default
spec:
  destination:
    name: reviews
  precedence: 1
  route:
  - labels:
      version: v1
</code></pre><p>еђЇз”ЁиЇҐи·Їз”±и§„е€™</p>
<pre tabindex="0"><code>istioctl create -f route-rule.yaml -n default
</code></pre><p>е†Ќж¬Ўж‰“ејЂproductpageйЎµйќў, ж— и®єе€·ж–°е¤ље°‘ж¬ЎпјЊжѕз¤єзљ„йЎµйќўе°†е§‹з»€жЇv1з‰€жњ¬зљ„иѕ“е‡єпјЊеЌідёЌеё¦жџзљ„иЇ„д»·е†…е®№гЂ‚<br>

  <img src="/img/istio-install_and_example/Bookinfo-no-star.PNG" alt="">

<br>
е€ й™¤иЇҐи·Їз”±и§„е€™</p>
<pre tabindex="0"><code>istioctl delete -f route_rule.yaml -n default
</code></pre><p>з»§з»­е€·ж–°productpageйЎµйќў,е°†й‡Ќж–°йљЏжњєе‡єзЋ°дё‰дёЄз‰€жњ¬зљ„иЇ„д»·е†…е®№йЎµйќўгЂ‚</p>
<h2 id="е€†еёѓејЏи°ѓз”ЁиїЅиёЄ">е€†еёѓејЏи°ѓз”ЁиїЅиёЄ</h2>
<p>й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ <code>istio-0.2.10/install/kubernetes/addons/zipkin.yaml</code> йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®zipkinз•ЊйќўгЂ‚</p>
<pre tabindex="0"><code>apiVersion: v1
kind: Service
metadata:
  name: zipkin
  namespace: istio-system
spec:
  ports:
  - name: http
    port: 9411
    nodePort: 30001
  selector:
    app: zipkin
  type: NodePort
</code></pre><p>йѓЁзЅІzipkinжњЌеЉЎгЂ‚</p>
<pre tabindex="0"><code>kubectl apply -f istio-0.2.10/install/kubernetes/addons/zipkin.yaml
</code></pre><p>ењЁжµЏи§€е™Ёдё­ж‰“ејЂzipkinйЎµйќўпјЊеЏЇд»ҐиїЅиёЄдёЂдёЄз«Їе€°з«Їи°ѓз”Ёз»Џиї‡дє†е“Єдє›жњЌеЉЎпјЊд»ҐеЏЉеђ„дёЄжњЌеЉЎиЉ±иґ№зљ„ж—¶й—ґз­‰иЇ¦з»†дїЎжЃЇпјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ<br>
<code>http://10.12.25.116:30001</code><br>

  <img src="/img/istio-install_and_example/zipkin.PNG" alt="">

</p>
<h2 id="жЂ§иѓЅжЊ‡ж ‡з›‘жЋ§">жЂ§иѓЅжЊ‡ж ‡з›‘жЋ§</h2>
<p>й¦–е…€дї®ж”№е®‰иЈ…еЊ…дё­зљ„ <code>istio-0.2.10/install/kubernetes/addons/grafana.yaml</code> йѓЁзЅІж–‡д»¶пјЊеўћеЉ Nodeport,д»ҐдѕїиѓЅењЁkubernetesй›†зѕ¤е¤–йѓЁи®їй—®grafanaз•ЊйќўгЂ‚</p>
<pre tabindex="0"><code>apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: istio-system
spec:
  ports:
  - port: 3000
    protocol: TCP
    name: http
    nodePort: 30002
  selector:
    app: grafana
  type: NodePort
</code></pre><p>prometheusз”ЁдєЋж”¶й›†е’Ње­е‚ЁдїЎжЃЇжЊ‡ж ‡пјЊgrafanaз”ЁдєЋе°†жЂ§иѓЅжЊ‡ж ‡дїЎжЃЇиї›иЎЊеЏЇи§†еЊ–е‘€зЋ°пјЊйњЂи¦ЃеђЊж—¶йѓЁзЅІprometheusе’ЊgrafanaжњЌеЉЎгЂ‚</p>
<pre tabindex="0"><code>kubectl apply -f istio-0.2.10/install/kubernetes/addons/prometheus.yaml

kubectl apply -f istio-0.2.10/install/kubernetes/addons/grafana.yaml
</code></pre><p>й¦–е…€ењЁжµЏи§€е™Ёдё­ж‰“ејЂBookinfoзљ„йЎµйќў<code>http://10.12.25.116/productpage</code>пјЊе€·ж–°е‡ ж¬ЎпјЊд»Ґе€¶йЂ дёЂдє›жЂ§иѓЅжЊ‡ж ‡ж•°жЌ®гЂ‚</p>
<p>з„¶еђЋж‰“ејЂgrafanaйЎµйќўжџҐзњ‹жЂ§иѓЅжЊ‡ж ‡<code>http://10.12.25.116:30002/dashboard/db/istio-dashboard</code>пјЊе¦‚дё‹е›ѕж‰Ђз¤єпјљ<br>

  <img src="/img/istio-install_and_example/grafana.PNG" alt="">

</p>
<h2 id="еЏ‚иЂѓ">еЏ‚иЂѓ</h2>
<ul>
<li><a href="https://istio.io/docs/">Istioе®ж–№ж–‡жЎЈ</a></li>
<li><a href="http://philcalcado.com/2017/08/03/pattern_service_mesh.html">Pattern: Service Mesh</a></li>
<li><a href="https://buoyant.io/2017/04/25/whats-a-service-mesh-and-why-do-i-need-one/">WHATвЂ™S A SERVICE MESH? AND WHY DO I NEED ONE?</a></li>
<li><a href="https://thenewstack.io/hackers-guide-kubernetes-networking/">A HackerвЂ™s Guide to Kubernetes Networking</a></li>
</ul>
            
             
            




<link href="https://xxx.xxx.com/dist/Artalk.css" rel="stylesheet" />
<script src="https://xxx.xxx.com/dist/Artalk.js"></script>


<div id="Comments"></div>

<script>
    Artalk.init({
        el: '#Comments',
        pageKey: 'http:\/\/localhost:1313\/site\/2017\/11\/04\/istio-install_and_example\/',
        pageTitle: 'IstioеЏЉBookinfoз¤єдѕ‹зЁ‹еєЏе®‰иЈ…иЇ•з”Ёз¬”и®°',
        server: 'https:\/\/xxx.xxx.com',
        site: 'xxx blog',
    })
</script>


            
            </div>
            
            

<div class="
    col-lg-3 col-lg-offset-0
    col-md-3 col-md-offset-0
    col-sm-12
    col-xs-12
    sidebar-container
">
    
	
    <section class="visible-md visible-lg">
	
        <div class="short-about">
            
            <a href="/about">
               <img src="/site/img/zhaohuabing.png" alt="avatar" style="cursor: pointer" />
            </a>
            
            
                <p>Software Developer, Open Source Enthusiast and Life Adventurer</p>
            
           
           <ul class="list-inline">
               
               <li>
                   <a href="mailto:youremail@gmail.com">
                      <span class="fa-stack fa-lg">
                          <i class="fa fa-circle fa-stack-2x"></i>
                          <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                      </span>
                   </a>
               </li>
               
               
               
               
               
               
               <li>
                   <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               <li>
                   <a target="_blank" href="https://github.com/yourgithub">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
               
               <li>
                   <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                       <span class="fa-stack fa-lg">
                           <i class="fas fa-circle fa-stack-2x"></i>
                           <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                       </span>
                   </a>
               </li>
               
               
               
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
            
            
            
               
               
               
               
                </ul>
            </div>
    </section>
	
    
    
    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FEATURED TAGS</h5>
        <div class="tags">
            
            
               
            
               
            
               
                    <a href="/tags/docker" title="docker">
                        docker
                    </a>
               
            
               
            
               
                    <a href="/tags/istio" title="istio">
                        istio
                    </a>
               
            
               
            
               
                    <a href="/tags/kubernetes" title="kubernetes">
                        kubernetes
                    </a>
               
            
               
                    <a href="/tags/microservice" title="microservice">
                        microservice
                    </a>
               
            
               
            
               
                    <a href="/tags/security" title="security">
                        security
                    </a>
               
            
               
                    <a href="/tags/service-mesh" title="service mesh">
                        service mesh
                    </a>
               
            
               
                    <a href="/tags/tips" title="tips">
                        tips
                    </a>
               
            
               
            
               
            
               
            
        </div>
    </section>
    

    
    
    <section>
        <hr class="hidden-sm hidden-xs">
        <h5>FRIENDS</h5>
        <ul class="list-inline">
            
            <li><a target="_blank" href="https://zhaozhihan.com">Lindaзљ„еЌље®ў</a></li>
            
        </ul>
    </section>
    
    
</div>

        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="mailto:youremail@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    

		            
                    
                    <li>
                        <a target="_blank" href="/site/your%20wechat%20qr%20code%20image">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/yourgithub">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/yourlinkedinid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    <li>
                        <a target="_blank" href="https://stackoverflow.com/users/yourstackoverflowid">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    
                    
            
            
            
           
                   <li>
                       <a href='' rel="alternate" type="application/rss+xml" title="Huabing Blog" >
                           <span class="fa-stack fa-lg">
                               <i class="fas fa-circle fa-stack-2x"></i>
                               <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                           </span>
                       </a>
                   </li>
            
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Huabing Blog 2025
                    
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/site\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>


==============================
